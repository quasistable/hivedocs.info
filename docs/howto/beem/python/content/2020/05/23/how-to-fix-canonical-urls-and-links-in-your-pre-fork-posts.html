<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="/assets/images/sticker.png" /><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>How to fix canonical URLs and links in your pre-fork posts | Hive Chain Documentation</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="How to fix canonical URLs and links in your pre-fork posts" />
<meta name="author" content="holger80" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="As you can see here, I have some links in my blogs written before the hive-fork pointing to steemit.com. It&#39;s time to replace them all. ![steemit link in my blog](https://images.hive.blog/DQmfDpnHj9kXEqo2ZXNSAkaPbFb4svFqWXLyUEdEuniqd3e/steemit%20link%20in%20my%20blog) Almost all blog posts written before the fork are written with apps that are not included in [hivescript](https://www.npmjs.com/package/@hivechain/hivescript) and lead to problems with canonical URLs: As it can be seen here, my old post [update for beem: first release for HF 21](https://peakd.com/beem/@holger80/update-for-beem-first-release-for-hf-21) result in different canonical URLs on different front-ends. This is then handled as duplicated content by the search engines. The post was written through palnet. As there is no entry for palnet in [hivescript](https://www.npmjs.com/package/@hivechain/hivescript), the front-ends to not know how to build a proper canonical URL: ![wrong canonical url](https://images.hive.blog/DQmXe1t2QwJtizzVXDpG89GVNxyYAorFu6Tjj5LRnXkEJss/wrong%20canonical%20url) # Fixing The mess Fixing means: * replacing all steemit, steempeak, ... links with relative links * setting `canonical_url` for each post written before 2020-03-20, to fix canonical URLs. ### Small update The script uses now relative links, when found a link to steemit.com ..., it will be replaced by a relative link. A relative link looks like: `[holger80](/@holger80)` and `[this post](/hive-139531/@holger80/how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts)` ### Small update 2 There are now three boolean parameters, which can be used to set the following: * `replace_steemit_links`: when True, steemit, ... links will be replaced * `use_relative_links`: when True, relative links will be used (starting with `/`) * `add_canonical_url`: When True, a canonical_url is added to the metadata ### Small update 3 It is now possible to use the same script for fixing the canonical links on STEEM for all written post before the fork. When you want to use the script on STEEM: * set `target_blockchain = &quot;steem&quot;` When you want to use the script on HIVE: * set `target_blockchain = &quot;hive&quot;` ### Python code The following script is using beem and will do exactly this. beem can be installed by ``` pip install beem ``` or ``` conda install beem ``` Store the following as `fix_canonical_urls_hive.py`: ``` #!/usr/bin/python from beem import Hive, Steem from beem.utils import addTzInfo from beem.account import Account from beem.comment import Comment from beem.nodelist import NodeList import time from datetime import datetime import getpass if __name__ == &quot;__main__&quot;: # Parameter canonical_url = &quot;https://hive.blog&quot; replace_steemit_links = True use_relative_links = True add_canonical_url = True target_blockchain = &quot;hive&quot; # can be hive or steem # ---- # at least one option must be true assert replace_steemit_links or add_canonical_url assert target_blockchain in [&quot;hive&quot;, &quot;steem&quot;] # Canonical url must not end with / if canonical_url[-1] == &quot;/&quot;: canonical_url = canonical_url[:-1] nodelist = NodeList() nodelist.update_nodes() test_run_answer = input(&quot;Do a test run? [y/n]&quot;) if test_run_answer in [&quot;y&quot;, &quot;Y&quot;, &quot;yes&quot;]: test_run = True print(&quot;Doing a test run on %s!&quot; % target_blockchain) else: test_run = False if test_run: if target_blockchain == &quot;hive&quot;: blockchain_instance= Hive(node=nodelist.get_hive_nodes()) else: blockchain_instance= Steem(node=&quot;https://api.steemit.com&quot;) else: wif = getpass.getpass(prompt=&#39;Enter your posting key for %s.&#39; % target_blockchain) if target_blockchain == &quot;hive&quot;: blockchain_instance = Hive(node=nodelist.get_hive_nodes(), keys=[wif]) else: blockchain_instance = Steem(node=&quot;https://api.steemit.com&quot;, keys=[wif]) if target_blockchain == &quot;hive&quot;: assert blockchain_instance.is_hive else: assert blockchain_instance.is_steem account = input(&quot;Account name =&quot;) account = Account(account, blockchain_instance=blockchain_instance) if add_canonical_url: print(&quot;Start to fix canonical_url on %s for %s&quot; % (target_blockchain, account[&quot;name&quot;])) if replace_steemit_links: print(&quot;Start to replace steemit links on %s for %s&quot; % (target_blockchain, account[&quot;name&quot;])) apps_with_cannonical_url = [&quot;hiveblog&quot;, &quot;peakd&quot;, &quot;esteem&quot;, &quot;steempress&quot;, &quot;actifit&quot;, &quot;travelfeed&quot;, &quot;3speak&quot;, &quot;steemstem&quot;, &quot;leofinance&quot;, &quot;clicktrackprofit&quot;, &quot;dtube&quot;] hive_fork_date = addTzInfo(datetime(2020, 3, 20, 14, 0, 0)) blog_count = 0 expected_count = 100 while expected_count - blog_count == 100: for blog in account.get_blog_entries(start_entry_id=blog_count, raw_data=False): blog_count += 1 if blog[&quot;parent_author&quot;] != &quot;&quot;: continue if blog[&quot;author&quot;] != account[&quot;name&quot;]: continue if &quot;canonical_url&quot; in blog.json_metadata and canonical_url in blog.json_metadata[&quot;canonical_url&quot;]: continue if &quot;app&quot; in blog.json_metadata and blog.json_metadata[&quot;app&quot;].split(&quot;/&quot;)[0] in apps_with_cannonical_url and target_blockchain == &quot;hive&quot;: continue if blog[&quot;created&quot;] &gt; hive_fork_date: continue body = blog.body if &quot;links&quot; in blog.json_metadata: links = blog.json_metadata[&quot;links&quot;] else: links = None if &quot;links&quot; in blog.json_metadata and replace_steemit_links: for link in blog.json_metadata[&quot;links&quot;]: if &quot;steemit.com&quot; in link or &quot;steempeak.com&quot; in link or &quot;busy.org&quot; in link or &quot;partiko.app&quot; in link: authorperm = link.split(&quot;@&quot;) acc = None post = None new_link = &quot;&quot; if len(authorperm) == 1: continue authorperm = authorperm[1] if authorperm.find(&quot;/&quot;) == -1: try: acc = Account(authorperm, blockchain_instance=blockchain_instance) if use_relative_links: new_link = &quot;/@&quot; + acc[&quot;name&quot;] else: new_link = canonical_url + &quot;/@&quot; + acc[&quot;name&quot;] except: continue else: try: post = Comment(authorperm, blockchain_instance=blockchain_instance) if use_relative_links: new_link = &quot;/&quot; + post.category + &quot;/&quot; + post.authorperm else: new_link = canonical_url + &quot;/&quot; + post.category + &quot;/&quot; + post.authorperm except: continue if new_link != &quot;&quot;: for i in range(len(links)): if links[i] == link: links[i] = new_link body = body.replace(link, new_link) print(&quot;Replace %s with %s&quot; % (link, new_link)) json_metadata = blog.json_metadata or {} if links is not None and replace_steemit_links: json_metadata[&quot;links&quot;] = links if add_canonical_url: json_metadata[&quot;canonical_url&quot;] = canonical_url + &quot;/&quot; + blog[&quot;category&quot;] + &quot;/@&quot; + blog[&quot;author&quot;] + &quot;/&quot; + blog[&quot;permlink&quot;] print(&quot;Edit post nr %d with canonical_url=%s&quot; % (blog_count, json_metadata[&quot;canonical_url&quot;])) print(&quot;---&quot;) if not test_run: try: blog.edit(body, meta=json_metadata, replace=True) except: print(&quot;Skipping %s due to error&quot; % blog.authorperm) time.sleep(6) expected_count += 100 ``` You can now start the script with: ``` python fix_canonical_urls_hive.py ``` If you are on Linux, you should replace `pip` by `pip3` and `python` by `python3`. ## How does it work The script goes through all blog posts written before 2020-03-14. Whenever the post was written by an app, that is not properly handled by [hivescript](https://www.npmjs.com/package/@hivechain/hivescript), a new canonical_url is set. You can define your preferred front-end here: ``` canonical_url = &quot;https://hive.blog&quot; ``` If you like other front-ends, you can replace this line by * `canonical_url = &quot;https://peakd.com&quot;` * `canonical_url = &quot;https://leofinance.io&quot;` * `canonical_url = &quot;https://esteem.app&quot;` In the next step, all used links are checked. Whenever a link is pointing to a valid hive post or to a valid hive user, the link is replaced by a releative url (When the link was pointing to steemit.com, steempeak.com, busy.org or partiko.app). ## Test run You can do a test run and checking what will be changed by the script: ![test_run](https://images.hive.blog/DQmZht6KJmnJkBGebgwyXdGBpj4dSCCYkdqwzn6PpwD4ado/test_run) This show now the following information: ![test result](https://images.hive.blog/DQmWE3JdvZBYJauzmAHjFFnsCwyuZ6YBHzonbbSbtPf5Gdx/test%20result) The set canonical url is shown as well all links that will be replaced. ## Fixing your posts We can now start to fix all old posts: ![starting the script](https://images.hive.blog/DQmdaFJFkxsAaMmc8wG5vESFwRGqPJwRR2GPXySJtvEAxKh/starting%20the%20script) ## Results All changes have been broadcasted: ![Broadcasted posts](https://images.hive.blog/DQmNq6JKN9Cr5mDkBMsEcL8nCqRvH7ktkprTNXTU75K4Pz4/Broadcasted%20posts) The links have been corrected, as shown here: ![](https://images.hive.blog/DQmUFVmj9vW84ZH1aa2V4PfSKHsJLsARDUkWbo62KpxnnfA/image) There seems to be a bug with hive.blog, that steemit.com links are shown as internal and hive.blog links are shown as external links. The canonical url is also fixed: ![canonical urls](https://images.hive.blog/DQmVjxuvCHYtfaS2p6c9i4wj43siJUMJciB2gwKE8dn5RMs/canonical%20urls) It seems that esteem.app has not changed its canonical url right now. As I know that esteem.app should read the `canonical_url` parameter (works for steempress), it may correct the canonical URLs later. After a fix on esteem.app, esteem.app is using now the correct canonical url: ![canonical url from esteem.app](https://images.hive.blog/DQmcbaPV3teUczT5WmxuaMybeyz4hdTEbaG5NV6kQ2HGHhj/canonical%20url%20from%20esteem.app) ## Results on STEEM Setting `canonical_url` works also on steemit: ![canonical url on steemit](https://images.hive.blog/DQmShxP35w4ARXfryjEdsdWnuVKV1zebkSoRgbGCjTQRQbC/canonical%20url%20on%20steemit) I used [seoreviewtools](https://www.seoreviewtools.com/canonical-url-location-checker/) to check the canonical urls. ___ *If you like what I do, consider casting a vote for me as witness on [Hivesigner](https://hivesigner.com/sign/account-witness-vote?witness=holger80&amp;approve=1) or on [PeakD](https://peakd.com/witnesses)* See: How to fix canonical URLs and links in your pre-fork posts by @holger80" />
<meta property="og:description" content="As you can see here, I have some links in my blogs written before the hive-fork pointing to steemit.com. It&#39;s time to replace them all. ![steemit link in my blog](https://images.hive.blog/DQmfDpnHj9kXEqo2ZXNSAkaPbFb4svFqWXLyUEdEuniqd3e/steemit%20link%20in%20my%20blog) Almost all blog posts written before the fork are written with apps that are not included in [hivescript](https://www.npmjs.com/package/@hivechain/hivescript) and lead to problems with canonical URLs: As it can be seen here, my old post [update for beem: first release for HF 21](https://peakd.com/beem/@holger80/update-for-beem-first-release-for-hf-21) result in different canonical URLs on different front-ends. This is then handled as duplicated content by the search engines. The post was written through palnet. As there is no entry for palnet in [hivescript](https://www.npmjs.com/package/@hivechain/hivescript), the front-ends to not know how to build a proper canonical URL: ![wrong canonical url](https://images.hive.blog/DQmXe1t2QwJtizzVXDpG89GVNxyYAorFu6Tjj5LRnXkEJss/wrong%20canonical%20url) # Fixing The mess Fixing means: * replacing all steemit, steempeak, ... links with relative links * setting `canonical_url` for each post written before 2020-03-20, to fix canonical URLs. ### Small update The script uses now relative links, when found a link to steemit.com ..., it will be replaced by a relative link. A relative link looks like: `[holger80](/@holger80)` and `[this post](/hive-139531/@holger80/how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts)` ### Small update 2 There are now three boolean parameters, which can be used to set the following: * `replace_steemit_links`: when True, steemit, ... links will be replaced * `use_relative_links`: when True, relative links will be used (starting with `/`) * `add_canonical_url`: When True, a canonical_url is added to the metadata ### Small update 3 It is now possible to use the same script for fixing the canonical links on STEEM for all written post before the fork. When you want to use the script on STEEM: * set `target_blockchain = &quot;steem&quot;` When you want to use the script on HIVE: * set `target_blockchain = &quot;hive&quot;` ### Python code The following script is using beem and will do exactly this. beem can be installed by ``` pip install beem ``` or ``` conda install beem ``` Store the following as `fix_canonical_urls_hive.py`: ``` #!/usr/bin/python from beem import Hive, Steem from beem.utils import addTzInfo from beem.account import Account from beem.comment import Comment from beem.nodelist import NodeList import time from datetime import datetime import getpass if __name__ == &quot;__main__&quot;: # Parameter canonical_url = &quot;https://hive.blog&quot; replace_steemit_links = True use_relative_links = True add_canonical_url = True target_blockchain = &quot;hive&quot; # can be hive or steem # ---- # at least one option must be true assert replace_steemit_links or add_canonical_url assert target_blockchain in [&quot;hive&quot;, &quot;steem&quot;] # Canonical url must not end with / if canonical_url[-1] == &quot;/&quot;: canonical_url = canonical_url[:-1] nodelist = NodeList() nodelist.update_nodes() test_run_answer = input(&quot;Do a test run? [y/n]&quot;) if test_run_answer in [&quot;y&quot;, &quot;Y&quot;, &quot;yes&quot;]: test_run = True print(&quot;Doing a test run on %s!&quot; % target_blockchain) else: test_run = False if test_run: if target_blockchain == &quot;hive&quot;: blockchain_instance= Hive(node=nodelist.get_hive_nodes()) else: blockchain_instance= Steem(node=&quot;https://api.steemit.com&quot;) else: wif = getpass.getpass(prompt=&#39;Enter your posting key for %s.&#39; % target_blockchain) if target_blockchain == &quot;hive&quot;: blockchain_instance = Hive(node=nodelist.get_hive_nodes(), keys=[wif]) else: blockchain_instance = Steem(node=&quot;https://api.steemit.com&quot;, keys=[wif]) if target_blockchain == &quot;hive&quot;: assert blockchain_instance.is_hive else: assert blockchain_instance.is_steem account = input(&quot;Account name =&quot;) account = Account(account, blockchain_instance=blockchain_instance) if add_canonical_url: print(&quot;Start to fix canonical_url on %s for %s&quot; % (target_blockchain, account[&quot;name&quot;])) if replace_steemit_links: print(&quot;Start to replace steemit links on %s for %s&quot; % (target_blockchain, account[&quot;name&quot;])) apps_with_cannonical_url = [&quot;hiveblog&quot;, &quot;peakd&quot;, &quot;esteem&quot;, &quot;steempress&quot;, &quot;actifit&quot;, &quot;travelfeed&quot;, &quot;3speak&quot;, &quot;steemstem&quot;, &quot;leofinance&quot;, &quot;clicktrackprofit&quot;, &quot;dtube&quot;] hive_fork_date = addTzInfo(datetime(2020, 3, 20, 14, 0, 0)) blog_count = 0 expected_count = 100 while expected_count - blog_count == 100: for blog in account.get_blog_entries(start_entry_id=blog_count, raw_data=False): blog_count += 1 if blog[&quot;parent_author&quot;] != &quot;&quot;: continue if blog[&quot;author&quot;] != account[&quot;name&quot;]: continue if &quot;canonical_url&quot; in blog.json_metadata and canonical_url in blog.json_metadata[&quot;canonical_url&quot;]: continue if &quot;app&quot; in blog.json_metadata and blog.json_metadata[&quot;app&quot;].split(&quot;/&quot;)[0] in apps_with_cannonical_url and target_blockchain == &quot;hive&quot;: continue if blog[&quot;created&quot;] &gt; hive_fork_date: continue body = blog.body if &quot;links&quot; in blog.json_metadata: links = blog.json_metadata[&quot;links&quot;] else: links = None if &quot;links&quot; in blog.json_metadata and replace_steemit_links: for link in blog.json_metadata[&quot;links&quot;]: if &quot;steemit.com&quot; in link or &quot;steempeak.com&quot; in link or &quot;busy.org&quot; in link or &quot;partiko.app&quot; in link: authorperm = link.split(&quot;@&quot;) acc = None post = None new_link = &quot;&quot; if len(authorperm) == 1: continue authorperm = authorperm[1] if authorperm.find(&quot;/&quot;) == -1: try: acc = Account(authorperm, blockchain_instance=blockchain_instance) if use_relative_links: new_link = &quot;/@&quot; + acc[&quot;name&quot;] else: new_link = canonical_url + &quot;/@&quot; + acc[&quot;name&quot;] except: continue else: try: post = Comment(authorperm, blockchain_instance=blockchain_instance) if use_relative_links: new_link = &quot;/&quot; + post.category + &quot;/&quot; + post.authorperm else: new_link = canonical_url + &quot;/&quot; + post.category + &quot;/&quot; + post.authorperm except: continue if new_link != &quot;&quot;: for i in range(len(links)): if links[i] == link: links[i] = new_link body = body.replace(link, new_link) print(&quot;Replace %s with %s&quot; % (link, new_link)) json_metadata = blog.json_metadata or {} if links is not None and replace_steemit_links: json_metadata[&quot;links&quot;] = links if add_canonical_url: json_metadata[&quot;canonical_url&quot;] = canonical_url + &quot;/&quot; + blog[&quot;category&quot;] + &quot;/@&quot; + blog[&quot;author&quot;] + &quot;/&quot; + blog[&quot;permlink&quot;] print(&quot;Edit post nr %d with canonical_url=%s&quot; % (blog_count, json_metadata[&quot;canonical_url&quot;])) print(&quot;---&quot;) if not test_run: try: blog.edit(body, meta=json_metadata, replace=True) except: print(&quot;Skipping %s due to error&quot; % blog.authorperm) time.sleep(6) expected_count += 100 ``` You can now start the script with: ``` python fix_canonical_urls_hive.py ``` If you are on Linux, you should replace `pip` by `pip3` and `python` by `python3`. ## How does it work The script goes through all blog posts written before 2020-03-14. Whenever the post was written by an app, that is not properly handled by [hivescript](https://www.npmjs.com/package/@hivechain/hivescript), a new canonical_url is set. You can define your preferred front-end here: ``` canonical_url = &quot;https://hive.blog&quot; ``` If you like other front-ends, you can replace this line by * `canonical_url = &quot;https://peakd.com&quot;` * `canonical_url = &quot;https://leofinance.io&quot;` * `canonical_url = &quot;https://esteem.app&quot;` In the next step, all used links are checked. Whenever a link is pointing to a valid hive post or to a valid hive user, the link is replaced by a releative url (When the link was pointing to steemit.com, steempeak.com, busy.org or partiko.app). ## Test run You can do a test run and checking what will be changed by the script: ![test_run](https://images.hive.blog/DQmZht6KJmnJkBGebgwyXdGBpj4dSCCYkdqwzn6PpwD4ado/test_run) This show now the following information: ![test result](https://images.hive.blog/DQmWE3JdvZBYJauzmAHjFFnsCwyuZ6YBHzonbbSbtPf5Gdx/test%20result) The set canonical url is shown as well all links that will be replaced. ## Fixing your posts We can now start to fix all old posts: ![starting the script](https://images.hive.blog/DQmdaFJFkxsAaMmc8wG5vESFwRGqPJwRR2GPXySJtvEAxKh/starting%20the%20script) ## Results All changes have been broadcasted: ![Broadcasted posts](https://images.hive.blog/DQmNq6JKN9Cr5mDkBMsEcL8nCqRvH7ktkprTNXTU75K4Pz4/Broadcasted%20posts) The links have been corrected, as shown here: ![](https://images.hive.blog/DQmUFVmj9vW84ZH1aa2V4PfSKHsJLsARDUkWbo62KpxnnfA/image) There seems to be a bug with hive.blog, that steemit.com links are shown as internal and hive.blog links are shown as external links. The canonical url is also fixed: ![canonical urls](https://images.hive.blog/DQmVjxuvCHYtfaS2p6c9i4wj43siJUMJciB2gwKE8dn5RMs/canonical%20urls) It seems that esteem.app has not changed its canonical url right now. As I know that esteem.app should read the `canonical_url` parameter (works for steempress), it may correct the canonical URLs later. After a fix on esteem.app, esteem.app is using now the correct canonical url: ![canonical url from esteem.app](https://images.hive.blog/DQmcbaPV3teUczT5WmxuaMybeyz4hdTEbaG5NV6kQ2HGHhj/canonical%20url%20from%20esteem.app) ## Results on STEEM Setting `canonical_url` works also on steemit: ![canonical url on steemit](https://images.hive.blog/DQmShxP35w4ARXfryjEdsdWnuVKV1zebkSoRgbGCjTQRQbC/canonical%20url%20on%20steemit) I used [seoreviewtools](https://www.seoreviewtools.com/canonical-url-location-checker/) to check the canonical urls. ___ *If you like what I do, consider casting a vote for me as witness on [Hivesigner](https://hivesigner.com/sign/account-witness-vote?witness=holger80&amp;approve=1) or on [PeakD](https://peakd.com/witnesses)* See: How to fix canonical URLs and links in your pre-fork posts by @holger80" />
<link rel="canonical" href="https://hive.blog/hive-139531/@holger80/how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts" />
<meta property="og:url" content="https://hive.blog/hive-139531/@holger80/how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts" />
<meta property="og:site_name" content="Hive Chain Documentation" />
<meta property="og:image" content="https://images.hive.blog/DQmfDpnHj9kXEqo2ZXNSAkaPbFb4svFqWXLyUEdEuniqd3e/steemit%20link%20in%20my%20blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-05-23T07:20:12-07:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://images.hive.blog/DQmfDpnHj9kXEqo2ZXNSAkaPbFb4svFqWXLyUEdEuniqd3e/steemit%20link%20in%20my%20blog" />
<meta property="twitter:title" content="How to fix canonical URLs and links in your pre-fork posts" />
<script type="application/ld+json">
{"description":"As you can see here, I have some links in my blogs written before the hive-fork pointing to steemit.com. It&#39;s time to replace them all. ![steemit link in my blog](https://images.hive.blog/DQmfDpnHj9kXEqo2ZXNSAkaPbFb4svFqWXLyUEdEuniqd3e/steemit%20link%20in%20my%20blog) Almost all blog posts written before the fork are written with apps that are not included in [hivescript](https://www.npmjs.com/package/@hivechain/hivescript) and lead to problems with canonical URLs: As it can be seen here, my old post [update for beem: first release for HF 21](https://peakd.com/beem/@holger80/update-for-beem-first-release-for-hf-21) result in different canonical URLs on different front-ends. This is then handled as duplicated content by the search engines. The post was written through palnet. As there is no entry for palnet in [hivescript](https://www.npmjs.com/package/@hivechain/hivescript), the front-ends to not know how to build a proper canonical URL: ![wrong canonical url](https://images.hive.blog/DQmXe1t2QwJtizzVXDpG89GVNxyYAorFu6Tjj5LRnXkEJss/wrong%20canonical%20url) # Fixing The mess Fixing means: * replacing all steemit, steempeak, ... links with relative links * setting `canonical_url` for each post written before 2020-03-20, to fix canonical URLs. ### Small update The script uses now relative links, when found a link to steemit.com ..., it will be replaced by a relative link. A relative link looks like: `[holger80](/@holger80)` and `[this post](/hive-139531/@holger80/how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts)` ### Small update 2 There are now three boolean parameters, which can be used to set the following: * `replace_steemit_links`: when True, steemit, ... links will be replaced * `use_relative_links`: when True, relative links will be used (starting with `/`) * `add_canonical_url`: When True, a canonical_url is added to the metadata ### Small update 3 It is now possible to use the same script for fixing the canonical links on STEEM for all written post before the fork. When you want to use the script on STEEM: * set `target_blockchain = &quot;steem&quot;` When you want to use the script on HIVE: * set `target_blockchain = &quot;hive&quot;` ### Python code The following script is using beem and will do exactly this. beem can be installed by ``` pip install beem ``` or ``` conda install beem ``` Store the following as `fix_canonical_urls_hive.py`: ``` #!/usr/bin/python from beem import Hive, Steem from beem.utils import addTzInfo from beem.account import Account from beem.comment import Comment from beem.nodelist import NodeList import time from datetime import datetime import getpass if __name__ == &quot;__main__&quot;: # Parameter canonical_url = &quot;https://hive.blog&quot; replace_steemit_links = True use_relative_links = True add_canonical_url = True target_blockchain = &quot;hive&quot; # can be hive or steem # ---- # at least one option must be true assert replace_steemit_links or add_canonical_url assert target_blockchain in [&quot;hive&quot;, &quot;steem&quot;] # Canonical url must not end with / if canonical_url[-1] == &quot;/&quot;: canonical_url = canonical_url[:-1] nodelist = NodeList() nodelist.update_nodes() test_run_answer = input(&quot;Do a test run? [y/n]&quot;) if test_run_answer in [&quot;y&quot;, &quot;Y&quot;, &quot;yes&quot;]: test_run = True print(&quot;Doing a test run on %s!&quot; % target_blockchain) else: test_run = False if test_run: if target_blockchain == &quot;hive&quot;: blockchain_instance= Hive(node=nodelist.get_hive_nodes()) else: blockchain_instance= Steem(node=&quot;https://api.steemit.com&quot;) else: wif = getpass.getpass(prompt=&#39;Enter your posting key for %s.&#39; % target_blockchain) if target_blockchain == &quot;hive&quot;: blockchain_instance = Hive(node=nodelist.get_hive_nodes(), keys=[wif]) else: blockchain_instance = Steem(node=&quot;https://api.steemit.com&quot;, keys=[wif]) if target_blockchain == &quot;hive&quot;: assert blockchain_instance.is_hive else: assert blockchain_instance.is_steem account = input(&quot;Account name =&quot;) account = Account(account, blockchain_instance=blockchain_instance) if add_canonical_url: print(&quot;Start to fix canonical_url on %s for %s&quot; % (target_blockchain, account[&quot;name&quot;])) if replace_steemit_links: print(&quot;Start to replace steemit links on %s for %s&quot; % (target_blockchain, account[&quot;name&quot;])) apps_with_cannonical_url = [&quot;hiveblog&quot;, &quot;peakd&quot;, &quot;esteem&quot;, &quot;steempress&quot;, &quot;actifit&quot;, &quot;travelfeed&quot;, &quot;3speak&quot;, &quot;steemstem&quot;, &quot;leofinance&quot;, &quot;clicktrackprofit&quot;, &quot;dtube&quot;] hive_fork_date = addTzInfo(datetime(2020, 3, 20, 14, 0, 0)) blog_count = 0 expected_count = 100 while expected_count - blog_count == 100: for blog in account.get_blog_entries(start_entry_id=blog_count, raw_data=False): blog_count += 1 if blog[&quot;parent_author&quot;] != &quot;&quot;: continue if blog[&quot;author&quot;] != account[&quot;name&quot;]: continue if &quot;canonical_url&quot; in blog.json_metadata and canonical_url in blog.json_metadata[&quot;canonical_url&quot;]: continue if &quot;app&quot; in blog.json_metadata and blog.json_metadata[&quot;app&quot;].split(&quot;/&quot;)[0] in apps_with_cannonical_url and target_blockchain == &quot;hive&quot;: continue if blog[&quot;created&quot;] &gt; hive_fork_date: continue body = blog.body if &quot;links&quot; in blog.json_metadata: links = blog.json_metadata[&quot;links&quot;] else: links = None if &quot;links&quot; in blog.json_metadata and replace_steemit_links: for link in blog.json_metadata[&quot;links&quot;]: if &quot;steemit.com&quot; in link or &quot;steempeak.com&quot; in link or &quot;busy.org&quot; in link or &quot;partiko.app&quot; in link: authorperm = link.split(&quot;@&quot;) acc = None post = None new_link = &quot;&quot; if len(authorperm) == 1: continue authorperm = authorperm[1] if authorperm.find(&quot;/&quot;) == -1: try: acc = Account(authorperm, blockchain_instance=blockchain_instance) if use_relative_links: new_link = &quot;/@&quot; + acc[&quot;name&quot;] else: new_link = canonical_url + &quot;/@&quot; + acc[&quot;name&quot;] except: continue else: try: post = Comment(authorperm, blockchain_instance=blockchain_instance) if use_relative_links: new_link = &quot;/&quot; + post.category + &quot;/&quot; + post.authorperm else: new_link = canonical_url + &quot;/&quot; + post.category + &quot;/&quot; + post.authorperm except: continue if new_link != &quot;&quot;: for i in range(len(links)): if links[i] == link: links[i] = new_link body = body.replace(link, new_link) print(&quot;Replace %s with %s&quot; % (link, new_link)) json_metadata = blog.json_metadata or {} if links is not None and replace_steemit_links: json_metadata[&quot;links&quot;] = links if add_canonical_url: json_metadata[&quot;canonical_url&quot;] = canonical_url + &quot;/&quot; + blog[&quot;category&quot;] + &quot;/@&quot; + blog[&quot;author&quot;] + &quot;/&quot; + blog[&quot;permlink&quot;] print(&quot;Edit post nr %d with canonical_url=%s&quot; % (blog_count, json_metadata[&quot;canonical_url&quot;])) print(&quot;---&quot;) if not test_run: try: blog.edit(body, meta=json_metadata, replace=True) except: print(&quot;Skipping %s due to error&quot; % blog.authorperm) time.sleep(6) expected_count += 100 ``` You can now start the script with: ``` python fix_canonical_urls_hive.py ``` If you are on Linux, you should replace `pip` by `pip3` and `python` by `python3`. ## How does it work The script goes through all blog posts written before 2020-03-14. Whenever the post was written by an app, that is not properly handled by [hivescript](https://www.npmjs.com/package/@hivechain/hivescript), a new canonical_url is set. You can define your preferred front-end here: ``` canonical_url = &quot;https://hive.blog&quot; ``` If you like other front-ends, you can replace this line by * `canonical_url = &quot;https://peakd.com&quot;` * `canonical_url = &quot;https://leofinance.io&quot;` * `canonical_url = &quot;https://esteem.app&quot;` In the next step, all used links are checked. Whenever a link is pointing to a valid hive post or to a valid hive user, the link is replaced by a releative url (When the link was pointing to steemit.com, steempeak.com, busy.org or partiko.app). ## Test run You can do a test run and checking what will be changed by the script: ![test_run](https://images.hive.blog/DQmZht6KJmnJkBGebgwyXdGBpj4dSCCYkdqwzn6PpwD4ado/test_run) This show now the following information: ![test result](https://images.hive.blog/DQmWE3JdvZBYJauzmAHjFFnsCwyuZ6YBHzonbbSbtPf5Gdx/test%20result) The set canonical url is shown as well all links that will be replaced. ## Fixing your posts We can now start to fix all old posts: ![starting the script](https://images.hive.blog/DQmdaFJFkxsAaMmc8wG5vESFwRGqPJwRR2GPXySJtvEAxKh/starting%20the%20script) ## Results All changes have been broadcasted: ![Broadcasted posts](https://images.hive.blog/DQmNq6JKN9Cr5mDkBMsEcL8nCqRvH7ktkprTNXTU75K4Pz4/Broadcasted%20posts) The links have been corrected, as shown here: ![](https://images.hive.blog/DQmUFVmj9vW84ZH1aa2V4PfSKHsJLsARDUkWbo62KpxnnfA/image) There seems to be a bug with hive.blog, that steemit.com links are shown as internal and hive.blog links are shown as external links. The canonical url is also fixed: ![canonical urls](https://images.hive.blog/DQmVjxuvCHYtfaS2p6c9i4wj43siJUMJciB2gwKE8dn5RMs/canonical%20urls) It seems that esteem.app has not changed its canonical url right now. As I know that esteem.app should read the `canonical_url` parameter (works for steempress), it may correct the canonical URLs later. After a fix on esteem.app, esteem.app is using now the correct canonical url: ![canonical url from esteem.app](https://images.hive.blog/DQmcbaPV3teUczT5WmxuaMybeyz4hdTEbaG5NV6kQ2HGHhj/canonical%20url%20from%20esteem.app) ## Results on STEEM Setting `canonical_url` works also on steemit: ![canonical url on steemit](https://images.hive.blog/DQmShxP35w4ARXfryjEdsdWnuVKV1zebkSoRgbGCjTQRQbC/canonical%20url%20on%20steemit) I used [seoreviewtools](https://www.seoreviewtools.com/canonical-url-location-checker/) to check the canonical urls. ___ *If you like what I do, consider casting a vote for me as witness on [Hivesigner](https://hivesigner.com/sign/account-witness-vote?witness=holger80&amp;approve=1) or on [PeakD](https://peakd.com/witnesses)* See: How to fix canonical URLs and links in your pre-fork posts by @holger80","image":"https://images.hive.blog/DQmfDpnHj9kXEqo2ZXNSAkaPbFb4svFqWXLyUEdEuniqd3e/steemit%20link%20in%20my%20blog","headline":"How to fix canonical URLs and links in your pre-fork posts","dateModified":"2020-05-23T07:20:12-07:00","datePublished":"2020-05-23T07:20:12-07:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hive.blog/hive-139531/@holger80/how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts"},"url":"https://hive.blog/hive-139531/@holger80/how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts","author":{"@type":"Person","name":"holger80"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://hivedocs.info/feed.xml" title="Hive Chain Documentation" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-161692811-1', 'auto');
  ga('send', 'pageview');
}
</script>
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  
  <!-- jQuery Modal -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js" integrity="sha256-iM4Yzi/zLj/IshPWMC1IluRxTtRjMqjPGd97TZ9yYpU=" crossorigin="anonymous"></script>
  <script src='https://unpkg.com/steem-content-renderer'></script>
  <script>
    (function () {
      if (Turbolinks.supported) {
        Turbolinks.setProgressBarDelay(500);
      }
    })();
  </script>
  <script src="/assets/javascript/universal-bridge-against-phishing.js"></script>
  <script src="/assets/javascript/lazysizes.min.js" async=""></script>
  <script src="/assets/javascript/authors.js" async=""></script>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Cousine|Inconsolata" rel="stylesheet">
  <link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png">
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Hive Chain Documentation</a>

      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/news/">News</a><a class="page-link" href="/howto/">How To</a><a class="page-link" href="/links/">Useful Links</a><!-- HTML elements for search -->
          <input type="text" id="search-input" placeholder="Search" />
          
          <ul id="results-container"></ul>

          <script src="/assets/javascript/search.js"></script>
          <script>
            var sjs = SimpleJekyllSearch({
              searchInput: document.getElementById('search-input'),
              resultsContainer: document.getElementById('results-container'),
              json: '/search.json'
            })
          </script>
          <!-- <form style="float: right;" class="form-inline" method="get" action="http://www.google.com/search">
            <input type="hidden" name="sitesearch" value="hivedocs.info" />
            <input type="text" name="q" maxlength="255" placeholder="Search" />
          </form> -->
          
          <!-- <a href="#" onclick="try { $('#authors-container').slideToggle(); } catch { document.getElementById('authors-container').style.display = 'block'; }; return false;">Authors &#187;</a>
          <a href="#" onclick="try { $('#topics-container').slideToggle(); } catch { document.getElementById('topics-container').style.display = 'block'; }; return false;">Topics &#187;</a> -->
          
          <a href="#authors-container" rel="modal:open">Authors &#187;</a>
          <a href="#topics-container" rel="modal:open">Topics &#187;</a>
          
          <div id="authors-container" class="modal" style="max-width: 80%; width: initial;">
            
            <h3>Authors</h3>
            <ul><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/ali-h/avatar/small)">
                  <a href="https://hive.blog/@ali-h">ali-h</a>
                  <ul>
                        <li><small><a href="/tools/2021/02/24/json-doctor-an-open-source-tool-for-broadcasting-customjson-operations-on-hive.html">JSON DOCTOR - An open source tool for broadcasting custom_json operations on hive</a></small></li>
                      
                        <li><small><a href="/howto/nodejs/bot/2020/08/18/hivebot-easy-real-time-automation-on-top-of-hive-blockchain.html">HiveBot - Easy & real-time automation on top of Hive Blockchain</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/arcange/avatar/small)">
                  <a href="https://hive.blog/@arcange">arcange</a>
                  <ul>
                        <li><small><a href="/tools/2021/03/16/hive-account-recovery-major-update-and-new-user-interface.html">Hive Account Recovery - Major update and new User Interface</a></small></li>
                      
                        <li><small><a href="/tools/2021/03/09/hive-account-recovery-update.html">Hive Account Recovery Update</a></small></li>
                      
                        <li><small><a href="/news/dotnet/2020/11/19/msnet-libraries.html">Introducing Hive libraries for Microsoft .NET</a></small></li>
                      
                        <li><small><a href="/news/sql/database/2020/11/12/hivesql-free.html">HiveSQL is free again - Thank you for your support!</a></small></li>
                      
                        <li><small><a href="/news/sql/database/2020/03/20/hivesql-is-ready-with-all-the-hive-blockchain-data.html">HiveSQL is ready with all the Hive blockchain data</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/beggars/avatar/small)">
                  <a href="https://hive.blog/@beggars">beggars</a>
                  <ul>
                        <li><small><a href="/howto/dapps/nodejs/2020/04/06/tutorial-building-a-dice-game-contract-with-hive-stream-part-2.html">Tutorial: Building A Dice Game Contract With Hive Stream (Part 2)</a></small></li>
                      
                        <li><small><a href="/howto/dapps/nodejs/2020/04/04/tutorial-building-a-dice-game-contract-with-hive-stream.html">Tutorial: Building A Dice Game Contract With Hive Stream</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/blocktrades/avatar/small)">
                  <a href="https://hive.blog/@blocktrades">blocktrades</a>
                  <ul>
                        <li><small><a href="/news/core/development/2021/04/06/8th-update-of-2021-on-blocktrades-work-on-hive-software.html">8th update of 2021 on BlockTrades work on Hive software</a></small></li>
                      
                        <li><small><a href="/news/core/development/2021/03/11/7th-update-of-2021-on-blocktrades-work-on-hive-software.html">7th update of 2021 on BlockTrades work on Hive software</a></small></li>
                      
                        <li><small><a href="/news/core/development/2021/03/02/6th-update-of-2021-on-blocktrades-work-on-hive-software.html">6th update of 2021 on BlockTrades work on Hive software</a></small></li>
                      
                        <li><small><a href="/news/core/development/2021/02/19/5th-update-on-blocktrades-hive-development-progress.html">5th update on BlockTrades' Hive development progress</a></small></li>
                      
                        <li><small><a href="/news/core/development/2021/02/06/4th-update-of-2021-on-our-hive-software-work.html">4th update of 2021 on our Hive software work</a></small></li>
                      
                        <li><small><a href="/news/core/development/2021/01/24/3rd-update-of-2021-on-our-hive-software-work.html">3rd update of 2021 on our Hive software work</a></small></li>
                      
                        <li><small><a href="/news/core/development/2021/01/16/2nd-update-of-2021-on-our-hive-software-work.html">2nd update of 2021 on our Hive software work</a></small></li>
                      
                        <li><small><a href="/news/devops/api/2021/01/05/hive-api-node-performance-measurement.html">Hive API node performance measurement</a></small></li>
                      
                        <li><small><a href="/news/core/development/2021/01/05/1st-update-of-2021-on-blocktrades-work-on-hive-software.html">1st update of 2021 on BlockTrades work on Hive software</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/12/09/updated-on-blocktrades-hive-work-as-of-dec-9th-2020.html">Updated on BlockTrades Hive work (as of Dec 9th 2020)</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/12/02/roadmap-for-hive-related-work-by-blocktrades-in-the-next-6-months.html">Roadmap for Hive-related work by BlockTrades in the next 6 months</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/11/16/update-on-blocktrades-hive-work-nov-16th.html">Update on BlockTrades Hive Work (Nov 16th)</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/11/02/blocktrades-update-on-hive-development-work.html">BlockTrades update on Hive development work</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/10/26/update-on-blocktrades-hive-core-coding.html">Update on BlockTrades Hive core coding</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/10/18/update-on-blocktrades-work-and-the-results-of-hf24.html">Update on Blocktrades work and the results of HF24</a></small></li>
                      
                        <li><small><a href="/dapps/2020/08/28/misconceptions-about-2nd-layer-apps-part-1.html">Misconceptions about 2nd layer apps: part 1</a></small></li>
                      
                        <li><small><a href="/howto/contribute/development/2020/04/03/hive-workflow-proposal.html">Hive workflow proposal</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/crokkon/avatar/small)">
                  <a href="https://hive.blog/@crokkon">crokkon</a>
                  <ul>
                        <li><small><a href="/tools/beem/python/raspberrypi/2020/05/17/hive-tools-libs-on-a-raspberry-pi-4.html">Hive Tools/Libs on a Raspberry Pi 4</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/dbuzz/avatar/small)">
                  <a href="https://hive.blog/@dbuzz">dbuzz</a>
                  <ul>
                        <li><small><a href="/tools/2020/12/30/embed-and-buzz-directly-from-any-web-page-meet-the-embed-buzz-button.html">Embed and Buzz Directly from any web page!  Meet the EMBED BUZZ BUTTON</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/deathwing/avatar/small)">
                  <a href="https://hive.blog/@deathwing">deathwing</a>
                  <ul>
                        <li><small><a href="/howto/hivemind/2021/04/12/how-to-setup-a-hivemind-dev-environment.html">How to setup a Hivemind Dev Environment</a></small></li>
                      
                        <li><small><a href="/howto/witness/2020/04/01/how-to-set-up-your-witness-server-with-mira.html">How to set up your Witness server with MIRA?</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/ecency/avatar/small)">
                  <a href="https://hive.blog/@ecency">ecency</a>
                  <ul>
                        <li><small><a href="/news/devops/api/2020/12/29/rpc-proxy-for-blockchain-opensourced.html">RPC-Proxy for blockchain, opensourced</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/emrebeyler/avatar/small)">
                  <a href="https://hive.blog/@emrebeyler">emrebeyler</a>
                  <ul>
                        <li><small><a href="/news/devops/api/2021/01/27/introducing-hived-rpc-scanner-a-cli-tool-to-check-the-status-of-hive-rpc-nodes-by-testing-certain-endpoints.html">hived-rpc-scanner: A tool to check the status of Hive RPC nodes by testing certain endpoints.</a></small></li>
                      
                        <li><small><a href="/howto/hivesigner/python/wallet/2020/04/14/powering-up-2.html">Hivesigner Python Client</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/engrave/avatar/small)">
                  <a href="https://hive.blog/@engrave">engrave</a>
                  <ul>
                        <li><small><a href="/howto/nano/nodejs/wallet/2021/03/02/javascript-library-for-ledger-nano-s-hive-application.html">JavaScript library for Ledger Nano S HIVE application</a></small></li>
                      
                        <li><small><a href="/howto/devops/docker/2020/04/19/improvements-for-condenser-repository-continuous-integration-and-deployments.html">Improvements for Condenser repository, Continuous Integration and Deployments</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/geekgirl/avatar/small)">
                  <a href="https://hive.blog/@geekgirl">geekgirl</a>
                  <ul>
                        <li><small><a href="/howto/beem/python/custom_json/2021/03/22/using-hive-blockchain-custom-json-operation-with-python-and-beem.html">Using Hive Blockchain Custom Json Operation with Python & Beem</a></small></li>
                      
                        <li><small><a href="/howto/python/hivesql/2021/01/12/using-hivesql-with-python-on-mac.html">Using HiveSQL with Python on Mac</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/good-karma/avatar/small)">
                  <a href="https://hive.blog/@good-karma">good-karma</a>
                  <ul>
                        <li><small><a href="/news/nodejs/hivesigner/2021/02/27/hivesigner-sdk-rewritten-in-typescript.html">Hivesigner SDK rewritten in typescript</a></small></li>
                      
                        <li><small><a href="/seo/api/2020/11/27/hivesearcher-website-opensourced.html">Hivesearcher website opensourced</a></small></li>
                      
                        <li><small><a href="/news/nodejs/hivesigner/2020/09/14/hivesigner-documentation-hardfork-and-other-improvements.html">Hivesigner - Documentation, Hardfork and other improvements</a></small></li>
                      
                        <li><small><a href="/seo/api/2020/09/10/hivesearcher-free-integrate-it-into-your-hive-apps.html">Hivesearcher - free, integrate it into your Hive apps</a></small></li>
                      
                        <li><small><a href="/news/nodejs/hivesigner/imagehoster/2020/07/07/imagehoster-hivesigner-and-condenser-bounty.html">Imagehoster + Hivesigner and Condenser bounty</a></small></li>
                      
                        <li><small><a href="/news/hivesigner/2020/06/12/hivesigner-ui-simplified-0-2-0-release.html">Hivesigner UI simplified, 0.2.0 release</a></small></li>
                      
                        <li><small><a href="/news/swagger/api/2020/04/29/interactive-hive-api-moved-to-hivesigner.html">Interactive Hive API moved to Hivesigner</a></small></li>
                      
                        <li><small><a href="/news/nodejs/hivesigner/2020/04/14/devportal-hivesigner-updates.html">Devportal Hivesigner updates</a></small></li>
                      
                        <li><small><a href="/news/hivesigner/2020/04/05/steemconnect-notice.html">SteemConnect notice</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/gtg/avatar/small)">
                  <a href="https://hive.blog/@gtg">gtg</a>
                  <ul>
                        <li><small><a href="/news/devops/hivemind/nodes/2020/05/04/hive-pressure-2-how-to-answer-hive-questions.html">Hive Pressure 2: How to Answer Hive Questions?</a></small></li>
                      
                        <li><small><a href="/news/devops/nodes/2020/04/19/hive-pressure-1-a-new-hope.html">Hive Pressure #1: A New Hope</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/hivebuzz/avatar/small)">
                  <a href="https://hive.blog/@hivebuzz">hivebuzz</a>
                  <ul>
                        <li><small><a href="/news/devops/api/hivebuzz/engagement/2020/07/07/api.html">Introducing the HiveBuzz API for applications and websites</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/hiveio/avatar/small)">
                  <a href="https://hive.blog/@hiveio">hiveio</a>
                  <ul>
                        <li><small><a href="/news/devops/api/2020/12/16/getblock-x-hive-providing-hive-node-services-presenting-at-hivefest-and-a-hive-giveaway.html">GetBlock x Hive : Providing Hive Node Services, Presenting at HiveFest, and a HIVE Giveaway</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/10/20/airdrop-vested-funds-distribution-round-corrections.html">Airdrop Vested Funds Distribution Round and Corrections</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/10/20/hive-first-community-hardfork-complete.html">Hive's First Community Hardfork is Complete! A Post Fork Perspective</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/10/08/has-the-eclipse-happened-explaining-how-hive-hardforks-work-and-activating-hf24-on-october-14th.html">Has the Eclipse Happened? Explaining How Hive Hardforks Work, and Activating HF24 on October 14th</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/09/24/final-hive-hf24-date-set-october-6-2020.html">FINAL HIVE HF24 DATE SET: October 6, 2020</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/08/21/tentative-hardfork-date-hive-hf24-information.html">Tentative Hardfork Date Set! Hive HF24 Information Mega Post</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/06/08/hardfork-24-resources-for-node-operators-and-developers.html">Hive Hardfork 24: Resources for Node Operators and Developers</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/06/04/hive-hardfork-24-upcoming-release-candidate-testnet-other-info.html">Hive Hardfork 24: Upcoming Release Candidate, Testnet, and Other Info</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/04/20/core-development-on-hive.html">Core Development on Hive</a></small></li>
                      
                        <li><small><a href="/news/2020/04/06/community-discussion-updates-hive-airdrop-exclusion-core-developer-meetings.html">Community Discussion and Updates: Hive Airdrop Exclusion List and Code Corrections, Core Developer Meetings</a></small></li>
                      
                        <li><small><a href="/news/2020/03/21/the-hive-blockchain-has-launched-successfully-recap-and-helpful-information.html">The Hive Blockchain Has Launched Successfully! Recap and Helpful Information</a></small></li>
                      
                        <li><small><a href="/news/2020/03/17/announcing-the-launch-of-hive-blockchain.html">Announcing the Launch of Hive Blockchain</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/holger80/avatar/small)">
                  <a href="https://hive.blog/@holger80">holger80</a>
                  <ul>
                        <li><small><a href="/howto/beem/python/blocktivity/2020/12/20/verify-blocktivity-numbers-for-hive-and-blurt.html">Verify blocktivity numbers for Hive and Blurt</a></small></li>
                      
                        <li><small><a href="/news/python/wallet/2020/12/05/how-to-use-a-coldcard-mk3-to-derive-your-new-account-password-from-a-24-word-seed.html">How to use a coldcard MK3 to derive your new account password from a 24 word seed</a></small></li>
                      
                        <li><small><a href="/news/python/account-history/2020/11/06/update-for-beem-improved-account-history-handling.html">Update for beem: improved account history handling</a></small></li>
                      
                        <li><small><a href="/news/python/bot/2020/08/19/delegationonboardbot-a-new-bot-for-managing-delegation-to-referred-accounts-created-with-hiveonboarding.html">delegationOnboardBot - a new bot for managing delegation to referred accounts created with hiveonboarding</a></small></li>
                      
                        <li><small><a href="/howto/python/reports/2020/08/04/how-to-create-transactions-history-tables-with-python-for-your-tax-report.html">How to create transactions history tables with python for your tax report</a></small></li>
                      
                        <li><small><a href="/news/python/community/2020/07/14/update-for-beem-add-community-support.html">update for beem: add community support</a></small></li>
                      
                        <li><small><a href="/news/python/hive-engine/nft/2020/07/04/hiveengine-nft-support-has-been-added.html">hiveengine - NFT support has been added</a></small></li>
                      
                        <li><small><a href="/howto/beem/python/content/2020/05/23/how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts.html">How to fix canonical URLs and links in your pre-fork posts</a></small></li>
                      
                        <li><small><a href="/howto/beem/python/wallet/2020/05/12/update-for-beem-support-for-ledger-nano-sx-has-been-added.html">update for beem: support for Ledger Nano (S/X) has been added</a></small></li>
                      
                        <li><small><a href="/howto/beem/python/wallet/2020/04/08/update-for-beem-beempy-installer-for-windows-and-beempy-as-shell.html">Update for beem: beempy installer for windows and beempy as shell</a></small></li>
                      
                        <li><small><a href="/howto/beem/python/communities/2020/04/06/update-for-beem-huge-performance-improvements-and-bridge-api-support.html">Update for beem: huge performance improvements and bridge API support</a></small></li>
                      
                        <li><small><a href="/howto/beem/python/account/2020/04/02/how-to-review-account-permissions-and-change-your-recovery-account.html">How to review account permissions and change your recovery account</a></small></li>
                      
                        <li><small><a href="/howto/beem/python/curation/2020/04/01/update-for-beem-fixing-author-curation-reward-calculation-and-more.html">Update for beem: fixing author/curation reward calculation and more</a></small></li>
                      
                        <li><small><a href="/howto/beem/python/market/hbd/2020/03/24/use-beempy-to-access-the-internal-hive-hbd-market.html">Use beempy to access the internal HIVE/HBD market</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/howo/avatar/small)">
                  <a href="https://hive.blog/@howo">howo</a>
                  <ul>
                        <li><small><a href="/news/core/development/2021/03/15/hive-core-developer-meeting-19.html">Hive core developer meeting #19</a></small></li>
                      
                        <li><small><a href="/news/core/development/2021/02/22/hive-core-developer-meeting-18.html">Hive core developer meeting #18</a></small></li>
                      
                        <li><small><a href="/news/core/development/2021/02/16/core-developers-meeting-17.html">Core developers meeting #17</a></small></li>
                      
                        <li><small><a href="/news/core/development/2021/01/18/core-developers-meeting-16.html">Core developers meeting #16</a></small></li>
                      
                        <li><small><a href="/news/core/development/2021/01/05/core-developers-meeting-15.html">Core developers meeting #15</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/12/29/hive-deloppers-meeting-14.html">Hive developers meeting #14</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/11/25/hive-deloppers-meeting-13.html">Hive deloppers meeting #13</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/11/02/hive-developer-meeting-12.html">Hive developer meeting #12</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/10/23/hive-core-developper-meeting-11.html">Hive core developper meeting #11</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/10/05/hive-core-developper-meeting-10.html">Hive core developper meeting #10</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/09/23/core-development-report-8.html">Core development report #8</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/09/12/hive-core-developper-meeting-9.html">Hive core developper meeting #9</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/08/24/hive-core-developper-meeting-8.html">Hive core developper meeting #8</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/08/18/core-development-report-7.html">Core development report #7</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/07/26/core-development-report-6.html">Core development report #6</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/07/20/hive-core-developper-meeting-7.html">Hive core developper meeting #7</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/07/15/core-development-report-5.html">Core development report #5</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/07/09/hive-core-developper-meeting-6.html">Hive  core developper meeting #6</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/06/09/hive-developpers-bi-weekly-meetings-4-and-5.html">Hive developpers bi-weekly meetings #4 and #5 with a tl;dr ! </a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/06/07/core-development-report-4.html">Core development report #4</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/05/28/core-development-report-3.html">Core development report #3</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/05/17/core-development-report-2-rc-delegations-are-ready-for-review.html">Core development report #2: Rc delegations are ready for review</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/05/09/core-development-report-1.html">Core development report #1</a></small></li>
                      
                        <li><small><a href="/news/core/development/2020/05/04/hive-core-dev-meeting-3-recording-and-1-and-2-i-m-late-sorry.html">Hive core dev meeting #3 recording (and #1 and #2 I'm late sorry)</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/inertia/avatar/small)">
                  <a href="https://hive.blog/@inertia">inertia</a>
                  <ul>
                        <li><small><a href="/tools/docker/testnet/2021/04/15/tin-toy-hf26-on-a-local-testnet.html">Tin Toy - HF25 on a Local Testnet</a></small></li>
                      
                        <li><small><a href="/howto/beem/python/2021/03/16/devportal-python-tutorial-review-complete.html">Devportal Python Tutorial Review Complete</a></small></li>
                      
                        <li><small><a href="/news/documentation/2021/02/27/hive-devportal-update-sdk-references-python-tutorials.html">Hive Devportal Update: SDK References, Python Tutorials</a></small></li>
                      
                        <li><small><a href="/news/ruby/eclipse/2020/11/09/radiator-v0-4-8-hive-ruby-api-client-eclipse-update.html">Radiator v0.4.8 - Hive Ruby API Client: Eclipse Update</a></small></li>
                      
                        <li><small><a href="/tools/docker/testnet/2020/11/04/tin-toy-update-eclipse-hf.html">Tin Toy Update - Eclipse HF</a></small></li>
                      
                        <li><small><a href="/news/ruby/eclipse/2020/10/14/ruby-client-for-hive-hive-ruby-1-0-1.html">Ruby Client for Hive: hive-ruby-1.0.1</a></small></li>
                      
                        <li><small><a href="/news/ruby/beechat/2020/10/08/beeline-a-beechat-client-framework-for-ruby.html">BeeLine, a BeeChat Client Framework for Ruby</a></small></li>
                      
                        <li><small><a href="/tools/ruby/2020/05/07/ruby-client-for-hive-hive-ruby-1-0-0-pre-1.html">Ruby Client for Hive: hive-ruby-1.0.0.pre.1</a></small></li>
                      
                        <li><small><a href="/tools/ruby/jekyll/2020/04/01/jekyll-hive.html">Jekyll::Hive</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/keychain/avatar/small)">
                  <a href="https://hive.blog/@keychain">keychain</a>
                  <ul>
                        <li><small><a href="/news/nodejs/hive-keychain/2020/11/08/hive-keychain-development-proposal-2.html">Hive Keychain Development Proposal #2</a></small></li>
                      
                        <li><small><a href="/news/nodejs/hive-keychain/2020/09/24/hive-keychain-dhf-week-18.html">Hive Keychain DHF - Week 18</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/keys-defender/avatar/small)">
                  <a href="https://hive.blog/@keys-defender">keys-defender</a>
                  <ul>
                        <li><small><a href="/news/devops/security/2021/03/17/phishing-on-hive-no-more-solution-for-all-frontends.html">Phishing on Hive? No more. Solution for all Frontends.</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/lonelywolf/avatar/small)">
                  <a href="https://hive.blog/@lonelywolf">lonelywolf</a>
                  <ul>
                        <li><small><a href="/howto/nodejs/bot/2020/04/14/hive-patched-upvoting-by-payment-in-4-easy-steps-basic-bot.html">[Hive Patched] Upvoting By Payment In 4 Easy Steps - Basic Bot</a></small></li>
                      
                        <li><small><a href="/howto/nodejs/2020/04/10/quick-tip-hive-scripting-in-3-easy-steps.html">Quick Tip: Hive Scripting - In 3 easy steps</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/mahdiyari/avatar/small)">
                  <a href="https://hive.blog/@mahdiyari">mahdiyari</a>
                  <ul>
                        <li><small><a href="/howto/nodejs/2021/04/11/making-a-decentralized-game-on-hive-part-5.html">Making a Decentralized Game on Hive - Part 5</a></small></li>
                      
                        <li><small><a href="/howto/nodejs/2021/04/01/making-a-decentralized-game-on-hive-part-4.html">Making a Decentralized Game on Hive - Part 4</a></small></li>
                      
                        <li><small><a href="/howto/nodejs/2021/03/28/making-a-decentralized-game-on-hive-part-3.html">Making a Decentralized Game on Hive - Part 3</a></small></li>
                      
                        <li><small><a href="/howto/nodejs/2021/03/16/making-a-decentralized-game-on-hive-part-2.html">Making a Decentralized Game on Hive - Part 2</a></small></li>
                      
                        <li><small><a href="/howto/nodejs/2021/03/13/making-a-decentralized-game-on-hive-tic-tac-toe-part-1.html">Making a Decentralized Game on Hive - Tic Tac Toe - Part 1</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/netuoso/avatar/small)">
                  <a href="https://hive.blog/@netuoso">netuoso</a>
                  <ul>
                        <li><small><a href="/howto/beem/python/wallet/2020/05/12/example-of-using-the-ledger-nano-s-with-beem.html">Example of using the Ledger Nano S with Beem</a></small></li>
                      
                        <li><small><a href="/howto/nano/python/wallet/2020/05/10/hive-application-for-the-ledger-nano-s-x-hardware-wallet.html">Hive Application for the Ledger Nano S/X Hardware Wallet</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/peakd/avatar/small)">
                  <a href="https://hive.blog/@peakd">peakd</a>
                  <ul>
                        <li><small><a href="/news/hivemind/api/2020/11/24/hivemind-api-extension-community-curated-content-and-more.html">Hivemind API Extension, Community Curated Content and More</a></small></li>
                      
                        <li><small><a href="/news/devops/api/2020/10/30/announcing-the-hive-node-beacon-project.html">Announcing the Hive Node Beacon project</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/penguinpablo/avatar/small)">
                  <a href="https://hive.blog/@penguinpablo">penguinpablo</a>
                  <ul>
                        <li><small><a href="/news/projects/2020/03/21/hiveblockexplorer-com-is-now-online.html">HiveBlockExplorer.com is now online</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/primersion/avatar/small)">
                  <a href="https://hive.blog/@primersion">primersion</a>
                  <ul>
                        <li><small><a href="/howto/beem/python/account/2021/03/29/changing-your-recovery-account-and-recovering-your-account-using-python.html">Changing your recovery account and recovering your account using python</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/quochuy/avatar/small)">
                  <a href="https://hive.blog/@quochuy">quochuy</a>
                  <ul>
                        <li><small><a href="/news/nodejs/condenser/2021/04/22/6cv6sw-my-new-contributions-to-the-hive-condenser-and-wallet-apps.html">My new contributions to the Hive Condenser and Wallet apps.</a></small></li>
                      
                        <li><small><a href="/news/nodejs/condenser/2021/04/13/5ps1ah-my-new-contributions-to-the-hive-condenser-and-wallet-apps.html">My new contributions to the Hive Condenser and Wallet apps.</a></small></li>
                      
                        <li><small><a href="/news/nodejs/condenser/2021/03/30/5ejnqa-my-new-contributions-to-the-hive-condenser-and-wallet-apps.html">My new contributions to the Hive Condenser and Wallet apps.</a></small></li>
                      
                        <li><small><a href="/news/nodejs/condenser/2021/02/16/my-new-contributions-to-the-hive-condenser-and-wallet-apps.html">My new contributions to the Hive Condenser and Wallet apps.</a></small></li>
                      
                        <li><small><a href="/news/nodejs/condenser/2021/01/28/22ehbp-my-new-contributions-to-the-hive-condenser.html">My new contributions to the Hive Condenser</a></small></li>
                      
                        <li><small><a href="/news/nodejs/condenser/2021/01/21/4e8t3w-my-new-contributions-to-the-hive-condenser.html">My new contributions to the Hive Condenser</a></small></li>
                      
                        <li><small><a href="/news/nodejs/condenser/2021/01/08/my-new-contributions-to-the-hive-condenser-and-hive-keychain.html">My new contributions to the Hive Condenser, Wallet & Hive Keychain</a></small></li>
                      
                        <li><small><a href="/news/nodejs/condenser/2020/11/25/6gshbx-my-new-contributions-to-the-hive-condenser.html">My new contributions to the Hive Condenser</a></small></li>
                      
                        <li><small><a href="/news/nodejs/condenser/2020/11/09/29vxd3-my-new-contributions-to-the-hive-condenser.html">My new contributions to the Hive Condenser</a></small></li>
                      
                        <li><small><a href="/news/nodejs/condenser/2020/10/27/6h8fgn-my-new-contributions-to-the-hive-condenser.html">My new contributions to the Hive Condenser</a></small></li>
                      
                        <li><small><a href="/howto/nodejs/wallet/2020/05/14/beta-hive-ledger-web-interface.html">Beta Hive Ledger web interface</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/reazuliqbal/avatar/small)">
                  <a href="https://hive.blog/@reazuliqbal">reazuliqbal</a>
                  <ul>
                        <li><small><a href="/news/devops/api/chat/2020/09/29/open-sourcing-beechat-client-and-developer-documentation.html">Open sourcing BeeChat Client And Developer Documentation</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/rishi556/avatar/small)">
                  <a href="https://hive.blog/@rishi556">rishi556</a>
                  <ul>
                        <li><small><a href="/howto/witness/pricefeed/2020/11/26/how-to-setup-hive-witness-pricefeed-using-hivefeed-js.html">How To Setup Hive Witness Pricefeed Using Hivefeed-JS</a></small></li>
                      
                        <li><small><a href="/howto/witness/docker/node/2020/11/08/how-to-set-up-a-hive-witness-using-hiab-at-version-1-24-4.html">How To Set Up A Hive Witness Using HIAB At Version 1.24.4</a></small></li>
                      
                        <li><small><a href="/howto/nodejs/reports/2020/07/17/my-scripts-4-your-curation-reward-in-the-past-24-hours.html">My Scripts 4- Your Curation Reward In The Past 24 Hours</a></small></li>
                      
                        <li><small><a href="/howto/nodejs/automation/2020/07/15/my-scripts-3-auto-sending-from-one-account-to-multiple-others.html">My Scripts 3- Auto Sending From One Account To Multiple Others</a></small></li>
                      
                        <li><small><a href="/howto/nodejs/transfer/2020/07/13/my-scripts-2-auto-send-from-multi-to-one-destination.html">My Scripts 2- Auto Send From Multi To One Destination</a></small></li>
                      
                        <li><small><a href="/howto/nodejs/witness/2020/07/12/my-scripts-1-witness-rank-and-amount-needed-to-rank-up.html">My Scripts 1- Witness Rank And Amount Needed To Rank Up</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/someguy123/avatar/small)">
                  <a href="https://hive.blog/@someguy123">someguy123</a>
                  <ul>
                        <li><small><a href="/howto/witness/docker/node/2020/04/27/how-to-set-up-a-hive-witness-or-seed-node-non-mira-upgrade-from-steem-docker-to-hive-docker.html">How to set up a Hive Witness or Seed node (non-MIRA) / Upgrade from Steem-Docker to Hive-Docker</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/stoodkev/avatar/small)">
                  <a href="https://hive.blog/@stoodkev">stoodkev</a>
                  <ul>
                        <li><small><a href="/howto/nodejs/react/2020/07/07/how-to-use-hivejs-or-other-modules-referencing-core-node-js-modules-on-react-native.html">How to use HiveJs (or other modules referencing core Node.js modules) on React Native</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/techcoderx/avatar/small)">
                  <a href="https://hive.blog/@techcoderx">techcoderx</a>
                  <ul>
                        <li><small><a href="/news/nodejs/encryption/2020/11/22/hivecrypt-javascript-module-for-hive-memo-encrypt-decrypt-on-wide-range-of-environments.html">Hivecrypt: JavaScript module for Hive memo encrypt/decrypt on wide range of environments</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/thecrazygm/avatar/small)">
                  <a href="https://hive.blog/@thecrazygm">thecrazygm</a>
                  <ul>
                        <li><small><a href="/howto/beem/python/stream/2020/04/11/simple-transaction-monitor.html">Simple Transaction Monitor</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/therealwolf/avatar/small)">
                  <a href="https://hive.blog/@therealwolf">therealwolf</a>
                  <ul>
                        <li><small><a href="/news/projects/hive/2021/04/12/google-analytics-reports-for-hiveio-150k-unique-users.html">Google Analytics Reports for Hive.io (~150k Unique Users)</a></small></li>
                      
                        <li><small><a href="/news/nodejs/hive-keychain/2020/12/02/npm-module-for-hive-keychain.html">NPM module for Hive Keychain</a></small></li>
                      
                        <li><small><a href="/news/projects/hive/2020/10/24/p-dpqzu9ckgo8doldcafddc45727eada7.html">Hive is finally on FontAwesome!</a></small></li>
                      
                        <li><small><a href="/howto/witness/2020/10/15/hf24-eclipse-and-hive-witness-essentials.html">HF24 Eclipse & Hive Witness Essentials</a></small></li>
                      
                        <li><small><a href="/news/projects/hive/2020/08/24/hive-io-updates.html">Hive.io Updates</a></small></li>
                      
                        <li><small><a href="/howto/witness/2020/04/07/hive-witness-essentials-rpc-failover-update.html">Hive Witness Essentials: RPC Failover Update</a></small></li>
                      
                        <li><small><a href="/howto/dhive/nodejs/rpc/2020/04/03/dhive-rpc-failover-support.html">dhive: RPC Failover Support</a></small></li>
                      </ul>
                </li><li class="list-style-avatar" style="background-image: url(https://images.hive.blog/u/yabapmatt/avatar/small)">
                  <a href="https://hive.blog/@yabapmatt">yabapmatt</a>
                  <ul>
                        <li><small><a href="/news/nodejs/hive-keychain/2020/04/17/hive-keychain-now-available-on-chrome-and-brave.html">Hive Keychain Now Available on Chrome & Brave!</a></small></li>
                      </ul>
                </li></ul>
          </div>
          
          <div id="topics-container" class="modal">
            <h3>Topics</h3>
            <ul><li><a class="page-link" href="/account-recovery/"><nobr>Account Recovery</nobr></a></li><li><a class="page-link" href="/core-development/"><nobr>Core Development</nobr></a></li><li><a class="page-link" href="/dapps/"><nobr>Dapps</nobr></a></li><li><a class="page-link" href="/docker/"><nobr>Docker</nobr></a></li><li><a class="page-link" href="/hardfork/"><nobr>Hardfork</nobr></a></li><li><a class="page-link" href="/hivemind/"><nobr>Hivemind</nobr></a></li><li><a class="page-link" href="/javascript/"><nobr>Javascript</nobr></a></li><li><a class="page-link" href="/multisig/"><nobr>Multisig</nobr></a></li><li><a class="page-link" href="/python/"><nobr>Python</nobr></a></li><li><a class="page-link" href="/ruby/"><nobr>Ruby</nobr></a></li><li><a class="page-link" href="/testnet/"><nobr>Testnet</nobr></a></li><li><a class="page-link" href="/tools/"><nobr>Tools</nobr></a></li><li><a class="page-link" href="/witness/"><nobr>Witness</nobr></a></li></ul>
          </div>
        </div>
      </nav>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <div class="pull-right well">
      <img src="https://images.hive.blog/u/holger80/avatar" width="128" height="128" class="lazyload" />
    </div>
    
    <h1 class="post-title p-name" itemprop="name headline">How to fix canonical URLs and links in your pre-fork posts</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-05-23T07:20:12-07:00" itemprop="datePublished">May 23, 2020
      </time> <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">
          <a href="https://hive.blog/@holger80">holger80</a>
        </span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div id="content-holger80-how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts">

As you can see here, I have some links in my blogs written before the hive-fork pointing to steemit.com. It's time to replace them all.

![steemit link in my blog](https://images.hive.blog/DQmfDpnHj9kXEqo2ZXNSAkaPbFb4svFqWXLyUEdEuniqd3e/steemit%20link%20in%20my%20blog)

Almost all blog posts written before the fork are written with apps that are not included in [hivescript](https://www.npmjs.com/package/@hivechain/hivescript) and lead to problems with canonical URLs:

As it can be seen here, my old post [update for beem: first release for HF 21](https://peakd.com/beem/@holger80/update-for-beem-first-release-for-hf-21) result in different canonical URLs on different front-ends. This is then handled as duplicated content by the search engines.
The post was written through palnet. As there is no entry for palnet in [hivescript](https://www.npmjs.com/package/@hivechain/hivescript), the front-ends to not know how to build a proper canonical URL:
![wrong canonical url](https://images.hive.blog/DQmXe1t2QwJtizzVXDpG89GVNxyYAorFu6Tjj5LRnXkEJss/wrong%20canonical%20url)

# Fixing The mess
Fixing means:

* replacing all steemit, steempeak, ... links with relative links
* setting `canonical_url` for each post written before 2020-03-20, to fix canonical  URLs.

### Small update
The script uses now relative links, when found a link to steemit.com ..., it will be replaced by a relative link. A relative link looks like: `[holger80](/@holger80)` and `[this post](/hive-139531/@holger80/how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts)`

### Small update 2
There are now three boolean parameters, which can be used to set the following:

* `replace_steemit_links`: when True, steemit, ... links will be replaced
* `use_relative_links`: when True, relative links will be used (starting with `/`)
* `add_canonical_url`: When True, a canonical_url is added to the metadata

### Small update 3
It is now possible to use the same script for fixing the canonical links on STEEM for all written post before the fork.
When you want to use the script on STEEM:
* set `target_blockchain = "steem"`

When you want to use the script on HIVE:
* set `target_blockchain = "hive"`

### Python code
The following script is using beem and will do exactly this.

beem can be installed by
```
pip install beem
```
or
```
conda install beem
```

Store the following as `fix_canonical_urls_hive.py`:

```
#!/usr/bin/python
from beem import Hive, Steem
from beem.utils import addTzInfo
from beem.account import Account
from beem.comment import Comment
from beem.nodelist import NodeList
import time
from datetime import datetime
import getpass


if __name__ == "__main__":
    # Parameter
    canonical_url = "https://hive.blog"
    replace_steemit_links = True
    use_relative_links = True
    add_canonical_url = True
    target_blockchain = "hive" # can be hive or steem
    # ----
    # at least one option must be true
    assert replace_steemit_links or add_canonical_url
    assert target_blockchain in ["hive", "steem"]
    # Canonical url must not end with /
    if canonical_url[-1] == "/":
        canonical_url = canonical_url[:-1]
    nodelist = NodeList()
    nodelist.update_nodes()
    test_run_answer = input("Do a test run? [y/n]")
    if test_run_answer in ["y", "Y", "yes"]:
        test_run = True
        print("Doing a test run on %s!" % target_blockchain)
    else:
        test_run = False
    if test_run:
        if target_blockchain == "hive":
            blockchain_instance= Hive(node=nodelist.get_hive_nodes())
        else:
            blockchain_instance= Steem(node="https://api.steemit.com")
    else:
        wif = getpass.getpass(prompt='Enter your posting key for %s.' % target_blockchain)
        if target_blockchain == "hive":
            blockchain_instance = Hive(node=nodelist.get_hive_nodes(), keys=[wif])
        else:
            blockchain_instance = Steem(node="https://api.steemit.com", keys=[wif])
    if target_blockchain == "hive":
        assert blockchain_instance.is_hive
    else:
        assert blockchain_instance.is_steem

    account = input("Account name =")
    account = Account(account, blockchain_instance=blockchain_instance)
    if add_canonical_url:
        print("Start to fix canonical_url on %s for %s" % (target_blockchain, account["name"]))
    if replace_steemit_links:
        print("Start to replace steemit links on %s for %s" % (target_blockchain, account["name"]))
    
    apps_with_cannonical_url = ["hiveblog", "peakd", "esteem", "steempress", "actifit",
                                "travelfeed", "3speak", "steemstem", "leofinance", "clicktrackprofit",
                                "dtube"]
    hive_fork_date = addTzInfo(datetime(2020, 3, 20, 14, 0, 0))
    blog_count = 0
    expected_count = 100
    while expected_count - blog_count == 100:
        
        for blog in account.get_blog_entries(start_entry_id=blog_count, raw_data=False):
            blog_count += 1
            if blog["parent_author"] != "":
                continue
            if blog["author"] != account["name"]:
                continue
            if "canonical_url" in blog.json_metadata and canonical_url in blog.json_metadata["canonical_url"]:
                continue
            if "app" in blog.json_metadata and blog.json_metadata["app"].split("/")[0] in apps_with_cannonical_url and target_blockchain == "hive":
                continue
            if blog["created"] &gt; hive_fork_date:
                continue
            body = blog.body
            if "links" in blog.json_metadata:
                links = blog.json_metadata["links"]
            else:
                links = None
            if "links" in blog.json_metadata and replace_steemit_links:
                for link in blog.json_metadata["links"]:
                    if "steemit.com" in link or "steempeak.com" in link or "busy.org" in link or "partiko.app" in link:
                        authorperm = link.split("@")
                        acc = None
                        post = None
                        new_link = ""
                        if len(authorperm) == 1:
                            continue
                        authorperm = authorperm[1]
                        if authorperm.find("/") == -1:
                            try:
                                acc = Account(authorperm, blockchain_instance=blockchain_instance)
                                if use_relative_links:
                                    new_link = "/@" + acc["name"]
                                else:
                                    new_link = canonical_url + "/@" + acc["name"]
                            except:
                                continue
                        else:
                            try:
                                post = Comment(authorperm, blockchain_instance=blockchain_instance)
                                if use_relative_links:
                                    new_link =  "/" + post.category + "/" + post.authorperm
                                else:
                                    new_link =  canonical_url + "/" + post.category + "/" + post.authorperm
                            except:
                                continue
                        if new_link != "":
                            for i in range(len(links)):
                                if links[i] == link:
                                    links[i] = new_link
                            body = body.replace(link, new_link)
                            print("Replace %s with %s" % (link, new_link))
                            
            json_metadata = blog.json_metadata or {}
            if links is not None and replace_steemit_links:
                json_metadata["links"] = links            
            if add_canonical_url:
                json_metadata["canonical_url"] = canonical_url + "/" + blog["category"] + "/@" + blog["author"] + "/" + blog["permlink"]
                print("Edit post nr %d with canonical_url=%s" % (blog_count, json_metadata["canonical_url"]))
            print("---")
            if not test_run:
                try:
                    blog.edit(body, meta=json_metadata, replace=True)
                except:
                    print("Skipping %s due to error" % blog.authorperm)
                time.sleep(6)

        expected_count += 100
    
    
```

You can now start the script with:
```
python fix_canonical_urls_hive.py
```
If you are on Linux, you should replace `pip` by `pip3` and `python` by `python3`.

## How does it work
The script goes through all blog posts written before 2020-03-14. Whenever the post was written by an app, that is not properly handled by [hivescript](https://www.npmjs.com/package/@hivechain/hivescript), a new canonical_url is set.

You can define your preferred front-end here:
```
canonical_url = "https://hive.blog"
```
If you like other front-ends, you can replace this line by
* `canonical_url = "https://peakd.com"`
* `canonical_url = "https://leofinance.io"`
* `canonical_url = "https://esteem.app"`

In the next step, all used links are checked. Whenever a link is pointing to a valid hive post or to a valid hive user, the link is replaced by a releative url (When the link was pointing to steemit.com, steempeak.com, busy.org or partiko.app).

## Test run
You can do a test run and checking what will be changed by the script:
![test_run](https://images.hive.blog/DQmZht6KJmnJkBGebgwyXdGBpj4dSCCYkdqwzn6PpwD4ado/test_run)

This show now the following information:

![test result](https://images.hive.blog/DQmWE3JdvZBYJauzmAHjFFnsCwyuZ6YBHzonbbSbtPf5Gdx/test%20result)
The set canonical url is shown as well all links that will be replaced.

## Fixing your posts
We can now start to fix all old posts:
![starting the script](https://images.hive.blog/DQmdaFJFkxsAaMmc8wG5vESFwRGqPJwRR2GPXySJtvEAxKh/starting%20the%20script)

## Results
All changes have been broadcasted:
![Broadcasted posts](https://images.hive.blog/DQmNq6JKN9Cr5mDkBMsEcL8nCqRvH7ktkprTNXTU75K4Pz4/Broadcasted%20posts)

The links have been corrected, as shown here:
![](https://images.hive.blog/DQmUFVmj9vW84ZH1aa2V4PfSKHsJLsARDUkWbo62KpxnnfA/image)
There seems to be a bug with hive.blog, that steemit.com links are shown as internal and hive.blog links are shown as external links.

The canonical url is also fixed:

![canonical urls](https://images.hive.blog/DQmVjxuvCHYtfaS2p6c9i4wj43siJUMJciB2gwKE8dn5RMs/canonical%20urls)

It seems that esteem.app has not changed its canonical url right now. As I know that esteem.app should read the `canonical_url` parameter (works for steempress), it may correct the canonical URLs later.

After a fix on esteem.app, esteem.app is using now the correct canonical url:
![canonical url from esteem.app](https://images.hive.blog/DQmcbaPV3teUczT5WmxuaMybeyz4hdTEbaG5NV6kQ2HGHhj/canonical%20url%20from%20esteem.app)

## Results on STEEM
Setting `canonical_url` works also on steemit:

![canonical url on steemit](https://images.hive.blog/DQmShxP35w4ARXfryjEdsdWnuVKV1zebkSoRgbGCjTQRQbC/canonical%20url%20on%20steemit)

I used [seoreviewtools](https://www.seoreviewtools.com/canonical-url-location-checker/) to check the canonical urls.

___

*If you like what I do, consider casting a vote for me as witness on [Hivesigner](https://hivesigner.com/sign/account-witness-vote?witness=holger80&amp;approve=1) or on [PeakD](https://peakd.com/witnesses)*

</div>
<script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

<script src="https://unpkg.com/steem-content-renderer"></script>

<!-- <script src="https://cdn.jsdelivr.net/npm/hive-content-renderer/dist/hive-content-renderer.min.js"></script> -->
<script>
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
      // const renderer = new HiveContentRenderer({
        baseUrl: "https://hive.blog/",
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: "",
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) => url,
        usertagUrlFn: (account) => "/@holger80",
        hashtagUrlFn: (hashtag) => "/how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts",
        isLinkSafeFn: (url) => true,
      });
      
      const inputElem = $('#content-holger80-how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts').html();
      const outputElem = $('#content-holger80-how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
</script>

<style>
  #content-holger80-how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-holger80-how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts code {
    background: white;
  }
  #content-holger80-how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-holger80-how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts a:hover {
    border-bottom: 0;
  }
  #content-holger80-how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts h1 {
    font-size: 2.2em;
  }
  #content-holger80-how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-holger80-how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts header small {
    color: #999;
    font-size: 50%;
  }
  #content-holger80-how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts img {
    max-width: 100%;
  }
</style>

<hr />

<p>
  See: <a href="https://hive.blog/hive-139531/@holger80/how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts">How to fix canonical URLs and links in your pre-fork posts</a>
  by
  <a href="https://hive.blog/@holger80">@holger80</a>
</p>


  </div><a class="u-url" href="/howto/beem/python/content/2020/05/23/how-to-fix-canonical-urls-and-links-in-your-pre-fork-posts.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading"><a rel="author" href="/">Hive Chain Documentation</a></h2>
    
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">site curated by: @inertia</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Your resource for various levels of Hive Documentation.</p>
      </div>
    </div>
  </div>

</footer>
</body>

</html>
