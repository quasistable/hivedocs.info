<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="/assets/images/sticker.png" /><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Changing your recovery account and recovering your account using python | Hive Chain Documentation</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Changing your recovery account and recovering your account using python" />
<meta name="author" content="primersion" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="With all of the recent scams and phishing websites here on HIVE the topic of recovery accounts has come up again." />
<meta property="og:description" content="With all of the recent scams and phishing websites here on HIVE the topic of recovery accounts has come up again." />
<link rel="canonical" href="https://peakd.com/hive/@primersion/changing-your-recovery-account-and-recovering-your-account-using-python" />
<meta property="og:url" content="https://peakd.com/hive/@primersion/changing-your-recovery-account-and-recovering-your-account-using-python" />
<meta property="og:site_name" content="Hive Chain Documentation" />
<meta property="og:image" content="https://files.peakd.com/file/peakd-hive/primersion/23wqEdP3oZmPkLo8xVeU41o1fCWu7gRKCsyNCrsAm5u73bhH4nocYD6AZpwmZjPWk8gxC.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-29T12:39:09-07:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://files.peakd.com/file/peakd-hive/primersion/23wqEdP3oZmPkLo8xVeU41o1fCWu7gRKCsyNCrsAm5u73bhH4nocYD6AZpwmZjPWk8gxC.png" />
<meta property="twitter:title" content="Changing your recovery account and recovering your account using python" />
<script type="application/ld+json">
{"description":"With all of the recent scams and phishing websites here on HIVE the topic of recovery accounts has come up again.","mainEntityOfPage":{"@type":"WebPage","@id":"https://peakd.com/hive/@primersion/changing-your-recovery-account-and-recovering-your-account-using-python"},"datePublished":"2021-03-29T12:39:09-07:00","@type":"BlogPosting","url":"https://peakd.com/hive/@primersion/changing-your-recovery-account-and-recovering-your-account-using-python","image":"https://files.peakd.com/file/peakd-hive/primersion/23wqEdP3oZmPkLo8xVeU41o1fCWu7gRKCsyNCrsAm5u73bhH4nocYD6AZpwmZjPWk8gxC.png","author":{"@type":"Person","name":"primersion"},"headline":"Changing your recovery account and recovering your account using python","dateModified":"2021-03-29T12:39:09-07:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://hivedocs.info/feed.xml" title="Hive Chain Documentation" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-161692811-1', 'auto');
  ga('send', 'pageview');
}
</script>
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js" integrity="sha256-iM4Yzi/zLj/IshPWMC1IluRxTtRjMqjPGd97TZ9yYpU=" crossorigin="anonymous"></script>
  <script src='https://unpkg.com/steem-content-renderer'></script>
  <script>
    (function () {
      if (Turbolinks.supported) {
        Turbolinks.setProgressBarDelay(500);
      }
    })();
  </script>
  <script src="/assets/javascript/universal-bridge-against-phishing.js"></script>
  <script src="/assets/javascript/lazysizes.min.js" async=""></script>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Cousine|Inconsolata" rel="stylesheet">
  <link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png">
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Hive Chain Documentation</a>

      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/news/">News</a><a class="page-link" href="/howto/">How To</a><a class="page-link" href="/links/">Useful Links</a><!-- HTML elements for search -->
          <input type="text" id="search-input" placeholder="Search" />
          
          <ul id="results-container"></ul>

          <script src="/assets/javascript/search.js"></script>
          <script>
            var sjs = SimpleJekyllSearch({
              searchInput: document.getElementById('search-input'),
              resultsContainer: document.getElementById('results-container'),
              json: '/search.json'
            })
          </script>
          <!-- <form style="float: right;" class="form-inline" method="get" action="http://www.google.com/search">
            <input type="hidden" name="sitesearch" value="hivedocs.info" />
            <input type="text" name="q" maxlength="255" placeholder="Search" />
          </form> -->
          
          
          <a href="#" onclick="try { $('#topics-container').slideToggle(); } catch { document.getElementById('topics-container').style.display = 'block'; }; return false;">Topics &#187;</a>
          
          <ul id="topics-container" style="display: none;"><li><a class="page-link" href="/account-recovery/"><nobr>Account Recovery</nobr></a></li><li><a class="page-link" href="/core-development/"><nobr>Core Development</nobr></a></li><li><a class="page-link" href="/dapps/"><nobr>Dapps</nobr></a></li><li><a class="page-link" href="/docker/"><nobr>Docker</nobr></a></li><li><a class="page-link" href="/hardfork/"><nobr>Hardfork</nobr></a></li><li><a class="page-link" href="/hivemind/"><nobr>Hivemind</nobr></a></li><li><a class="page-link" href="/javascript/"><nobr>Javascript</nobr></a></li><li><a class="page-link" href="/multisig/"><nobr>Multisig</nobr></a></li><li><a class="page-link" href="/python/"><nobr>Python</nobr></a></li><li><a class="page-link" href="/ruby/"><nobr>Ruby</nobr></a></li><li><a class="page-link" href="/testnet/"><nobr>Testnet</nobr></a></li><li><a class="page-link" href="/tools/"><nobr>Tools</nobr></a></li></ul>
        </div>
      </nav>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Changing your recovery account and recovering your account using python</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2021-03-29T12:39:09-07:00" itemprop="datePublished">Mar 29, 2021
      </time>â€¢ <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">
          <a href="https://hive.blog/@primersion">primersion</a>
        </span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div id="content-primersion-changing-your-recovery-account-and-recovering-your-account-using-python">
![Python_logo_and_wordmark.svg.png](https://files.peakd.com/file/peakd-hive/primersion/23wqEdP3oZmPkLo8xVeU41o1fCWu7gRKCsyNCrsAm5u73bhH4nocYD6AZpwmZjPWk8gxC.png)


With all of the recent scams and phishing websites here on HIVE the topic of recovery accounts has come up again. A lot of people still have there recovery account set to @steem or the account, which created their account e.g. @esteemapp or @blocktrades.

Setting the recovery account to a HIVE account you trust is really important in case someone is taking over your account. Otherwise all your hardly earned HIVE will be lost and there is no way of recovering it. When choosing a recovery account it is important you choose someone you trust and someone, who can identify you.

---

I myself use another account I created as my recovery account. The keys of the account are locked away and not easily accessible by an attacker. But this may not be the best solution for everyone. In particular I have set @recovery.hive as the recovery account for @primersion and @primersion as the recovery account for @recovery.hive.

The only way an attacker would be able to steal all of my funds would be to gain access to the keys for both accounts and if this should happen, it is my own fault ;)

---

Changing your recovery account is quite easy. You can use tools like the one created by @arcange [over here](https://tools.hivechain.app/recovery/) or the one created by @reazuliqbal you will find [over here](https://reazuliqbal.com/HiveAccountRecovery/) or change it directly on [peakd.com](https://peakd.com) under your Account Settings -&gt; Keys &amp; Permissions. Or you may use this small python script I wrote:

```
#!/usr/bin/python3

from beem import Hive
from beem.nodelist import NodeList
from beem.account import Account

nodelist = NodeList()
nodelist.update_nodes()
nodes = nodelist.get_hive_nodes()

account_name = input("Enter your account name: ")
owner_key = input("Enter your private owner key: ")
new_recovery_account = input("Enter new recovery account: ")

hive = Hive(node=nodes, keys=[owner_key])
account = Account(account_name, blockchain_instance=hive)
account.change_recovery_account(new_recovery_account)

print("Successfully changed recovery account")
```

You have to enter your account name and private owner key and the new recovery account and the script does the rest for you. Please be careful when using the script and when pasting your private owner key.

---

In addition to that I wrote a small script for recovering your account (if you are using another of your accounts as a recovery account for your main account). The script is based on the information provided [here for Steem](https://developers.steem.io/tutorials-python/account_recovery) and was adapted for HIVE:

```
#!/usr/bin/python3

import beembase
from beem.account import Account
from beem import Hive
from beem.transactionbuilder import TransactionBuilder
from beemgraphenebase.account import PasswordKey
from beembase.objects import Permission
from beem.nodelist import NodeList

# acquire hive node list
nodelist = NodeList()
nodelist.update_nodes()
nodes = nodelist.get_hive_nodes()

# capture user information
username = input('account to be recovered: ')
old_password = input('recent password for account: ')
new_password = input('new password for account: ')

recovery_account = input('account owner (recovery account): ')
recovery_account_private_key = input('account owner private ACTIVE key: ')

# create new account owner keys
new_account_owner_private_key = PasswordKey(username, new_password, role='owner').get_private_key()
new_account_owner_private_key_string = str(new_account_owner_private_key)
new_account_owner_public_key = str(new_account_owner_private_key.pubkey)

# create old account owner keys
old_account_owner_private_key = PasswordKey(username, old_password, role='owner').get_private_key()
old_account_owner_private_key_string = str(old_account_owner_private_key)
old_account_owner_public_key = str(old_account_owner_private_key.pubkey)

new_owner_authority = {
    "key_auths": [
        [new_account_owner_public_key, 1]
    ],
    "account_auths": [],
    "weight_threshold": 1
}

# recovery request data object creation
request_op_data = {
    'account_to_recover': username,
    'recovery_account': recovery_account,
    'new_owner_authority': new_owner_authority,
    'extensions': []
}

# recovery request operation creation
request_op = beembase.operations.Request_account_recovery(**request_op_data)

print('request_op_data')
print(request_op_data)

# recovery request broadcast
hive = Hive(node=nodes, keys=[recovery_account_private_key])
request_result = hive.finalizeOp(request_op, recovery_account, "active")

print('request_result')
print(request_result)

recent_owner_authority = {
    "key_auths": [
        [old_account_owner_public_key, 1]
    ],
    "account_auths": [],
    "weight_threshold": 1
}

op_recover_account_data = {
    'account_to_recover': username,
    'new_owner_authority': new_owner_authority,
    'recent_owner_authority': recent_owner_authority,
    'extensions': []
}

op_account_update_data = {
    "account": username,
    "active": {
        "key_auths": [
            [str(PasswordKey(username, new_password, role='active').get_private_key().pubkey), 1]
        ],
        "account_auths": [],
        "weight_threshold": 1
    },
    "posting": {
        "key_auths": [
            [str(PasswordKey(username, new_password, role='posting').get_private_key().pubkey), 1]
        ],
        "account_auths": [],
        "weight_threshold": 1
    },
    "memo_key": str(PasswordKey(username, new_password, role='memo').get_private_key().pubkey),
    "json_metadata": ""
}

op_recover_account = beembase.operations.Recover_account(**op_recover_account_data)

print('op_recover_account')
print(op_recover_account)

tb = TransactionBuilder(blockchain_instance=hive)
tb.appendOps([op_recover_account])
tb.appendWif(str(old_account_owner_private_key))
tb.appendWif(str(new_account_owner_private_key))
tb.sign()

result = tb.broadcast()
print('result')
print(result)

op_account_update = beembase.operations.Account_update(**op_account_update_data)

print('op_account_update')
print(op_account_update)

hive = Hive(node=nodes, keys=[new_account_owner_private_key])
tb = TransactionBuilder(blockchain_instance=hive)
tb.appendOps([op_account_update])
tb.appendWif(str(new_account_owner_private_key))
tb.sign()

result = tb.broadcast()

print('result')
print(result)
```

You will have to enter the account to be recovered, a recent password of the account and a new password for the account. For the actual recovery account you have to enter the account name and the private active key of the account. The remaining stuff like creating the account recovery request, recovering the account and updating the account data will be done by the script.

---

##### Please update your recovery account right now if you still have it set to @steem

---

Which account are you using as your recovery account, someone you trust or just some well-known and trustworthy account?

---

Like what I am doing - please support me by voting for my [HIVE](https://vote.hive.uno/?witness=primersion) / [Hive-Engine](https://votify.now.sh/primersion) witness.</div>
<script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

<script src="https://unpkg.com/steem-content-renderer"></script>

<script>
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
        baseUrl: "https://hive.blog/",
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: "",
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) => url,
        usertagUrlFn: (account) => "/@primersion",
        hashtagUrlFn: (hashtag) => "/changing-your-recovery-account-and-recovering-your-account-using-python",
        isLinkSafeFn: (url) => true,
      });
      
      const inputElem = $('#content-primersion-changing-your-recovery-account-and-recovering-your-account-using-python').html();
      const outputElem = $('#content-primersion-changing-your-recovery-account-and-recovering-your-account-using-python');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
</script>

<style>
  #content-primersion-changing-your-recovery-account-and-recovering-your-account-using-python {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-primersion-changing-your-recovery-account-and-recovering-your-account-using-python code {
    background: white;
  }
  #content-primersion-changing-your-recovery-account-and-recovering-your-account-using-python a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-primersion-changing-your-recovery-account-and-recovering-your-account-using-python a:hover {
    border-bottom: 0;
  }
  #content-primersion-changing-your-recovery-account-and-recovering-your-account-using-python h1 {
    font-size: 2.2em;
  }
  #content-primersion-changing-your-recovery-account-and-recovering-your-account-using-python h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-primersion-changing-your-recovery-account-and-recovering-your-account-using-python header small {
    color: #999;
    font-size: 50%;
  }
  #content-primersion-changing-your-recovery-account-and-recovering-your-account-using-python img {
    max-width: 100%;
  }
</style>

<hr />

<p>
  See: <a href="https://peakd.com/hive/@primersion/changing-your-recovery-account-and-recovering-your-account-using-python">Changing your recovery account and recovering your account using python</a>
  by
  <a href="https://hive.blog/@primersion">@primersion</a>
</p>


  </div><a class="u-url" href="/howto/beem/python/account/2021/03/29/changing-your-recovery-account-and-recovering-your-account-using-python.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading"><a rel="author" href="/">Hive Chain Documentation</a></h2>
    
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">site curated by: @inertia</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Your resource for various levels of Hive Documentation.</p>
      </div>
    </div>
  </div>

</footer>
</body>

</html>
