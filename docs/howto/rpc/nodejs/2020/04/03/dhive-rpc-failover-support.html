<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>dhive: RPC Failover Support | Hive Chain Documentation</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="dhive: RPC Failover Support" />
<meta name="author" content="therealwolf" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Greetings #Hivers &amp; fellow developers, I’ve just pushed a new version, 0.13.3, to dhive (JS library) that enables native RPC node failover-support. This feature is optional and is only active if an array of RPC nodes is given as the first argument in a Client. import {Client} from &#39;@hivechain/dhive&#39; // Failover const client = new Client([&#39;https://api.hive.blog&#39;, &#39;https://api.hivekings.com&#39;, &#39;https://anyx.io&#39;], { failoverThreshold: 3 /* default */}) // No failover const simpleClient = new Client(&#39;https://api.hive.blog&#39;) Relevant Options Parameters new Client(url, options) - failoverThreshold (default: 3): Specifies the number of times the URLs (RPC nodes) should be iterated and retried in case of timeout errors. Requires the first URL parameter to be an array! It can be set to 0 to iterate and retry forever. - timeout (default: 60 * 1000ms): Send timeout, how long to wait in milliseconds before giving up on an RPC call. It can be set to 0 to retry forever. GitLab Pull Request (Code) https://gitlab.syncad.com/hive/dhive/-/merge_requests/3 Why is this relevant? Normally, you have to take care of potential failovers in your application yourself. This can produce redundant code. Having a native solution is far cleaner. Another solution is a wrapper around dhive that enables failover. There is dsteem-pool, but it didn’t work for me. Info Code has been tested and everything should be working fine: https://gitlab.syncad.com/hive/dhive/-/blob/master/test/client.ts#L15-20 However, for very sensitive operations, please still be careful and rather double-check. With this said: If there are any problems/questions, please create an issue https://gitlab.syncad.com/hive/dhive/issues #HiveOn Wolf therealwolf.me See: dhive: RPC Failover Support by @therealwolf" />
<meta property="og:description" content="Greetings #Hivers &amp; fellow developers, I’ve just pushed a new version, 0.13.3, to dhive (JS library) that enables native RPC node failover-support. This feature is optional and is only active if an array of RPC nodes is given as the first argument in a Client. import {Client} from &#39;@hivechain/dhive&#39; // Failover const client = new Client([&#39;https://api.hive.blog&#39;, &#39;https://api.hivekings.com&#39;, &#39;https://anyx.io&#39;], { failoverThreshold: 3 /* default */}) // No failover const simpleClient = new Client(&#39;https://api.hive.blog&#39;) Relevant Options Parameters new Client(url, options) - failoverThreshold (default: 3): Specifies the number of times the URLs (RPC nodes) should be iterated and retried in case of timeout errors. Requires the first URL parameter to be an array! It can be set to 0 to iterate and retry forever. - timeout (default: 60 * 1000ms): Send timeout, how long to wait in milliseconds before giving up on an RPC call. It can be set to 0 to retry forever. GitLab Pull Request (Code) https://gitlab.syncad.com/hive/dhive/-/merge_requests/3 Why is this relevant? Normally, you have to take care of potential failovers in your application yourself. This can produce redundant code. Having a native solution is far cleaner. Another solution is a wrapper around dhive that enables failover. There is dsteem-pool, but it didn’t work for me. Info Code has been tested and everything should be working fine: https://gitlab.syncad.com/hive/dhive/-/blob/master/test/client.ts#L15-20 However, for very sensitive operations, please still be careful and rather double-check. With this said: If there are any problems/questions, please create an issue https://gitlab.syncad.com/hive/dhive/issues #HiveOn Wolf therealwolf.me See: dhive: RPC Failover Support by @therealwolf" />
<link rel="canonical" href="https://hive.blog/hive-139531/@therealwolf/dhive-rpc-failover-support" />
<meta property="og:url" content="https://hive.blog/hive-139531/@therealwolf/dhive-rpc-failover-support" />
<meta property="og:site_name" content="Hive Chain Documentation" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-04-03T05:00:03-07:00" />
<script type="application/ld+json">
{"dateModified":"2020-04-03T05:00:03-07:00","datePublished":"2020-04-03T05:00:03-07:00","headline":"dhive: RPC Failover Support","mainEntityOfPage":{"@type":"WebPage","@id":"https://hive.blog/hive-139531/@therealwolf/dhive-rpc-failover-support"},"url":"https://hive.blog/hive-139531/@therealwolf/dhive-rpc-failover-support","author":{"@type":"Person","name":"therealwolf"},"description":"Greetings #Hivers &amp; fellow developers, I’ve just pushed a new version, 0.13.3, to dhive (JS library) that enables native RPC node failover-support. This feature is optional and is only active if an array of RPC nodes is given as the first argument in a Client. import {Client} from &#39;@hivechain/dhive&#39; // Failover const client = new Client([&#39;https://api.hive.blog&#39;, &#39;https://api.hivekings.com&#39;, &#39;https://anyx.io&#39;], { failoverThreshold: 3 /* default */}) // No failover const simpleClient = new Client(&#39;https://api.hive.blog&#39;) Relevant Options Parameters new Client(url, options) - failoverThreshold (default: 3): Specifies the number of times the URLs (RPC nodes) should be iterated and retried in case of timeout errors. Requires the first URL parameter to be an array! It can be set to 0 to iterate and retry forever. - timeout (default: 60 * 1000ms): Send timeout, how long to wait in milliseconds before giving up on an RPC call. It can be set to 0 to retry forever. GitLab Pull Request (Code) https://gitlab.syncad.com/hive/dhive/-/merge_requests/3 Why is this relevant? Normally, you have to take care of potential failovers in your application yourself. This can produce redundant code. Having a native solution is far cleaner. Another solution is a wrapper around dhive that enables failover. There is dsteem-pool, but it didn’t work for me. Info Code has been tested and everything should be working fine: https://gitlab.syncad.com/hive/dhive/-/blob/master/test/client.ts#L15-20 However, for very sensitive operations, please still be careful and rather double-check. With this said: If there are any problems/questions, please create an issue https://gitlab.syncad.com/hive/dhive/issues #HiveOn Wolf therealwolf.me See: dhive: RPC Failover Support by @therealwolf","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://hivedocs.info/feed.xml" title="Hive Chain Documentation" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-161692811-1', 'auto');
  ga('send', 'pageview');
}
</script>
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js" integrity="sha256-iM4Yzi/zLj/IshPWMC1IluRxTtRjMqjPGd97TZ9yYpU=" crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Cousine|Inconsolata" rel="stylesheet">
  <link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png">
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Hive Chain Documentation</a>

      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/news/">News</a><a class="page-link" href="/howto/">How To</a><a class="page-link" href="/links/">Useful Links</a><!-- HTML elements for search -->
          <input type="text" id="search-input" placeholder="Search" />
          
          <ul id="results-container"></ul>

          <script src="/assets/javascript/search.js"></script>
          <script>
            var sjs = SimpleJekyllSearch({
              searchInput: document.getElementById('search-input'),
              resultsContainer: document.getElementById('results-container'),
              json: '/search.json'
            })
          </script>
          <!-- <form style="float: right;" class="form-inline" method="get" action="http://www.google.com/search">
            <input type="hidden" name="sitesearch" value="hivedocs.info" />
            <input type="text" name="q" maxlength="255" placeholder="Search" />
          </form> -->
        </div>
      </nav>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">dhive: RPC Failover Support</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-04-03T05:00:03-07:00" itemprop="datePublished">Apr 3, 2020
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">
          <a href="https://hive.blog/@therealwolf">therealwolf</a>
        </span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><img src="https://files.peakd.com/file/peakd-hive/therealwolf/nKbEIVHB-dhive.png" alt="dhive.png" /></p>

<hr />

<p>Greetings #Hivers &amp; fellow developers,</p>

<p>I’ve just pushed a new version, 0.13.3, to <a href="https://www.npmjs.com/package/@hivechain/dhive">dhive</a> (JS library) that enables native RPC node failover-support. This feature is optional and is only active if an array of RPC nodes is given as the first argument in a <code class="highlighter-rouge">Client.</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import {Client} from '@hivechain/dhive'

// Failover
const client = new Client(['https://api.hive.blog', 'https://api.hivekings.com', 'https://anyx.io'], { failoverThreshold: 3 /* default */})

// No failover
const simpleClient = new Client('https://api.hive.blog')
</code></pre></div></div>

<h4 id="relevant-options-parameters">Relevant Options Parameters</h4>

<p><code class="highlighter-rouge">new Client(url, options)</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- failoverThreshold (default: 3): Specifies the number of times the URLs (RPC nodes) should be iterated and retried in case of timeout errors. Requires the first URL parameter to be an array! It can be set to 0 to iterate and retry forever.

- timeout (default: 60 * 1000ms): Send timeout, how long to wait in milliseconds before giving up on an RPC call. It can be set to 0 to retry forever.
</code></pre></div></div>

<h3 id="gitlab-pull-request-code">GitLab Pull Request (Code)</h3>

<p>https://gitlab.syncad.com/hive/dhive/-/merge_requests/3</p>

<h3 id="why-is-this-relevant">Why is this relevant?</h3>

<p>Normally, you have to take care of potential failovers in your application yourself. This can produce redundant code. Having a native solution is far cleaner.</p>

<p>Another solution is a wrapper around dhive that enables failover. There is <a href="https://www.npmjs.com/package/dsteem-pool">dsteem-pool</a>, but it didn’t work for me.</p>

<h3 id="info">Info</h3>

<p>Code has been tested and everything <em>should</em> be working fine: https://gitlab.syncad.com/hive/dhive/-/blob/master/test/client.ts#L15-20</p>

<p>However, for very sensitive operations, please still be careful and rather double-check.</p>

<hr />

<p>With this said:</p>

<p>If there are any problems/questions, please create an issue https://gitlab.syncad.com/hive/dhive/issues</p>

<p>#HiveOn</p>

<p>Wolf
<em><a href="https://therealwolf.me">therealwolf.me</a></em></p>
<hr />

<p>
  See: <a href="https://hive.blog/@therealwolf/dhive-rpc-failover-support">dhive: RPC Failover Support</a>
  by
  <a href="https://hive.blog/@therealwolf">@therealwolf</a>
</p>

<p><a href="/nodejs">More About Node.js</a></p>

  </div><a class="u-url" href="/howto/rpc/nodejs/2020/04/03/dhive-rpc-failover-support.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading"><a rel="author" href="/">Hive Chain Documentation</a></h2>
    
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">site curated by: @inertia</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Your resource for various levels of Hive Documentation.</p>
      </div>
    </div>
  </div>

</footer>
</body>

</html>
