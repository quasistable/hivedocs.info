<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="/assets/images/sticker.png" /><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>2nd update of 2021 on our Hive software work | Hive Chain Documentation</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="2nd update of 2021 on our Hive software work" />
<meta name="author" content="blocktrades" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This is the 2nd update of 2021 on the Hive programming work being done by the BlockTrades development team." />
<meta property="og:description" content="This is the 2nd update of 2021 on the Hive programming work being done by the BlockTrades development team." />
<link rel="canonical" href="https://hive.blog/hive-139531/@blocktrades/2nd-update-of-2021-on-our-hive-software-work" />
<meta property="og:url" content="https://hive.blog/hive-139531/@blocktrades/2nd-update-of-2021-on-our-hive-software-work" />
<meta property="og:site_name" content="Hive Chain Documentation" />
<meta property="og:image" content="https://hivedocs.info/assets/images/favicon.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-01-16T17:39:24-08:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://hivedocs.info/assets/images/favicon.png" />
<meta property="twitter:title" content="2nd update of 2021 on our Hive software work" />
<script type="application/ld+json">
{"description":"This is the 2nd update of 2021 on the Hive programming work being done by the BlockTrades development team.","image":"https://hivedocs.info/assets/images/favicon.png","headline":"2nd update of 2021 on our Hive software work","dateModified":"2021-01-16T17:39:24-08:00","datePublished":"2021-01-16T17:39:24-08:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hive.blog/hive-139531/@blocktrades/2nd-update-of-2021-on-our-hive-software-work"},"url":"https://hive.blog/hive-139531/@blocktrades/2nd-update-of-2021-on-our-hive-software-work","author":{"@type":"Person","name":"blocktrades"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://hivedocs.info/feed.xml" title="Hive Chain Documentation" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-161692811-1', 'auto');
  ga('send', 'pageview');
}
</script>
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js" integrity="sha256-iM4Yzi/zLj/IshPWMC1IluRxTtRjMqjPGd97TZ9yYpU=" crossorigin="anonymous"></script>
  <script src='https://unpkg.com/steem-content-renderer'></script>
  <script>
    (function () {
      if (Turbolinks.supported) {
        Turbolinks.setProgressBarDelay(500);
      }
    })();
  </script>
  <script src="/assets/javascript/universal-bridge-against-phishing.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Cousine|Inconsolata" rel="stylesheet">
  <link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png">
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Hive Chain Documentation</a>

      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/news/">News</a><a class="page-link" href="/howto/">How To</a><a class="page-link" href="/links/">Useful Links</a><!-- HTML elements for search -->
          <input type="text" id="search-input" placeholder="Search" />
          
          <ul id="results-container"></ul>

          <script src="/assets/javascript/search.js"></script>
          <script>
            var sjs = SimpleJekyllSearch({
              searchInput: document.getElementById('search-input'),
              resultsContainer: document.getElementById('results-container'),
              json: '/search.json'
            })
          </script>
          <!-- <form style="float: right;" class="form-inline" method="get" action="http://www.google.com/search">
            <input type="hidden" name="sitesearch" value="hivedocs.info" />
            <input type="text" name="q" maxlength="255" placeholder="Search" />
          </form> -->
          
          
          <a href="#" onclick="try { $('#topics-container').slideToggle(); } catch { document.getElementById('topics-container').style.display = 'block'; }; return false;">Topics &#187;</a>
          
          <ul id="topics-container" style="display: none;"><li><a class="page-link" href="/account-recovery/"><nobr>Account Recovery</nobr></a></li><li><a class="page-link" href="/core-development/"><nobr>Core Development</nobr></a></li><li><a class="page-link" href="/dapps/"><nobr>Dapps</nobr></a></li><li><a class="page-link" href="/docker/"><nobr>Docker</nobr></a></li><li><a class="page-link" href="/hardfork/"><nobr>Hardfork</nobr></a></li><li><a class="page-link" href="/hivemind/"><nobr>Hivemind</nobr></a></li><li><a class="page-link" href="/javascript/"><nobr>Javascript</nobr></a></li><li><a class="page-link" href="/multisig/"><nobr>Multisig</nobr></a></li><li><a class="page-link" href="/python/"><nobr>Python</nobr></a></li><li><a class="page-link" href="/ruby/"><nobr>Ruby</nobr></a></li><li><a class="page-link" href="/testnet/"><nobr>Testnet</nobr></a></li><li><a class="page-link" href="/tools/"><nobr>Tools</nobr></a></li></ul>
        </div>
      </nav>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">2nd update of 2021 on our Hive software work</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2021-01-16T17:39:24-08:00" itemprop="datePublished">Jan 16, 2021
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">
          <a href="https://hive.blog/@blocktrades">blocktrades</a>
        </span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div id="content-blocktrades-2nd-update-of-2021-on-our-hive-software-work">This is the 2nd update of 2021 on the Hive programming work being done by the BlockTrades development team.

We’ve recently been having meetings to decide how best to approach some of the larger [upcoming tasks (modular hivemind framework, smart contract platform, etc)](https://hive.blog/hive-139531/@blocktrades/roadmap-for-hive-related-work-by-blocktrades-in-the-next-6-months)  and what things we need to prototype first.

While we’re waiting for those prototypes to be be built, we have a number of programmers free to work on smaller tasks, so we’re prioritizing a lot of “low-hanging fruit” tasks that are relatively easy to do and still provide useful benefits. This means we’re reviewing a lot of the existing open issues in Hive’s gitlab repository, closing completed issues that didn’t get properly marked as done, deciding which open issues we can complete quickly, and discussing possible implementations of these issues with other Hive programmers.

Below are some of the tasks we completed during this period on various Hive projects:

# Hived work (blockchain node software)

To avoid potential performance problems, the ability to vote on expired DHF proposals was disabled:
https://gitlab.syncad.com/hive/hive/-/merge_requests/161

New tests were created to check a hived node’s behavior when replaying the node and stopping and restarting the node (this work was done a while ago, but only recently merged into the development branch): https://gitlab.syncad.com/hive/hive/-/merge_requests/89


One of the prototyping projects going on right now is the plugin for directly writing data from hived to hivemind. The work for that is going on here: https://gitlab.syncad.com/hive/hive/-/commits/km_live_postgres_dump/

As part of the above task, there’s been some debate about how we might want to introduce new data computed in hived into hivemind. Generally speaking, I hope that we don’t need to introduce a lot of new types of data that aren’t already there, but we know of at least some accounting information, for example, that isn’t currently shared with hivemind. 

I think the simplest method for this is just to have hived generate some new virtual operations when it processes a block, since all virtual operations are already being passed to hivemind. Virtual operations are essentially “side-effects” of user-generated operations that report about how those operations changed the internal state of the blockchain.

However, some of the other Hive programmers are concerned about the potential performance impact of generating these additional operations (especially if we found the need to generate many more, which could also lead to problems keeping the code simple), so we’re going to do some performance testing with a prototype that BlockTrades has already written that generates these additional operations, measuring it against a version that doesn’t. 

It’s also worth noting that we could conceivably make generation of many virtual operations optional and configure a hived to only generate the virtual operations that a given hivemind configuration needed. The issue for this task is: https://gitlab.syncad.com/hive/hive/-/issues/111


# Hivemind (2nd layer microservice for social media)
Here’s a list of some of the code changes that were merged into hivemind this work period:

Improvements to the code for upgrading a hivemind database to a new version of the database schema: https://gitlab.syncad.com/hive/hivemind/-/merge_requests/457

A fix to user notifications: https://gitlab.syncad.com/hive/hivemind/-/merge_requests/457

Improvements to interrupting both the fast sync and live sync indexing process (interrupting with CTRL-C and restarting operation): https://gitlab.syncad.com/hive/hivemind/-/merge_requests/435

Improved testing of mute and follow_mute operations: https://gitlab.syncad.com/hive/hivemind/-/merge_requests/433

Speedup of get_follow_list API call: https://gitlab.syncad.com/hive/hivemind/-/merge_requests/440

Increase the amount of version information available via API about an API node’s hivemind version (see issue https://gitlab.syncad.com/hive/hivemind/-/issues/124 for more details):
https://gitlab.syncad.com/hive/hivemind/-/merge_requests/462

Add some code to measure time consumed after initial sync (time to “vacuum analyze” tables to build table statistics to improve SQL query planning, generate indexes needed by API calls, etc): https://gitlab.syncad.com/hive/hivemind/-/merge_requests/464

We also continued to work on extending the coverage of hivemind tests over Hivemind's extensive API.

# Condenser and web wallet (software that powers hive.blog and similar sites)

We made some fixes to the hive web wallet, to handle issues related to the display of transfers on old accounts that didn’t have much recent activity:
https://gitlab.syncad.com/hive/wallet/-/merge_requests/85
https://gitlab.syncad.com/hive/wallet/-/merge_requests/87
https://gitlab.syncad.com/hive/wallet/-/merge_requests/90

# Near-term work plans and work in progress

On the hived side, we continue to work on the governance changes discussed in our six-month roadmap post.

On the hivemind side, since we’re now working on directly injecting the blockchain data into hivemind, we also need to change the hivemind indexer (which takes the raw blockchain data and builds the auxiliary tables used to answer hivemind API queries). Previously the indexer made API calls to hived to get the raw blockchain data, so now that code has to be changed to get the data from the block and operations tables created by the hived plugin.

We’re also going to experiment with using the block and operations data stored in hivemind by the hived plugin to serve up the get_account_history API data. I believe we can tremendously speedup the performance of these API calls in this way and allow for full querying of the history of a user’s operations with extensive filtering capabilities. This issue for this task is: https://gitlab.syncad.com/hive/hivemind/-/issues/132

Both of the above tasks are tightly related to the design of the modular hivemind framework and serve as prototypes for its functionality. Modular hivemind, in turn, will likely serve as the basis for our smart contract platform.</div>
<script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

<script src="https://unpkg.com/steem-content-renderer"></script>

<script>
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
        baseUrl: "https://hive.blog/",
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: "",
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) => url,
        usertagUrlFn: (account) => "/@blocktrades",
        hashtagUrlFn: (hashtag) => "/2nd-update-of-2021-on-our-hive-software-work",
        isLinkSafeFn: (url) => true,
      });
      
      const inputElem = $('#content-blocktrades-2nd-update-of-2021-on-our-hive-software-work').html();
      const outputElem = $('#content-blocktrades-2nd-update-of-2021-on-our-hive-software-work');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
</script>

<style>
  #content-blocktrades-2nd-update-of-2021-on-our-hive-software-work {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-blocktrades-2nd-update-of-2021-on-our-hive-software-work code {
    background: white;
  }
  #content-blocktrades-2nd-update-of-2021-on-our-hive-software-work a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-blocktrades-2nd-update-of-2021-on-our-hive-software-work a:hover {
    border-bottom: 0;
  }
  #content-blocktrades-2nd-update-of-2021-on-our-hive-software-work h1 {
    font-size: 2.2em;
  }
  #content-blocktrades-2nd-update-of-2021-on-our-hive-software-work h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-blocktrades-2nd-update-of-2021-on-our-hive-software-work header small {
    color: #999;
    font-size: 50%;
  }
  #content-blocktrades-2nd-update-of-2021-on-our-hive-software-work img {
    max-width: 100%;
  }
</style>

<hr />

<p>
  See: <a href="https://hive.blog/hive-139531/@blocktrades/2nd-update-of-2021-on-our-hive-software-work">2nd update of 2021 on our Hive software work</a>
  by
  <a href="https://hive.blog/@blocktrades">@blocktrades</a>
</p>


  </div><a class="u-url" href="/news/core/development/2021/01/16/2nd-update-of-2021-on-our-hive-software-work.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading"><a rel="author" href="/">Hive Chain Documentation</a></h2>
    
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">site curated by: @inertia</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Your resource for various levels of Hive Documentation.</p>
      </div>
    </div>
  </div>

</footer>
</body>

</html>
