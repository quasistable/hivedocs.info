<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.1.1">Jekyll</generator><link href="https://hivedocs.info/feed.xml" rel="self" type="application/atom+xml" /><link href="https://hivedocs.info/" rel="alternate" type="text/html" /><updated>2021-03-17T00:10:03-07:00</updated><id>https://hivedocs.info/feed.xml</id><title type="html">Hive Chain Documentation</title><subtitle>Your resource for various levels of Hive Documentation.</subtitle><author><name>site curated by: @inertia</name></author><entry><title type="html">Devportal Python Tutorial Review Complete</title><link href="https://hivedocs.info/howto/beem/python/2021/03/16/devportal-python-tutorial-review-complete.html" rel="alternate" type="text/html" title="Devportal Python Tutorial Review Complete" /><published>2021-03-16T22:05:21-07:00</published><updated>2021-03-16T22:05:21-07:00</updated><id>https://hivedocs.info/howto/beem/python/2021/03/16/devportal-python-tutorial-review-complete</id><content type="html" xml:base="https://hivedocs.info/howto/beem/python/2021/03/16/devportal-python-tutorial-review-complete.html">&lt;div id=&quot;content-inertia-devportal-python-tutorial-review-complete&quot;&gt;&lt;div class=&quot;pull-right&quot;&gt;
  &lt;img src=&quot;https://developers.hive.io/images/sticker.png&quot; /&gt;
&lt;/div&gt;

Prior to this merge, the bulk of my work was on [the javascript tutorials](https://peakd.com/hive/@inertia/hive-developer-portal-update-language-tutorials-et-al).  After my proposal got funded, I was able to [dig deep into the API Definitions and begin the python tutorials](https://peakd.com/hive-139531/@inertia/hive-devportal-update-sdk-references-python-tutorials).

For this merge, I've continued to spend the last few weeks on the python tutorials.  There are 30+ tutorials ranging from how to vote to account recovery.

Most of them were written with the previous chain in mind.  As such, they all used the previous chain's &quot;official&quot; python library.  Now, they all use [beem](http://beem.readthedocs.io/) instead, because beem rocks.

Anyway, here are all the newly audited python tutorials:

http://developers-staging.hive.io/tutorials/#tutorials-python

Related merge:

https://gitlab.syncad.com/hive/devportal/-/merge_requests/66

This update also tracks the new Bridge API changes (Hivemind/Communities), [thanks to the information provided by openapi](https://peakd.com/openapi/@inertia/questions-about-hivemind-api-documentation).

---

One of the python tutorials I'm particularly proud of is the one about delegations:

https://developers.hive.io/tutorials-python/delegate_power.html

Before my changes, it was technically correct, which I admit is [the best kind of correct](https://www.youtube.com/watch?v=hou0lU8WMgo).  But in addition, I wanted to clarify in the tutorial, and in code examples, that it's best to present HIVE Power to the end-user, not VESTS.

While it's fine to write scripts that deal in VESTS, most people never encounter them.  Not only that, but the amount of HIVE Power vs. VESTS always changes.  Like, right now, at the time of writing, 527.344 HIVE Power is worth 1,000,000 VESTS.  That's not a very intuitive conversion, especially since it changes continuously.

&lt;center&gt;&lt;img src=&quot;https://files.peakd.com/file/peakd-hive/inertia/23uQvSia5q4QnBBeK9pYZ7bFsUawG5UWsdcFpygaxX4RQ9T9QEyB1PAE8Nm5HzLgj6a8c.jpg&quot; /&gt;&lt;/center&gt;

So I added steps to present VESTS as HIVE Power and capture HIVE Power inputs and turn them back to VESTS, since the blockchain wants to deal in VESTS.

That's just an example of the kinds of principles and best practices I want to enforce in the devportal, as much as possible.

&lt;center&gt;
  &lt;a href=&quot;https://xkcd.com/353/&quot;&gt;
    &lt;img src=&quot;https://imgs.xkcd.com/comics/python.png&quot; /&gt;
  &lt;/a&gt;
  &lt;sup&gt;I wrote 20 short programs in Python yesterday.  It was wonderful.  Perl, I'm leaving you.&lt;/sup&gt;
&lt;/center&gt;

Next, I'll do the same review audit for the ruby tutorials, but somehow I don't think that will take as long.

---

If you'd like to vote for my current proposal:

[https://hivesigner.com/sign/update-proposal-votes?proposal_ids=[151]&amp;amp;approve=true](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=[151]&amp;amp;approve=true)

Also see: https://peakd.com/proposals/inertia&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@inertia&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/devportal-python-tutorial-review-complete&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-inertia-devportal-python-tutorial-review-complete').html();
      const outputElem = $('#content-inertia-devportal-python-tutorial-review-complete');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-inertia-devportal-python-tutorial-review-complete {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-inertia-devportal-python-tutorial-review-complete code {
    background: white;
  }
  #content-inertia-devportal-python-tutorial-review-complete a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-inertia-devportal-python-tutorial-review-complete a:hover {
    border-bottom: 0;
  }
  #content-inertia-devportal-python-tutorial-review-complete h1 {
    font-size: 2.2em;
  }
  #content-inertia-devportal-python-tutorial-review-complete h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-inertia-devportal-python-tutorial-review-complete header small {
    color: #999;
    font-size: 50%;
  }
  #content-inertia-devportal-python-tutorial-review-complete img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://peakd.com/hive-139531/@inertia/devportal-python-tutorial-review-complete&quot;&gt;Devportal Python Tutorial Review Complete&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@inertia&quot;&gt;@inertia&lt;/a&gt;
&lt;/p&gt;</content><author><name>inertia</name></author><category term="howto" /><category term="beem" /><category term="python" /><summary type="html">Prior to this merge, the bulk of my work was on [the javascript tutorials](https://peakd.com/hive/@inertia/hive-developer-portal-update-language-tutorials-et-al). After my proposal got funded, I was able to [dig deep into the API Definitions and begin the python tutorials](https://peakd.com/hive-139531/@inertia/hive-devportal-update-sdk-references-python-tutorials). For this merge, I've continued to spend the last few weeks on the python tutorials. There are 30+ tutorials ranging from how to vote to account recovery. Most of them were written with the previous chain in mind. As such, they all used the previous chain's &quot;official&quot; python library. Now, they all use [beem](http://beem.readthedocs.io/) instead, because beem rocks. Anyway, here are all the newly audited python tutorials: http://developers-staging.hive.io/tutorials/#tutorials-python Related merge: https://gitlab.syncad.com/hive/devportal/-/merge_requests/66 This update also tracks the new Bridge API changes (Hivemind/Communities), [thanks to the information provided by openapi](https://peakd.com/openapi/@inertia/questions-about-hivemind-api-documentation). --- One of the python tutorials I'm particularly proud of is the one about delegations: https://developers.hive.io/tutorials-python/delegate_power.html Before my changes, it was technically correct, which I admit is [the best kind of correct](https://www.youtube.com/watch?v=hou0lU8WMgo). But in addition, I wanted to clarify in the tutorial, and in code examples, that it's best to present HIVE Power to the end-user, not VESTS. While it's fine to write scripts that deal in VESTS, most people never encounter them. Not only that, but the amount of HIVE Power vs. VESTS always changes. Like, right now, at the time of writing, 527.344 HIVE Power is worth 1,000,000 VESTS. That's not a very intuitive conversion, especially since it changes continuously. So I added steps to present VESTS as HIVE Power and capture HIVE Power inputs and turn them back to VESTS, since the blockchain wants to deal in VESTS. That's just an example of the kinds of principles and best practices I want to enforce in the devportal, as much as possible. I wrote 20 short programs in Python yesterday. It was wonderful. Perl, I'm leaving you. Next, I'll do the same review audit for the ruby tutorials, but somehow I don't think that will take as long. --- If you'd like to vote for my current proposal: [https://hivesigner.com/sign/update-proposal-votes?proposal_ids=[151]&amp;amp;approve=true](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=[151]&amp;amp;approve=true) Also see: https://peakd.com/proposals/inertia See: Devportal Python Tutorial Review Complete by @inertia</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://developers.hive.io/images/sticker.png" /><media:content medium="image" url="https://developers.hive.io/images/sticker.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Hive Account Recovery - Major update and new User Interface</title><link href="https://hivedocs.info/tools/2021/03/16/hive-account-recovery-major-update-and-new-user-interface.html" rel="alternate" type="text/html" title="Hive Account Recovery - Major update and new User Interface" /><published>2021-03-16T15:26:24-07:00</published><updated>2021-03-16T15:26:24-07:00</updated><id>https://hivedocs.info/tools/2021/03/16/hive-account-recovery-major-update-and-new-user-interface</id><content type="html" xml:base="https://hivedocs.info/tools/2021/03/16/hive-account-recovery-major-update-and-new-user-interface.html">&lt;div id=&quot;content-arcange-hive-account-recovery-major-update-and-new-user-interface&quot;&gt;&lt;center&gt;![](https://i.imgur.com/bVz67Yj.png)&lt;/center&gt;

Last week, I deployed an [update to the Hive Recovery service](/hive-139531/@arcange/hive-account-recovery-update). Hive Recovery is a service that runs continuously and on its own to help you secure and recover your account if it were to be compromised.

The latest wave of phishing currently raging and the growing number of accounts that have been hacked recently make the recovery process more than topical.

I recently had to provide assistance to users who wanted to change their recovery account. It allowed me to realize how the recovery procedure can seem complex for some. On the other hand, it's always a good thing to review your basics, the things that you (think you) have mastered and that seem obvious to you but not to others.

This previous update allowed me to dive back into the code and the associated process of recovering accounts and I realized that I was not fully satisfied with the proposed solution and that it could still be greatly improved, mainly at the user interface level. It also needed better edge cases and error handling and better feedback to users.

Therefore, I decided to go back to the drawing board and redesign it to transform what may seem complex for users to achieve into something simple and intuitive.

### Introducing Hive Recovery v2.0

The new [**Hive Recovery web page**](https://tools.hivechain.app/recovery) has been radically simplified and now clearly reflects the 3 steps associated with the Hive account recovery process:

![](https://i.imgur.com/im6VOdS.png)

1. You set @hive.recovery as your trusted account recovery partner.
2. Should your account be compromised, you request @hive.recovery to initiate the recovery process
3. Once @hive.recovery has done so, you confirm and finalize the process.

I will not provide you here with all the details regarding the use of this brand new recovery UI. It is available in the updated [Hive Recovery User Guide](/hive/@hive.recovery/userguide). Better to avoid turning this post into a wall of text and pictures. Anyway, here are a few screenshots of the new user interface.

### A quick overview of the recovery process

**Navigate to https://tools.hivechain.app/recovery**

The first thing to do is to enter your username (without the @) and hit enter or click on the account check button. If the account name is valid, the change recovery account button will light up and allow you to click on it.

![](https://i.imgur.com/ZTyY1Z0.png)

&amp;gt; **Note:** If you have already set @hive.recovery as your recovery account, the button will turn green. You can go to the next step or perform this step again if you want to change your recovery settings.

#### 1. Changing your recovery account

After clicking on the &quot;Change Recovery Account&quot; button, the following form will be displayed:

![](https://i.imgur.com/HUi2s0H.png)

Refer to the [Hive Recovery User Guide](/hive/@hive.recovery/userguide) for more information on how to fill the form and perform this step.

Once you have completed the first step, you will have to wait for 30 days before @hive.recovery actually becomes your recovery account. 

![](https://i.imgur.com/dZubbxc.png)

#### 2. Requesting for your recovery account

Should your account be compromised, head back to the [Hive Recovery website](https://tools.hivechain.app/recovery) and request @hive.recovery to initiate the recovery process. After validating your username, the first button should have turned to green (meaning @hive.recovery is now your recovery account) and the Request Recovery button should the page should be enabled

![](https://i.imgur.com/94vb8CG.png)
![](https://i.imgur.com/dYxb0iP.png)

Once again, refer to the [Hive Recovery User Guide](/hive/@hive.recovery/userguide) for more information on how to fill the form and what will happen when you perform this step.

@hive.recovery will initiate the recovery process. If all of the information you provided is correct, it should automatically take place within a few minutes.

![](https://i.imgur.com/OyRRJTY.png)

You now then have 24 hours to confirm the recovery of your account.

#### 3. Confirming the recovery of your account.

This is the very last step. You are now in control to finalize the recovery process

![](https://i.imgur.com/jIAKOCW.png)

After entering the required information and clicking on the confirmation button, the page will send a recovery confirmation to the blockchain, update your account keys and confirm that everything has gone well.

![](https://i.imgur.com/PQGSGu6.png)

Hooray, you are done and you have recovered your account!

### Please read the guide!

Check out the [Hive Recovery User Guide](/hive/@hive.recovery/userguide) for a complete and detailed description of the entire account recovery process.

The [Hive Recovery User Guide](/hive/@hive.recovery/userguide) also covers any questions you might have about security, privacy and how trusted it can be.

### Check your Recovery Account before it's too late

As mentioned at the beginning of this post, I have been led on several occasions to assist users who have their accounts hacked and who wanted to recover them.

Unfortunately, some of them still had @steem as their recovery account or had chosen an account that is no longer active or that does not respond to their request. What a pity that we can no longer help them

Therefore, check your recovery account and change it if the current one is inappropriate.

It's been a lot of work to create and improve this service and make the recovery process as easy as possible for all non-tech-savvy users. It would be a shame not to take advantage of it.

Take care of your account!

## &lt;center&gt;https://tools.hivechain.app/recovery&lt;/center&gt;
---
&lt;center&gt;

### Check out my apps and services
&lt;a href=&quot;/hive/@hive.engage/stay-connected-with-your-hive-audience-and-catch-attention&quot;&gt;&lt;img src=&quot;https://i.imgur.com/GiNJqlm.png&quot; /&gt;&lt;/a&gt;&lt;a href=&quot;/@hivebuzz&quot;&gt;&lt;img src=&quot;https://i.imgur.com/B4UTun2.png&quot; /&gt;&lt;/a&gt;&lt;a href=&quot;/@hivesql&quot;&gt;&lt;img src=&quot;https://i.imgur.com/EPN8RW6.png&quot; /&gt;&lt;/a&gt;&lt;a href=&quot;/hive/@arcange/introducing-hive-account-recovery&quot;&gt;&lt;img src=&quot;https://i.imgur.com/6TWeW7V.png&quot; /&gt;&lt;/a&gt;&lt;a href=&quot;/@hive.autoclaim&quot;&gt;&lt;img src=&quot;https://i.imgur.com/ih2pEOw.png&quot; /&gt;&lt;/a&gt;&lt;/center&gt;
&lt;center&gt;

### [Vote for me as a witness ![](https://i.imgur.com/2bi4SnT.png)](https://hivesigner.com/sign/account-witness-vote?witness=arcange&amp;amp;approve=1)&amp;lt;/div&amp;gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@arcange&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/hive-account-recovery-major-update-and-new-user-interface&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-arcange-hive-account-recovery-major-update-and-new-user-interface').html();
      const outputElem = $('#content-arcange-hive-account-recovery-major-update-and-new-user-interface');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;
&lt;style&gt;
  #content-arcange-hive-account-recovery-major-update-and-new-user-interface {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-arcange-hive-account-recovery-major-update-and-new-user-interface code {
    background: white;
  }
  #content-arcange-hive-account-recovery-major-update-and-new-user-interface a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-arcange-hive-account-recovery-major-update-and-new-user-interface a:hover {
    border-bottom: 0;
  }
  #content-arcange-hive-account-recovery-major-update-and-new-user-interface h1 {
    font-size: 2.2em;
  }
  #content-arcange-hive-account-recovery-major-update-and-new-user-interface h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-arcange-hive-account-recovery-major-update-and-new-user-interface header small {
    color: #999;
    font-size: 50%;
  }
  #content-arcange-hive-account-recovery-major-update-and-new-user-interface img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;
&lt;p&gt;
  See: &lt;a href=&quot;https://peakd.com/hive-139531/@arcange/hive-account-recovery-major-update-and-new-user-interface&quot;&gt;Hive Account Recovery - Major update and new User Interface&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@arcange&quot;&gt;@arcange&lt;/a&gt;
&lt;/p&gt;

&lt;/center&gt;&lt;/div&gt;</content><author><name>arcange</name></author><category term="tools" /><summary type="html">![](https://i.imgur.com/bVz67Yj.png) Last week, I deployed an [update to the Hive Recovery service](/hive-139531/@arcange/hive-account-recovery-update). Hive Recovery is a service that runs continuously and on its own to help you secure and recover your account if it were to be compromised. The latest wave of phishing currently raging and the growing number of accounts that have been hacked recently make the recovery process more than topical. I recently had to provide assistance to users who wanted to change their recovery account. It allowed me to realize how the recovery procedure can seem complex for some. On the other hand, it's always a good thing to review your basics, the things that you (think you) have mastered and that seem obvious to you but not to others. This previous update allowed me to dive back into the code and the associated process of recovering accounts and I realized that I was not fully satisfied with the proposed solution and that it could still be greatly improved, mainly at the user interface level. It also needed better edge cases and error handling and better feedback to users. Therefore, I decided to go back to the drawing board and redesign it to transform what may seem complex for users to achieve into something simple and intuitive. ### Introducing Hive Recovery v2.0 The new [**Hive Recovery web page**](https://tools.hivechain.app/recovery) has been radically simplified and now clearly reflects the 3 steps associated with the Hive account recovery process: ![](https://i.imgur.com/im6VOdS.png) 1. You set @hive.recovery as your trusted account recovery partner. 2. Should your account be compromised, you request @hive.recovery to initiate the recovery process 3. Once @hive.recovery has done so, you confirm and finalize the process. I will not provide you here with all the details regarding the use of this brand new recovery UI. It is available in the updated [Hive Recovery User Guide](/hive/@hive.recovery/userguide). Better to avoid turning this post into a wall of text and pictures. Anyway, here are a few screenshots of the new user interface. ### A quick overview of the recovery process **Navigate to https://tools.hivechain.app/recovery** The first thing to do is to enter your username (without the @) and hit enter or click on the account check button. If the account name is valid, the change recovery account button will light up and allow you to click on it. ![](https://i.imgur.com/ZTyY1Z0.png) &amp;gt; **Note:** If you have already set @hive.recovery as your recovery account, the button will turn green. You can go to the next step or perform this step again if you want to change your recovery settings. #### 1. Changing your recovery account After clicking on the &quot;Change Recovery Account&quot; button, the following form will be displayed: ![](https://i.imgur.com/HUi2s0H.png) Refer to the [Hive Recovery User Guide](/hive/@hive.recovery/userguide) for more information on how to fill the form and perform this step. Once you have completed the first step, you will have to wait for 30 days before @hive.recovery actually becomes your recovery account. ![](https://i.imgur.com/dZubbxc.png) #### 2. Requesting for your recovery account Should your account be compromised, head back to the [Hive Recovery website](https://tools.hivechain.app/recovery) and request @hive.recovery to initiate the recovery process. After validating your username, the first button should have turned to green (meaning @hive.recovery is now your recovery account) and the Request Recovery button should the page should be enabled ![](https://i.imgur.com/94vb8CG.png) ![](https://i.imgur.com/dYxb0iP.png) Once again, refer to the [Hive Recovery User Guide](/hive/@hive.recovery/userguide) for more information on how to fill the form and what will happen when you perform this step. @hive.recovery will initiate the recovery process. If all of the information you provided is correct, it should automatically take place within a few minutes. ![](https://i.imgur.com/OyRRJTY.png) You now then have 24 hours to confirm the recovery of your account. #### 3. Confirming the recovery of your account. This is the very last step. You are now in control to finalize the recovery process ![](https://i.imgur.com/jIAKOCW.png) After entering the required information and clicking on the confirmation button, the page will send a recovery confirmation to the blockchain, update your account keys and confirm that everything has gone well. ![](https://i.imgur.com/PQGSGu6.png) Hooray, you are done and you have recovered your account! ### Please read the guide! Check out the [Hive Recovery User Guide](/hive/@hive.recovery/userguide) for a complete and detailed description of the entire account recovery process. The [Hive Recovery User Guide](/hive/@hive.recovery/userguide) also covers any questions you might have about security, privacy and how trusted it can be. ### Check your Recovery Account before it's too late As mentioned at the beginning of this post, I have been led on several occasions to assist users who have their accounts hacked and who wanted to recover them. Unfortunately, some of them still had @steem as their recovery account or had chosen an account that is no longer active or that does not respond to their request. What a pity that we can no longer help them Therefore, check your recovery account and change it if the current one is inappropriate. It's been a lot of work to create and improve this service and make the recovery process as easy as possible for all non-tech-savvy users. It would be a shame not to take advantage of it. Take care of your account! ## https://tools.hivechain.app/recovery --- ### Check out my apps and services ### [Vote for me as a witness ![](https://i.imgur.com/2bi4SnT.png)](https://hivesigner.com/sign/account-witness-vote?witness=arcange&amp;amp;approve=1)&amp;lt;/div&amp;gt; See: Hive Account Recovery - Major update and new User Interface by @arcange</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://i.imgur.com/bVz67Yj.png" /><media:content medium="image" url="https://i.imgur.com/bVz67Yj.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Making a Decentralized Game on Hive - Part 2</title><link href="https://hivedocs.info/howto/nodejs/2021/03/16/making-a-decentralized-game-on-hive-part-2.html" rel="alternate" type="text/html" title="Making a Decentralized Game on Hive - Part 2" /><published>2021-03-16T08:22:15-07:00</published><updated>2021-03-16T08:22:15-07:00</updated><id>https://hivedocs.info/howto/nodejs/2021/03/16/making-a-decentralized-game-on-hive-part-2</id><content type="html" xml:base="https://hivedocs.info/howto/nodejs/2021/03/16/making-a-decentralized-game-on-hive-part-2.html">&lt;div id=&quot;content-mahdiyari-making-a-decentralized-game-on-hive-part-2&quot;&gt;&lt;center&gt;![code-944499_1280.jpg](https://images.hive.blog/DQmZn8iD8SQbqnN8RNGJku4SCKQH6pKAPBh6QqtBrby1mAN/code-944499_1280.jpg)&lt;/center&gt;
Previously in [part 1](https://hive.blog/hive-139531/@mahdiyari/making-a-decentralized-game-on-hive-tic-tac-toe-part-1), we made a simple front-end and a login option with posting key.

In this part, we work on the back-end of the game. We use [Nodejs](https://nodejs.org/en/) for running our back-end codes. I assume you know how to create or run a Nodejs app. It's not complicated and I will cover most of it here.

## API server
`api/server.js` is the starting point of the API server. Let's initialize it with expressjs and some libraries for API usage.
```
const express = require('express')
const bodyParser = require('body-parser')
const hpp = require('hpp')
const helmet = require('helmet')
const app = express()

// more info: www.npmjs.com/package/hpp
app.use(hpp())
app.use(helmet())

// support json encoded bodies and encoded bodies
app.use(bodyParser.json())
app.use(bodyParser.urlencoded({ extended: true }))

app.use(function (req, res, next) {
  res.header(
    'Access-Control-Allow-Origin',
    'http://localhost https://tic-tac-toe.mahdiyari.info/'
  )
  res.header('Access-Control-Allow-Credentials', true)
  res.header(
    'Access-Control-Allow-Headers',
    'Origin, X-Requested-With, Content-Type, Accept, access_key'
  )
  next()
})

const port = process.env.PORT || 2021
const host = process.env.HOST || '127.0.0.1'
app.listen(port, host, () =&amp;gt; {
  console.log(`Application started on ${host}:${port}`)
})
```
Don't forget to install npm packages.
```
npm install express
npm install body-parser
npm install hpp
npm install helmet
```
`hpp` and `helmet` are for increased security and `body-parser` for parsing request bodies for json encoded bodies and encoded bodies.

I also added `http://localhost` and `https://tic-tac-toe.mahdiyari.info/` to the `Access-Control-Allow-Origin` header. You can add another URL to receive API calls from or just put `*`. It basically limits the usage of the API server to the listed URLs.

Our API server will listen to `127.0.0.1:2021` by default. It does nothing at the moment. Let's continue with the main application.
***
## Main application
We will run 2 Nodejs apps. One is the API server and the other is the main application where streaming blocks and processing data is happening. The reason for splitting applications is to run the API server in cluster mode. With cluster mode, we can run one API server for each CPU core. It will help with load balancing and keep API running as fast as possible while serving many requests. The cluster mode is useful only on API servers and especially Expressjs apps.

We will need a helper to stream the blocks.
`helpers/streamBlock.js`:
```
const hiveTx = require('hive-tx')

const INTERVAL_TIME = 1000

const streamBlockNumber = async (cb) =&amp;gt; {
  try {
    let lastBlock = 0
    setInterval(async () =&amp;gt; {
      const gdgp = await hiveTx.call(
        'condenser_api.get_dynamic_global_properties'
      )
      if (
        gdgp &amp;amp;&amp;amp;
        gdgp.result &amp;amp;&amp;amp;
        gdgp.result.head_block_number &amp;amp;&amp;amp;
        !isNaN(gdgp.result.head_block_number)
      ) {
        if (gdgp.result.head_block_number &amp;gt; lastBlock) {
          lastBlock = gdgp.result.head_block_number
          cb(lastBlock)
        }
      }
    }, INTERVAL_TIME)
  } catch (e) {
    throw new Error(e)
  }
}

const streamBlockOperations = async (cb) =&amp;gt; {
  try {
    streamBlockNumber(async (blockNumber) =&amp;gt; {
      const result = await hiveTx.call('condenser_api.get_block', [
        blockNumber
      ])
      if (result.result) {
        const operations = result.result.transactions.map((transaction) =&amp;gt; {
          return transaction.operations
        })
        if (operations.length &amp;gt; 0) {
          for (const operation of operations) {
            cb(operation)
          }
        }
      }
    })
  } catch (e) {
    throw new Error(e)
  }
}

module.exports = {
  streamBlockNumber,
  streamBlockOperations
}
```
install [hive-tx](https://www.npmjs.com/package/hive-tx): `npm install hive-tx`

We created 2 functions here. The first one `streamBlockNumber` makes a call to get `dynamic_global_properties` every `INTERVAL_TIME` which I set to 1000ms (1 second) then checks for newly produced block number. If the block number is increased, then it calls the callback function with the new block number. It's a helpful function for getting newly generated block numbers.

We use the first function inside the second function `streamBlockOperations` to get newly generated blocks and get operations inside that block by using the `condenser_api.get_block` method.

`streamBlockOperations` will call the callback function with newly added operations to the blockchain (except virtual operations).

`index.js`:
```
const stream = require('./helpers/streamBlock')

try {
  stream.streamBlockOperations((ops) =&amp;gt; {
    if (ops) {
      const op = ops[0]
      if (op &amp;amp;&amp;amp; op[0] === 'custom_json' &amp;amp;&amp;amp; op[1].id === 'tictactoe') {
        processData(op[1].json)
      }
    }
  })
} catch (e) {
  throw new Error(e)
}
```
This will stream newly added operations to the blockchain and send the JSON from `custom_json` operations with the id of `tictactoe` to the `processData` function.
***
We should define game mechanics and their corresponding custom_json.

**Create a game**
```
{
  app: 'tictactoe/0.0.1'
  action: 'create_game',
  id: 'Random generated id',
  starting_player: 'first or second'
}
```
Create a game and wait for the other player to join.
***
**Request join a game**
```
{
  app: 'tictactoe/0.0.1',
  action: 'request_join',
  id: 'Game id'
}
```
Request to join an open game which is created by someone else.
***
**Accept join request**
```
{
  app: 'tictactoe/0.0.1',
  action: 'accept_request',
  id: 'Game id',
  player: 'username'
}
```
Accept the pending join request from another player to your created game. 
***
**Play**
```
{
  app: 'tictactoe/0.0.1',
  action: 'play',
  id: 'Game id',
  col: '1 to 3',
  row: '1 to 3'
}
```
Play or place an X/O on the board. `col` is the column and `row` is for the row of the placed X/O on the board.

&lt;center&gt;![tic-tac-toe-col-row.jpg](https://images.hive.blog/DQmYtN2du2ngnu51fernMHqvmp5VKSyZ5JkF6wRgS9MkubP/tic-tac-toe-col-row.jpg)&lt;/center&gt;
***
Code implamantaion of the above in `index.js`:
```
const processData = (jsonData) =&amp;gt; {
  try {
    if (!jsonData) {
      return
    }
    const data = JSON.parse(jsonData)
    if (!data || !data.action || !data.app) {
      return
    }
    if (data.action === 'create_game') {
      createGame(data)
    } else if (data.action === 'request_join') {
      requestJoin(data)
    } else if (data.action === 'accept_request') {
      acceptRequest(data)
    } else if (data.action === 'play') {
      play(data)
    }
  } catch (e) {
    // error might be on JSON.parse and wrong json format
    return null
  }
}
```
***
Let's create a function for each game mechanic.
**createGame**:
```
const createGame = (data) =&amp;gt; {
  if (!data || !data.id || !data.starting_player) {
    return
  }
  // validating
  if (
    data.id.length !== 20 ||
    (data.starting_player !== 'first' &amp;amp;&amp;amp; data.starting_player !== 'second')
  ) {
    return
  }
  // Add game to database
  console.log('Create a game with id ' + data.id)
}
```
***
**requestJoin**:
```
const requestJoin = (data) =&amp;gt; {
  if (!data || !data.id || !data.id.length !== 20) {
    return
  }
  // Check game id in database
  // Join game
  console.log('A player joined game id ' + data.id)
}
```
***
**acceptRequest**:
```
const acceptRequest = (data) =&amp;gt; {
  if (!data || !data.id || !data.player || !data.id.length !== 20) {
    return
  }
  // Validate game in database
  // Accept the join request
  console.log('Accepted join request game id ' + data.id)
}
```
***
**play**:
```
const play = (data) =&amp;gt; {
  if (
    !data ||
    !data.id ||
    !data.col ||
    !data.row ||
    !data.id.length !== 20 ||
    data.col &amp;lt; 1 ||
    data.col &amp;gt; 3 ||
    data.row &amp;lt; 1 ||
    data.row &amp;gt; 3
  ) {
    return
  }
  // Validate game in database
  // Validate the player round
  // Play game
  console.log('Played game id ' + data.id)
}
```
***
The above functions are not doing anything at the moment. We will complete those functions after setting up the database in the next part.

We can test our code by broadcasting custom_json operations. Let's see if the streaming method and processing data works.
We can run the app by `node index.js`
https://hiveblocks.com/tx/44799e6a27c64e935f9072ecb576602330cb80b8
&lt;center&gt;![image.png](https://images.hive.blog/DQmSfMrgDbSPjUPWaPeekrWfDFTS6zfdkk4NMySjNQmh3xh/image.png)&lt;/center&gt;
And here is the console.log() confirmation in our app:
&lt;center&gt;![image.png](https://images.hive.blog/DQmb4kymGnacj2H9D4f2jfU8xYWJdjcd1EKDZeLN6q96q8h/image.png)&lt;/center&gt;
***
Follow me so you don't miss the next part. The final code of this part is on GitLab.

[GitLab Repository](https://gitlab.com/mahdiyari/decentralized-game-on-hive)
[Website](https://tic-tac-toe.mahdiyari.info/)

[Part 1](https://hive.blog/hive-139531/@mahdiyari/making-a-decentralized-game-on-hive-tic-tac-toe-part-1)&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@mahdiyari&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/making-a-decentralized-game-on-hive-part-2&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-mahdiyari-making-a-decentralized-game-on-hive-part-2').html();
      const outputElem = $('#content-mahdiyari-making-a-decentralized-game-on-hive-part-2');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-mahdiyari-making-a-decentralized-game-on-hive-part-2 {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-part-2 code {
    background: white;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-part-2 a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-part-2 a:hover {
    border-bottom: 0;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-part-2 h1 {
    font-size: 2.2em;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-part-2 h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-part-2 header small {
    color: #999;
    font-size: 50%;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-part-2 img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://hive.blog/hive-139531/@mahdiyari/making-a-decentralized-game-on-hive-part-2&quot;&gt;Making a Decentralized Game on Hive - Part 2&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@mahdiyari&quot;&gt;@mahdiyari&lt;/a&gt;
&lt;/p&gt;</content><author><name>mahdiyari</name></author><category term="howto" /><category term="nodejs" /><summary type="html">![code-944499_1280.jpg](https://images.hive.blog/DQmZn8iD8SQbqnN8RNGJku4SCKQH6pKAPBh6QqtBrby1mAN/code-944499_1280.jpg) Previously in [part 1](https://hive.blog/hive-139531/@mahdiyari/making-a-decentralized-game-on-hive-tic-tac-toe-part-1), we made a simple front-end and a login option with posting key. In this part, we work on the back-end of the game. We use [Nodejs](https://nodejs.org/en/) for running our back-end codes. I assume you know how to create or run a Nodejs app. It's not complicated and I will cover most of it here. ## API server `api/server.js` is the starting point of the API server. Let's initialize it with expressjs and some libraries for API usage. ``` const express = require('express') const bodyParser = require('body-parser') const hpp = require('hpp') const helmet = require('helmet') const app = express() // more info: www.npmjs.com/package/hpp app.use(hpp()) app.use(helmet()) // support json encoded bodies and encoded bodies app.use(bodyParser.json()) app.use(bodyParser.urlencoded({ extended: true })) app.use(function (req, res, next) { res.header( 'Access-Control-Allow-Origin', 'http://localhost https://tic-tac-toe.mahdiyari.info/' ) res.header('Access-Control-Allow-Credentials', true) res.header( 'Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept, access_key' ) next() }) const port = process.env.PORT || 2021 const host = process.env.HOST || '127.0.0.1' app.listen(port, host, () =&amp;gt; { console.log(`Application started on ${host}:${port}`) }) ``` Don't forget to install npm packages. ``` npm install express npm install body-parser npm install hpp npm install helmet ``` `hpp` and `helmet` are for increased security and `body-parser` for parsing request bodies for json encoded bodies and encoded bodies. I also added `http://localhost` and `https://tic-tac-toe.mahdiyari.info/` to the `Access-Control-Allow-Origin` header. You can add another URL to receive API calls from or just put `*`. It basically limits the usage of the API server to the listed URLs. Our API server will listen to `127.0.0.1:2021` by default. It does nothing at the moment. Let's continue with the main application. *** ## Main application We will run 2 Nodejs apps. One is the API server and the other is the main application where streaming blocks and processing data is happening. The reason for splitting applications is to run the API server in cluster mode. With cluster mode, we can run one API server for each CPU core. It will help with load balancing and keep API running as fast as possible while serving many requests. The cluster mode is useful only on API servers and especially Expressjs apps. We will need a helper to stream the blocks. `helpers/streamBlock.js`: ``` const hiveTx = require('hive-tx') const INTERVAL_TIME = 1000 const streamBlockNumber = async (cb) =&amp;gt; { try { let lastBlock = 0 setInterval(async () =&amp;gt; { const gdgp = await hiveTx.call( 'condenser_api.get_dynamic_global_properties' ) if ( gdgp &amp;amp;&amp;amp; gdgp.result &amp;amp;&amp;amp; gdgp.result.head_block_number &amp;amp;&amp;amp; !isNaN(gdgp.result.head_block_number) ) { if (gdgp.result.head_block_number &amp;gt; lastBlock) { lastBlock = gdgp.result.head_block_number cb(lastBlock) } } }, INTERVAL_TIME) } catch (e) { throw new Error(e) } } const streamBlockOperations = async (cb) =&amp;gt; { try { streamBlockNumber(async (blockNumber) =&amp;gt; { const result = await hiveTx.call('condenser_api.get_block', [ blockNumber ]) if (result.result) { const operations = result.result.transactions.map((transaction) =&amp;gt; { return transaction.operations }) if (operations.length &amp;gt; 0) { for (const operation of operations) { cb(operation) } } } }) } catch (e) { throw new Error(e) } } module.exports = { streamBlockNumber, streamBlockOperations } ``` install [hive-tx](https://www.npmjs.com/package/hive-tx): `npm install hive-tx` We created 2 functions here. The first one `streamBlockNumber` makes a call to get `dynamic_global_properties` every `INTERVAL_TIME` which I set to 1000ms (1 second) then checks for newly produced block number. If the block number is increased, then it calls the callback function with the new block number. It's a helpful function for getting newly generated block numbers. We use the first function inside the second function `streamBlockOperations` to get newly generated blocks and get operations inside that block by using the `condenser_api.get_block` method. `streamBlockOperations` will call the callback function with newly added operations to the blockchain (except virtual operations). `index.js`: ``` const stream = require('./helpers/streamBlock') try { stream.streamBlockOperations((ops) =&amp;gt; { if (ops) { const op = ops[0] if (op &amp;amp;&amp;amp; op[0] === 'custom_json' &amp;amp;&amp;amp; op[1].id === 'tictactoe') { processData(op[1].json) } } }) } catch (e) { throw new Error(e) } ``` This will stream newly added operations to the blockchain and send the JSON from `custom_json` operations with the id of `tictactoe` to the `processData` function. *** We should define game mechanics and their corresponding custom_json. **Create a game** ``` { app: 'tictactoe/0.0.1' action: 'create_game', id: 'Random generated id', starting_player: 'first or second' } ``` Create a game and wait for the other player to join. *** **Request join a game** ``` { app: 'tictactoe/0.0.1', action: 'request_join', id: 'Game id' } ``` Request to join an open game which is created by someone else. *** **Accept join request** ``` { app: 'tictactoe/0.0.1', action: 'accept_request', id: 'Game id', player: 'username' } ``` Accept the pending join request from another player to your created game. *** **Play** ``` { app: 'tictactoe/0.0.1', action: 'play', id: 'Game id', col: '1 to 3', row: '1 to 3' } ``` Play or place an X/O on the board. `col` is the column and `row` is for the row of the placed X/O on the board. ![tic-tac-toe-col-row.jpg](https://images.hive.blog/DQmYtN2du2ngnu51fernMHqvmp5VKSyZ5JkF6wRgS9MkubP/tic-tac-toe-col-row.jpg) *** Code implamantaion of the above in `index.js`: ``` const processData = (jsonData) =&amp;gt; { try { if (!jsonData) { return } const data = JSON.parse(jsonData) if (!data || !data.action || !data.app) { return } if (data.action === 'create_game') { createGame(data) } else if (data.action === 'request_join') { requestJoin(data) } else if (data.action === 'accept_request') { acceptRequest(data) } else if (data.action === 'play') { play(data) } } catch (e) { // error might be on JSON.parse and wrong json format return null } } ``` *** Let's create a function for each game mechanic. **createGame**: ``` const createGame = (data) =&amp;gt; { if (!data || !data.id || !data.starting_player) { return } // validating if ( data.id.length !== 20 || (data.starting_player !== 'first' &amp;amp;&amp;amp; data.starting_player !== 'second') ) { return } // Add game to database console.log('Create a game with id ' + data.id) } ``` *** **requestJoin**: ``` const requestJoin = (data) =&amp;gt; { if (!data || !data.id || !data.id.length !== 20) { return } // Check game id in database // Join game console.log('A player joined game id ' + data.id) } ``` *** **acceptRequest**: ``` const acceptRequest = (data) =&amp;gt; { if (!data || !data.id || !data.player || !data.id.length !== 20) { return } // Validate game in database // Accept the join request console.log('Accepted join request game id ' + data.id) } ``` *** **play**: ``` const play = (data) =&amp;gt; { if ( !data || !data.id || !data.col || !data.row || !data.id.length !== 20 || data.col &amp;lt; 1 || data.col &amp;gt; 3 || data.row &amp;lt; 1 || data.row &amp;gt; 3 ) { return } // Validate game in database // Validate the player round // Play game console.log('Played game id ' + data.id) } ``` *** The above functions are not doing anything at the moment. We will complete those functions after setting up the database in the next part. We can test our code by broadcasting custom_json operations. Let's see if the streaming method and processing data works. We can run the app by `node index.js` https://hiveblocks.com/tx/44799e6a27c64e935f9072ecb576602330cb80b8 ![image.png](https://images.hive.blog/DQmSfMrgDbSPjUPWaPeekrWfDFTS6zfdkk4NMySjNQmh3xh/image.png) And here is the console.log() confirmation in our app: ![image.png](https://images.hive.blog/DQmb4kymGnacj2H9D4f2jfU8xYWJdjcd1EKDZeLN6q96q8h/image.png) *** Follow me so you don't miss the next part. The final code of this part is on GitLab. [GitLab Repository](https://gitlab.com/mahdiyari/decentralized-game-on-hive) [Website](https://tic-tac-toe.mahdiyari.info/) [Part 1](https://hive.blog/hive-139531/@mahdiyari/making-a-decentralized-game-on-hive-tic-tac-toe-part-1) See: Making a Decentralized Game on Hive - Part 2 by @mahdiyari</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://images.hive.blog/DQmZn8iD8SQbqnN8RNGJku4SCKQH6pKAPBh6QqtBrby1mAN/code-944499_1280.jpg" /><media:content medium="image" url="https://images.hive.blog/DQmZn8iD8SQbqnN8RNGJku4SCKQH6pKAPBh6QqtBrby1mAN/code-944499_1280.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Making a Decentralized Game on Hive - Tic Tac Toe - Part 1</title><link href="https://hivedocs.info/howto/nodejs/2021/03/13/making-a-decentralized-game-on-hive-tic-tac-toe-part-1.html" rel="alternate" type="text/html" title="Making a Decentralized Game on Hive - Tic Tac Toe - Part 1" /><published>2021-03-13T12:04:06-08:00</published><updated>2021-03-13T12:04:06-08:00</updated><id>https://hivedocs.info/howto/nodejs/2021/03/13/making-a-decentralized-game-on-hive-tic-tac-toe-part-1</id><content type="html" xml:base="https://hivedocs.info/howto/nodejs/2021/03/13/making-a-decentralized-game-on-hive-tic-tac-toe-part-1.html">&lt;div id=&quot;content-mahdiyari-making-a-decentralized-game-on-hive-tic-tac-toe-part-1&quot;&gt;&lt;center&gt;![tic-tac-toe.png](https://images.hive.blog/DQmYne66xZ9RBsrUwF9N76S5XnjJGyzEgBPbbsZRnNAHUzx/tic-tac-toe.png)&lt;/center&gt;
We will develop a decentralized game by the end of this series. The goal is to make learning development on Hive blockchain easier by using a simple game as the training project.

## Target audience
Of course, it's not for everybody. I will try to keep it simple as possible for people with less experience with development. But some degree of understanding code is necessary to learn something. I will explain anything related to the Hive blockchain that we use.

You can find the links for the final result of this part at the end of this post.

## Why &quot;tic-tac-toe&quot;?
It's a simple multiplayer game and it covers most of the topics needed for a bigger decentralized game or application. Most people are already familiar with this game and it's easier to code and its rules are simple.

## Development
We will use Javascript for the game because it's simple enough so most people understand easily. The front-end will be pure HTML. Also, I think MySQL is a good fit as the database. The game needs a database to keep track of games and players. MySQL docker can be set up in a few minutes.

The decentralized game will work without depending on one central software. The game will talk only to the blockchain and there is no central database. It doesn't need a private entity to hold players' data. Anyone can run an interface for the game.

(We have a database but it's not a central private database and it can be synced through blockchain. Anyone should be able to run an instance of the game and the game will get the same exact database by reading data from the blockchain. It's like hivemind, the database that holds and serves most of the data on Hive.)

## Tools I'm using
- Visual Studio Code
- Nodejs
- MySQL docker setup
- Chrome browser

I didn't plan anything beforehand so I don't know how many posts it will take. I will list the things that come to my mind right now.

## Planning
- Front-end
  - Make a login method on the client-side
  - Display available games list
  - Create/Request to join a game
  - Design the game visuals and controls
- Back-end
  - Stream the blockchain and listen for custom_json operations
  - Define custom_json operations
  - Game mechanics
  - API to communicate with front-end
  - Replay/resync method to update the database on newly deployed game clients

The above list may or may not change. Anyway, let's start with the front-end and add a login method.
***
## Part 1: Front-end - Login method
I think the HTML part doesn't need any explanation. Page title, description, bootstrap navbar, and a login link. Added `css/style.css` and `js/app.js` too. When the user clicks on the &quot;login&quot; link, a modal with the login form will appear. It will then fire `login()` function on submit.

`index.html`:
```
&amp;lt;!DOCTYPE html&amp;gt;
&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot; /&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;
  &lt;meta name=&quot;description&quot; content=&quot;A decentralized game on hive blockchain&quot; /&gt;
  &lt;title&gt;Tic-Tac-Toe on Hive blockchain&lt;/title&gt;
  &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl&quot; crossorigin=&quot;anonymous&quot; /&gt;
  &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://cdn.jsdelivr.net/npm/hive-tx/dist/hive-tx.min.js&quot;&gt;&lt;/script&gt;
  &lt;link rel=&quot;stylesheet&quot; href=&quot;css/style.css&quot; /&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;nav class=&quot;navbar navbar-expand navbar-dark bg-dark&quot;&gt;
    &lt;div class=&quot;container-fluid&quot;&gt;
      &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;Tic-Tac-Toe&lt;/a&gt;
      &lt;ul class=&quot;navbar-nav&quot;&gt;
        &lt;li class=&quot;nav-item&quot;&gt;
          &lt;a class=&quot;nav-link&quot; href=&quot;#&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#login-modal&quot; id=&quot;login-button&quot;&gt;
            Login
          &lt;/a&gt;
        &lt;li class=&quot;nav-item dropdown&quot; id=&quot;logout-menu&quot; style=&quot;display: none;&quot;&gt;
          &lt;a class=&quot;nav-link dropdown-toggle&quot; href=&quot;#&quot; id=&quot;username-button&quot; role=&quot;button&quot; data-bs-toggle=&quot;dropdown&quot; aria-expanded=&quot;false&quot;&gt;&lt;/a&gt;
          &lt;ul class=&quot;dropdown-menu dropdown-menu-end&quot; aria-labelledby=&quot;username-button&quot;&gt;
            &lt;li&gt;&lt;a class=&quot;dropdown-item&quot; href=&quot;#&quot; onclick=&quot;logout()&quot;&gt;Logout&lt;/a&gt;&lt;/li&gt;
          &lt;/ul&gt;
        &lt;/li&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/nav&gt;
  &lt;div class=&quot;modal fade&quot; id=&quot;login-modal&quot; tabindex=&quot;-1&quot; aria-labelledby=&quot;login-modal-title&quot; aria-hidden=&quot;true&quot;&gt;
    &lt;div class=&quot;modal-dialog&quot;&gt;
      &lt;div class=&quot;modal-content&quot;&gt;
        &lt;div class=&quot;modal-header&quot;&gt;
          &lt;h5 class=&quot;modal-title&quot; id=&quot;login-modal-title&quot;&gt;Login&lt;/h5&gt;
          &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class=&quot;modal-body&quot;&gt;
          &lt;form onsubmit=&quot;login(); return false&quot;&gt;
            &lt;div class=&quot;mb-3&quot;&gt;
              &lt;label for=&quot;username&quot; class=&quot;form-label&quot;&gt;Username:&lt;/label&gt;
              &lt;div class=&quot;input-group mb-3&quot;&gt;
                &lt;span class=&quot;input-group-text&quot;&gt;@&lt;/span&gt;
                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;username&quot; aria-label=&quot;username&quot; id=&quot;username&quot; required=&quot;&quot; /&gt;
              &lt;/div&gt;
              &lt;div class=&quot;form-text&quot;&gt;Your Hive username. Lowercase.&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class=&quot;mb-3&quot;&gt;
              &lt;label for=&quot;posting-key&quot; class=&quot;form-label&quot;&gt;Posting key:&lt;/label&gt;
              &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;posting-key&quot; placeholder=&quot;Private posting key&quot; required=&quot;&quot; /&gt;
              &lt;div class=&quot;form-text&quot;&gt;Your key will never leave your browser.&lt;/div&gt;
            &lt;/div&gt;
            &lt;p id=&quot;login-error&quot;&gt;&lt;/p&gt;
            &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; id=&quot;login-form-btn&quot;&gt;Login&lt;/button&gt;
            &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-bs-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;
          &lt;/form&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;script src=&quot;js/app.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;
``` 
***
### Styles
`css/style.css`:
```
.navbar-nav {
  margin-right: 30px;
}
.navbar-brand {
  margin-left: 30px;
}
#login-error {
  color: #e31337;
  display: none;
}
```
***
## Javascript
`js/app.js`
An object for user data.
```
const userData = {
  authorized: false,
  username: '',
  key: ''
}
```
Let's define the login function. It will verify the posting key and username then keep the data in localStorage. We use the [hive-tx](https://github.com/mahdiyari/hive-tx-js) library for converting keys.

```
const login = async () =&amp;gt; {
  const loginModal = bootstrap.Modal.getInstance(
    document.getElementById('login-modal')
  )
  const loginButtonForm = document.getElementById('login-form-btn')
  loginButtonForm.setAttribute('disabled', 'true')
  const loginError = document.getElementById('login-error')
  loginError.style.display = 'none'
  const username = document.getElementById('username').value
  const key = document.getElementById('posting-key').value
  const validate = await validatePostingKey(username, key)
  if (validate.result === 0) {
    loginError.innerHTML = validate.error
    loginError.style.display = 'block'
    loginButtonForm.removeAttribute('disabled')
    return
  }
  userData.authorized = true
  userData.username = username
  userData.key = key
  window.localStorage.setItem('userData', JSON.stringify(userData))
  loginButtonForm.removeAttribute('disabled')
  updateState()
  loginModal.hide()
}
```
As you can see there are 2 more functions used inside the login function. The first one is `validatePostingKey()`. It's a post for itself.
Let me explain it. First, we make a call to the Hive RPC API node by using hive-tx library and get the account information including the public posting key. Then we convert the user's private posting key to the public key and compare the two values. If the two values are equal then the user-provided private key is correct and we can authorize the user. There are also other ways to achieve the same result like signing a message with the private key and validating that signature with the public key.

```
const validatePostingKey = async (username, privateKey) =&amp;gt; {
  const accounts = await hiveTx.call('condenser_api.get_accounts', [[username]])
  if (
    !accounts ||
    !accounts.result ||
    !Array.isArray(accounts.result) ||
    accounts.result.length &amp;lt; 1
  ) {
    return { result: 0, error: 'Network error or wrong username' }
  }
  try {
    const account = accounts.result[0]
    const publicWif = account.posting.key_auths[0][0] || ''
    const generatedPublicKey = hiveTx.PrivateKey.from(privateKey)
      .createPublic()
      .toString()

    if (generatedPublicKey !== publicWif) {
      return { result: 0, error: 'Wrong key' }
    }
    return { result: 1 }
  } catch (e) {
    return { result: 0, error: 'Wrong key or network error' }
  }
}
```
updateState() is used to update the HTML interface after user login and logout.
```
const updateState = () =&amp;gt; {
  const loginButton = document.getElementById('login-button')
  const logoutMenu = document.getElementById('logout-menu')
  const usernameButton = document.getElementById('username-button')
  if (userData.authorized &amp;amp;&amp;amp; userData.username &amp;amp;&amp;amp; userData.key) {
    loginButton.style.display = 'none'
    logoutMenu.style.display = 'block'
    usernameButton.innerHTML = '@' + userData.username
  } else {
    loginButton.style.display = 'block'
    logoutMenu.style.display = 'none'
  }
}
```
And it's time for the logout function.
```
const logout = () =&amp;gt; {
  userData.authorized = false
  userData.username = ''
  userData.key = ''
  window.localStorage.removeItem('userData')
  updateState()
}
```
We need to check localStorage on the page reload and log in the user if the key is in the localStorage.
```
const checkState = () =&amp;gt; {
  const localData = window.localStorage.getItem('userData')
  let data
  if (!localData) {
    return
  }
  try {
    data = JSON.parse(localData)
  } catch (e) {
    data = userData
  }
  if (data.authorized &amp;amp;&amp;amp; data.username &amp;amp;&amp;amp; data.key) {
    userData.authorized = true
    userData.username = data.username
    userData.key = data.key
    updateState()
  }
}
checkState()
```
Now we have a working login and logout system. It keeps user data in localStorage which stays on the browser only.
What we have done so far is just the front-end. Our game needs a back-end server to provide the game data. We will stream blocks on the back-end and process game data then serve it through API. Our front-end will broadcast transactions which will update the back-end. In other words, the back-end is only serving the data it receives through the blockchain. We could stream the blocks on the client-side (browser) but it's not efficient and it is just unnecessary bandwidth waste.
***
You can see the running app on https://tic-tac-toe.mahdiyari.info/
The final code is on GitLab https://gitlab.com/mahdiyari/decentralized-game-on-hive

In the next part, we will set up our back-end server and database. Now that I think about it, MySQL might be an overkill for this project. Anyway, let's stick to it for now.

I want to get feedback from the community before continuing further. Help me with your comments and let me know what you think about this project. How can I improve it? Should I explain everything from the basics? I greatly appreciate your feedback.

Thanks for reading.&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@mahdiyari&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/making-a-decentralized-game-on-hive-tic-tac-toe-part-1&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-mahdiyari-making-a-decentralized-game-on-hive-tic-tac-toe-part-1').html();
      const outputElem = $('#content-mahdiyari-making-a-decentralized-game-on-hive-tic-tac-toe-part-1');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-mahdiyari-making-a-decentralized-game-on-hive-tic-tac-toe-part-1 {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-tic-tac-toe-part-1 code {
    background: white;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-tic-tac-toe-part-1 a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-tic-tac-toe-part-1 a:hover {
    border-bottom: 0;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-tic-tac-toe-part-1 h1 {
    font-size: 2.2em;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-tic-tac-toe-part-1 h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-tic-tac-toe-part-1 header small {
    color: #999;
    font-size: 50%;
  }
  #content-mahdiyari-making-a-decentralized-game-on-hive-tic-tac-toe-part-1 img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://hive.blog/hive-139531/@mahdiyari/making-a-decentralized-game-on-hive-tic-tac-toe-part-1&quot;&gt;Making a Decentralized Game on Hive - Tic Tac Toe - Part 1&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@mahdiyari&quot;&gt;@mahdiyari&lt;/a&gt;
&lt;/p&gt;</content><author><name>mahdiyari</name></author><category term="howto" /><category term="nodejs" /><summary type="html">![tic-tac-toe.png](https://images.hive.blog/DQmYne66xZ9RBsrUwF9N76S5XnjJGyzEgBPbbsZRnNAHUzx/tic-tac-toe.png) We will develop a decentralized game by the end of this series. The goal is to make learning development on Hive blockchain easier by using a simple game as the training project. ## Target audience Of course, it's not for everybody. I will try to keep it simple as possible for people with less experience with development. But some degree of understanding code is necessary to learn something. I will explain anything related to the Hive blockchain that we use. You can find the links for the final result of this part at the end of this post. ## Why &quot;tic-tac-toe&quot;? It's a simple multiplayer game and it covers most of the topics needed for a bigger decentralized game or application. Most people are already familiar with this game and it's easier to code and its rules are simple. ## Development We will use Javascript for the game because it's simple enough so most people understand easily. The front-end will be pure HTML. Also, I think MySQL is a good fit as the database. The game needs a database to keep track of games and players. MySQL docker can be set up in a few minutes. The decentralized game will work without depending on one central software. The game will talk only to the blockchain and there is no central database. It doesn't need a private entity to hold players' data. Anyone can run an interface for the game. (We have a database but it's not a central private database and it can be synced through blockchain. Anyone should be able to run an instance of the game and the game will get the same exact database by reading data from the blockchain. It's like hivemind, the database that holds and serves most of the data on Hive.) ## Tools I'm using - Visual Studio Code - Nodejs - MySQL docker setup - Chrome browser I didn't plan anything beforehand so I don't know how many posts it will take. I will list the things that come to my mind right now. ## Planning - Front-end - Make a login method on the client-side - Display available games list - Create/Request to join a game - Design the game visuals and controls - Back-end - Stream the blockchain and listen for custom_json operations - Define custom_json operations - Game mechanics - API to communicate with front-end - Replay/resync method to update the database on newly deployed game clients The above list may or may not change. Anyway, let's start with the front-end and add a login method. *** ## Part 1: Front-end - Login method I think the HTML part doesn't need any explanation. Page title, description, bootstrap navbar, and a login link. Added `css/style.css` and `js/app.js` too. When the user clicks on the &quot;login&quot; link, a modal with the login form will appear. It will then fire `login()` function on submit. `index.html`: ``` &amp;lt;!DOCTYPE html&amp;gt; Tic-Tac-Toe on Hive blockchain Tic-Tac-Toe Login Logout Login Username: @ Your Hive username. Lowercase. Posting key: Your key will never leave your browser. Login Close ``` *** ### Styles `css/style.css`: ``` .navbar-nav { margin-right: 30px; } .navbar-brand { margin-left: 30px; } #login-error { color: #e31337; display: none; } ``` *** ## Javascript `js/app.js` An object for user data. ``` const userData = { authorized: false, username: '', key: '' } ``` Let's define the login function. It will verify the posting key and username then keep the data in localStorage. We use the [hive-tx](https://github.com/mahdiyari/hive-tx-js) library for converting keys. ``` const login = async () =&amp;gt; { const loginModal = bootstrap.Modal.getInstance( document.getElementById('login-modal') ) const loginButtonForm = document.getElementById('login-form-btn') loginButtonForm.setAttribute('disabled', 'true') const loginError = document.getElementById('login-error') loginError.style.display = 'none' const username = document.getElementById('username').value const key = document.getElementById('posting-key').value const validate = await validatePostingKey(username, key) if (validate.result === 0) { loginError.innerHTML = validate.error loginError.style.display = 'block' loginButtonForm.removeAttribute('disabled') return } userData.authorized = true userData.username = username userData.key = key window.localStorage.setItem('userData', JSON.stringify(userData)) loginButtonForm.removeAttribute('disabled') updateState() loginModal.hide() } ``` As you can see there are 2 more functions used inside the login function. The first one is `validatePostingKey()`. It's a post for itself. Let me explain it. First, we make a call to the Hive RPC API node by using hive-tx library and get the account information including the public posting key. Then we convert the user's private posting key to the public key and compare the two values. If the two values are equal then the user-provided private key is correct and we can authorize the user. There are also other ways to achieve the same result like signing a message with the private key and validating that signature with the public key. ``` const validatePostingKey = async (username, privateKey) =&amp;gt; { const accounts = await hiveTx.call('condenser_api.get_accounts', [[username]]) if ( !accounts || !accounts.result || !Array.isArray(accounts.result) || accounts.result.length &amp;lt; 1 ) { return { result: 0, error: 'Network error or wrong username' } } try { const account = accounts.result[0] const publicWif = account.posting.key_auths[0][0] || '' const generatedPublicKey = hiveTx.PrivateKey.from(privateKey) .createPublic() .toString() if (generatedPublicKey !== publicWif) { return { result: 0, error: 'Wrong key' } } return { result: 1 } } catch (e) { return { result: 0, error: 'Wrong key or network error' } } } ``` updateState() is used to update the HTML interface after user login and logout. ``` const updateState = () =&amp;gt; { const loginButton = document.getElementById('login-button') const logoutMenu = document.getElementById('logout-menu') const usernameButton = document.getElementById('username-button') if (userData.authorized &amp;amp;&amp;amp; userData.username &amp;amp;&amp;amp; userData.key) { loginButton.style.display = 'none' logoutMenu.style.display = 'block' usernameButton.innerHTML = '@' + userData.username } else { loginButton.style.display = 'block' logoutMenu.style.display = 'none' } } ``` And it's time for the logout function. ``` const logout = () =&amp;gt; { userData.authorized = false userData.username = '' userData.key = '' window.localStorage.removeItem('userData') updateState() } ``` We need to check localStorage on the page reload and log in the user if the key is in the localStorage. ``` const checkState = () =&amp;gt; { const localData = window.localStorage.getItem('userData') let data if (!localData) { return } try { data = JSON.parse(localData) } catch (e) { data = userData } if (data.authorized &amp;amp;&amp;amp; data.username &amp;amp;&amp;amp; data.key) { userData.authorized = true userData.username = data.username userData.key = data.key updateState() } } checkState() ``` Now we have a working login and logout system. It keeps user data in localStorage which stays on the browser only. What we have done so far is just the front-end. Our game needs a back-end server to provide the game data. We will stream blocks on the back-end and process game data then serve it through API. Our front-end will broadcast transactions which will update the back-end. In other words, the back-end is only serving the data it receives through the blockchain. We could stream the blocks on the client-side (browser) but it's not efficient and it is just unnecessary bandwidth waste. *** You can see the running app on https://tic-tac-toe.mahdiyari.info/ The final code is on GitLab https://gitlab.com/mahdiyari/decentralized-game-on-hive In the next part, we will set up our back-end server and database. Now that I think about it, MySQL might be an overkill for this project. Anyway, let's stick to it for now. I want to get feedback from the community before continuing further. Help me with your comments and let me know what you think about this project. How can I improve it? Should I explain everything from the basics? I greatly appreciate your feedback. Thanks for reading. See: Making a Decentralized Game on Hive - Tic Tac Toe - Part 1 by @mahdiyari</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://images.hive.blog/DQmYne66xZ9RBsrUwF9N76S5XnjJGyzEgBPbbsZRnNAHUzx/tic-tac-toe.png" /><media:content medium="image" url="https://images.hive.blog/DQmYne66xZ9RBsrUwF9N76S5XnjJGyzEgBPbbsZRnNAHUzx/tic-tac-toe.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">7th update of 2021 on BlockTrades work on Hive software</title><link href="https://hivedocs.info/news/core/development/2021/03/11/7th-update-of-2021-on-blocktrades-work-on-hive-software.html" rel="alternate" type="text/html" title="7th update of 2021 on BlockTrades work on Hive software" /><published>2021-03-11T12:25:42-08:00</published><updated>2021-03-11T12:25:42-08:00</updated><id>https://hivedocs.info/news/core/development/2021/03/11/7th-update-of-2021-on-blocktrades-work-on-hive-software</id><content type="html" xml:base="https://hivedocs.info/news/core/development/2021/03/11/7th-update-of-2021-on-blocktrades-work-on-hive-software.html">&lt;div id=&quot;content-blocktrades-7th-update-of-2021-on-blocktrades-work-on-hive-software&quot;&gt;Below is a brief list of Hive-related programming issues worked on by BlockTrades team during last week or so:

# Hived work (blockchain node software)

## SQL account history plugin for hived

We made some fixes to the SQL account history plugin to enable proper operation with hivemind sync process:
https://gitlab.syncad.com/hive/hive/-/merge_requests/173
https://gitlab.syncad.com/hive/hive/-/commits/bw_live_postgres_dump/
https://gitlab.syncad.com/hive/hive/-/merge_requests/177

 We still have one fix to avoid a potential foreign key violation during live sync (probably will be finished tomorrow).

## HF25 changes (these are described in detail in our [Hive roadmap post](https://hive.blog/hive-139531/@blocktrades/roadmap-for-hive-related-work-by-blocktrades-in-the-next-6-months))

We made some fixes and improvements to the code that handles expiration of governance votes (votes for witnesses and Hive Fund proposals): 
https://gitlab.syncad.com/hive/hive/-/merge_requests/174

We started work on voting window changes for HF25. We expect to finish implementation tomorrow, then we can begin testing.

## Miscellaneous hived changes

We made a fix related to removal of expired Hive Fund proposals: https://gitlab.syncad.com/hive/hive/-/merge_requests/176

We finished review of @howo merge requests. Two have been merged to develop and one is still under review:
https://gitlab.syncad.com/hive/hive/-/merge_requests/162
https://gitlab.syncad.com/hive/hive/-/merge_requests/169

We also fixed an intermittent issue with hived shutdown:
https://gitlab.syncad.com/hive/hive/-/merge_requests/157

We added some virtual ops to report various changes in state (mainly accounting-related) that werent previously reported: 
https://gitlab.syncad.com/hive/hive/-/merge_requests/167

Some changes to cleanup compile process: https://gitlab.syncad.com/hive/hive/-/merge_requests/172
Fix for proper testnet operation: https://gitlab.syncad.com/hive/hive/-/merge_requests/175

# Hivemind (2nd layer applications + social media middleware)

Fixed a problem in master branch that caused issues when upgrading an existing hivemind database: 
https://gitlab.syncad.com/hive/hivemind/-/merge_requests/483

Fixed an issue with git version reporting: https://gitlab.syncad.com/hive/hivemind/-/merge_requests/479

Added a comand-line option to log the time required for hive server to process API requests:
https://gitlab.syncad.com/hive/hivemind/-/merge_requests/481

Some new tests for bridge API calls:
https://gitlab.syncad.com/hive/hivemind/-/merge_requests/477

# Postgres extension for fork handling for Modular hivemind

One of the key challenges for modular hivemind (the upcoming 2nd layer application framework) is automated support of fork handling. Automated fork-handling will simplify design of 2nd layer apps so that they don't need to worry about fork-handling logic. 

Currently were experimenting with the use of a C-based postgres extension to help accomplish this task (were referring to this as the SQL change-audit extension). 

Last week we tested the prototypes ability to recover the original state of an updated record in the database. Below are links to where this work is going on in the repo:
https://gitlab.syncad.com/hive/psql_tools/-/blob/mi_hive_fork_plugin/README.md
https://gitlab.syncad.com/hive/psql_tools/-/commits/mi_hive_fork_plugin&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@blocktrades&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/7th-update-of-2021-on-blocktrades-work-on-hive-software&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-blocktrades-7th-update-of-2021-on-blocktrades-work-on-hive-software').html();
      const outputElem = $('#content-blocktrades-7th-update-of-2021-on-blocktrades-work-on-hive-software');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-blocktrades-7th-update-of-2021-on-blocktrades-work-on-hive-software {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-blocktrades-7th-update-of-2021-on-blocktrades-work-on-hive-software code {
    background: white;
  }
  #content-blocktrades-7th-update-of-2021-on-blocktrades-work-on-hive-software a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-blocktrades-7th-update-of-2021-on-blocktrades-work-on-hive-software a:hover {
    border-bottom: 0;
  }
  #content-blocktrades-7th-update-of-2021-on-blocktrades-work-on-hive-software h1 {
    font-size: 2.2em;
  }
  #content-blocktrades-7th-update-of-2021-on-blocktrades-work-on-hive-software h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-blocktrades-7th-update-of-2021-on-blocktrades-work-on-hive-software header small {
    color: #999;
    font-size: 50%;
  }
  #content-blocktrades-7th-update-of-2021-on-blocktrades-work-on-hive-software img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://hive.blog/hive-139531/@blocktrades/7th-update-of-2021-on-blocktrades-work-on-hive-software&quot;&gt;7th update of 2021 on BlockTrades work on Hive software&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@blocktrades&quot;&gt;@blocktrades&lt;/a&gt;
&lt;/p&gt;</content><author><name>blocktrades</name></author><category term="news" /><category term="core" /><category term="development" /><summary type="html">Below is a brief list of Hive-related programming issues worked on by BlockTrades team during last week or so: # Hived work (blockchain node software) ## SQL account history plugin for hived We made some fixes to the SQL account history plugin to enable proper operation with hivemind sync process: https://gitlab.syncad.com/hive/hive/-/merge_requests/173 https://gitlab.syncad.com/hive/hive/-/commits/bw_live_postgres_dump/ https://gitlab.syncad.com/hive/hive/-/merge_requests/177 We still have one fix to avoid a potential foreign key violation during live sync (probably will be finished tomorrow). ## HF25 changes (these are described in detail in our [Hive roadmap post](https://hive.blog/hive-139531/@blocktrades/roadmap-for-hive-related-work-by-blocktrades-in-the-next-6-months)) We made some fixes and improvements to the code that handles expiration of governance votes (votes for witnesses and Hive Fund proposals): https://gitlab.syncad.com/hive/hive/-/merge_requests/174 We started work on voting window changes for HF25. We expect to finish implementation tomorrow, then we can begin testing. ## Miscellaneous hived changes We made a fix related to removal of expired Hive Fund proposals: https://gitlab.syncad.com/hive/hive/-/merge_requests/176 We finished review of @howo merge requests. Two have been merged to develop and one is still under review: https://gitlab.syncad.com/hive/hive/-/merge_requests/162 https://gitlab.syncad.com/hive/hive/-/merge_requests/169 We also fixed an intermittent issue with hived shutdown: https://gitlab.syncad.com/hive/hive/-/merge_requests/157 We added some virtual ops to report various changes in state (mainly accounting-related) that werent previously reported: https://gitlab.syncad.com/hive/hive/-/merge_requests/167 Some changes to cleanup compile process: https://gitlab.syncad.com/hive/hive/-/merge_requests/172 Fix for proper testnet operation: https://gitlab.syncad.com/hive/hive/-/merge_requests/175 # Hivemind (2nd layer applications + social media middleware) Fixed a problem in master branch that caused issues when upgrading an existing hivemind database: https://gitlab.syncad.com/hive/hivemind/-/merge_requests/483 Fixed an issue with git version reporting: https://gitlab.syncad.com/hive/hivemind/-/merge_requests/479 Added a comand-line option to log the time required for hive server to process API requests: https://gitlab.syncad.com/hive/hivemind/-/merge_requests/481 Some new tests for bridge API calls: https://gitlab.syncad.com/hive/hivemind/-/merge_requests/477 # Postgres extension for fork handling for Modular hivemind One of the key challenges for modular hivemind (the upcoming 2nd layer application framework) is automated support of fork handling. Automated fork-handling will simplify design of 2nd layer apps so that they don't need to worry about fork-handling logic. Currently were experimenting with the use of a C-based postgres extension to help accomplish this task (were referring to this as the SQL change-audit extension). Last week we tested the prototypes ability to recover the original state of an updated record in the database. Below are links to where this work is going on in the repo: https://gitlab.syncad.com/hive/psql_tools/-/blob/mi_hive_fork_plugin/README.md https://gitlab.syncad.com/hive/psql_tools/-/commits/mi_hive_fork_plugin See: 7th update of 2021 on BlockTrades work on Hive software by @blocktrades</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://hivedocs.info/assets/images/favicon.png" /><media:content medium="image" url="https://hivedocs.info/assets/images/favicon.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Hive Account Recovery Update</title><link href="https://hivedocs.info/tools/2021/03/09/hive-account-recovery-update.html" rel="alternate" type="text/html" title="Hive Account Recovery Update" /><published>2021-03-09T10:19:12-08:00</published><updated>2021-03-09T10:19:12-08:00</updated><id>https://hivedocs.info/tools/2021/03/09/hive-account-recovery-update</id><content type="html" xml:base="https://hivedocs.info/tools/2021/03/09/hive-account-recovery-update.html">&lt;div id=&quot;content-arcange-hive-account-recovery-update&quot;&gt;&lt;center&gt;![](https://i.imgur.com/cBnUxCk.png)&lt;/center&gt;

Several months ago, I introduced Hive Recovery, a service that runs continuously and autonomously to help you recover your account if it were to be compromised.

For more information, I invite you to read the [introduction post](/hive/@arcange/introducing-hive-account-recovery).

Currently, many users have decided to define @hive.recovery as their recovery account and to date, none have yet had to use its services to recover it, which in itself is a good thing.

### One service with several working pieces

The services provided by @hive.recovery consist of two components:

1. The front-end

The front-end is a static HTML page that helps users to configure @hive.recovery as their recovery account. The front-end also helps to request @hive.recovery to initiate the recovery process

2. The back-end

The back-end is a javascript service running on a server that, upon request will verify the identity of an account and initiate the recovery process.

### Front-end improvements

I recently had to provide assistance to users who wanted to change their recovery account. No major issue, but it made me realize that there was still room for improvement, especially on the user interface part.

#### 1. Better error and edge case management

I first improved the error handling and fixed some small bugs regarding their notification.

I also added additional validations, among them the verification of the user's HIVE balance because the change request requires to have at least 0.001 HIVE available.

#### 2. New password and keys generator

I took the opportunity to add a feature intended for the recovery process itself: the possibility of generating a new password and keys.

Indeed, the recovery process requires you to provide your recovery account with the public owner key from a new password and keys set you previously generated for your account.

But to generate this new password and keys set, it was necessary to use an external service, and first to know where to find such a service. This is no longer necessary since this functionality is now directly integrated into the site.

![](https://i.imgur.com/cYYj2De.png)

If you do not have already generated a new password and keys set, you can do it by clicking the &quot;Generate new Password and Keys&quot; button. It will display a new dialog with a new randomly generated password and its related keys.

![](https://i.imgur.com/lFGHHr0.png)

After confirming you have saved your new credentials and clicked on &quot;Continue&quot;, it will automatically copy your new public owner key into the appropriate input field.

Of course, none of the displayed data is stored or transmitted. You can audit the source code that has been updated on [github](https://github.com/VIM-Arcange/hive-Recovery).

The [Hive Recovery User Guide](/hive/@hive.recovery/userguide), which contains all the details about this service has also been updated.

Little things that make your life easier.

---
&lt;center&gt;

### Check out my apps and services
&lt;a href=&quot;/hive/@hive.engage/stay-connected-with-your-hive-audience-and-catch-attention&quot;&gt;&lt;img src=&quot;https://i.imgur.com/GiNJqlm.png&quot; /&gt;&lt;/a&gt;&lt;a href=&quot;/@hivebuzz&quot;&gt;&lt;img src=&quot;https://i.imgur.com/B4UTun2.png&quot; /&gt;&lt;/a&gt;&lt;a href=&quot;/@hivesql&quot;&gt;&lt;img src=&quot;https://i.imgur.com/EPN8RW6.png&quot; /&gt;&lt;/a&gt;&lt;a href=&quot;/hive/@arcange/introducing-hive-account-recovery&quot;&gt;&lt;img src=&quot;https://i.imgur.com/6TWeW7V.png&quot; /&gt;&lt;/a&gt;&lt;a href=&quot;/@hive.autoclaim&quot;&gt;&lt;img src=&quot;https://i.imgur.com/ih2pEOw.png&quot; /&gt;&lt;/a&gt;&lt;/center&gt;
&lt;center&gt;

### [Vote for me as a witness ![](https://i.imgur.com/2bi4SnT.png)](https://hivesigner.com/sign/account-witness-vote?witness=arcange&amp;amp;approve=1)&amp;lt;/div&amp;gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@arcange&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/hive-account-recovery-update&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-arcange-hive-account-recovery-update').html();
      const outputElem = $('#content-arcange-hive-account-recovery-update');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;
&lt;style&gt;
  #content-arcange-hive-account-recovery-update {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-arcange-hive-account-recovery-update code {
    background: white;
  }
  #content-arcange-hive-account-recovery-update a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-arcange-hive-account-recovery-update a:hover {
    border-bottom: 0;
  }
  #content-arcange-hive-account-recovery-update h1 {
    font-size: 2.2em;
  }
  #content-arcange-hive-account-recovery-update h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-arcange-hive-account-recovery-update header small {
    color: #999;
    font-size: 50%;
  }
  #content-arcange-hive-account-recovery-update img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;
&lt;p&gt;
  See: &lt;a href=&quot;https://peakd.com/hive-139531/@arcange/hive-account-recovery-update&quot;&gt;Hive Account Recovery Update&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@arcange&quot;&gt;@arcange&lt;/a&gt;
&lt;/p&gt;

&lt;/center&gt;&lt;/div&gt;</content><author><name>arcange</name></author><category term="tools" /><summary type="html">![](https://i.imgur.com/cBnUxCk.png) Several months ago, I introduced Hive Recovery, a service that runs continuously and autonomously to help you recover your account if it were to be compromised. For more information, I invite you to read the [introduction post](/hive/@arcange/introducing-hive-account-recovery). Currently, many users have decided to define @hive.recovery as their recovery account and to date, none have yet had to use its services to recover it, which in itself is a good thing. ### One service with several working pieces The services provided by @hive.recovery consist of two components: 1. The front-end The front-end is a static HTML page that helps users to configure @hive.recovery as their recovery account. The front-end also helps to request @hive.recovery to initiate the recovery process 2. The back-end The back-end is a javascript service running on a server that, upon request will verify the identity of an account and initiate the recovery process. ### Front-end improvements I recently had to provide assistance to users who wanted to change their recovery account. No major issue, but it made me realize that there was still room for improvement, especially on the user interface part. #### 1. Better error and edge case management I first improved the error handling and fixed some small bugs regarding their notification. I also added additional validations, among them the verification of the user's HIVE balance because the change request requires to have at least 0.001 HIVE available. #### 2. New password and keys generator I took the opportunity to add a feature intended for the recovery process itself: the possibility of generating a new password and keys. Indeed, the recovery process requires you to provide your recovery account with the public owner key from a new password and keys set you previously generated for your account. But to generate this new password and keys set, it was necessary to use an external service, and first to know where to find such a service. This is no longer necessary since this functionality is now directly integrated into the site. ![](https://i.imgur.com/cYYj2De.png) If you do not have already generated a new password and keys set, you can do it by clicking the &quot;Generate new Password and Keys&quot; button. It will display a new dialog with a new randomly generated password and its related keys. ![](https://i.imgur.com/lFGHHr0.png) After confirming you have saved your new credentials and clicked on &quot;Continue&quot;, it will automatically copy your new public owner key into the appropriate input field. Of course, none of the displayed data is stored or transmitted. You can audit the source code that has been updated on [github](https://github.com/VIM-Arcange/hive-Recovery). The [Hive Recovery User Guide](/hive/@hive.recovery/userguide), which contains all the details about this service has also been updated. Little things that make your life easier. --- ### Check out my apps and services ### [Vote for me as a witness ![](https://i.imgur.com/2bi4SnT.png)](https://hivesigner.com/sign/account-witness-vote?witness=arcange&amp;amp;approve=1)&amp;lt;/div&amp;gt; See: Hive Account Recovery Update by @arcange</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://i.imgur.com/cBnUxCk.png" /><media:content medium="image" url="https://i.imgur.com/cBnUxCk.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">6th update of 2021 on BlockTrades work on Hive software</title><link href="https://hivedocs.info/news/core/development/2021/03/02/6th-update-of-2021-on-blocktrades-work-on-hive-software.html" rel="alternate" type="text/html" title="6th update of 2021 on BlockTrades work on Hive software" /><published>2021-03-02T15:26:51-08:00</published><updated>2021-03-02T15:26:51-08:00</updated><id>https://hivedocs.info/news/core/development/2021/03/02/6th-update-of-2021-on-blocktrades-work-on-hive-software</id><content type="html" xml:base="https://hivedocs.info/news/core/development/2021/03/02/6th-update-of-2021-on-blocktrades-work-on-hive-software.html">&lt;div id=&quot;content-blocktrades-6th-update-of-2021-on-blocktrades-work-on-hive-software&quot;&gt;# Hived work (blockchain node software)


## SQL account history plugin

In the last week or so, we continued our work on the SQL account history plugin. 

Dont be confused by the name of this plugin: while it can and will function as a very fast replacement for the rocksdb account history plugin, its primary purpose is to lay the foundation for modular hivemind (an application framework for 2nd layer applications).

We added support for resuming a hived replay configured with the SQL account history plugin. This support is also necessary for enabling the use of this plugin when operated in conjunction with a hivemind running in live sync mode. 

The SQL account history plugin also now populates the database with block and transaction signatures needed for get_block api calls.

Finally, we added code to drop/restore the SQL indexes associated with the account history data to enable faster hived replays (this can be useful, for example, if no hivemind sync is happening at the same time).

## Other work on hived

We reviewed recent changes in the hived code, which resulted in some code fixes and code reformats and new unit tests. We also did some preliminary reviews of current merge requests for hived.

# Modular Hivemind (2nd layer application framework)

## Syncing hivemind from SQL account history plugin databases

Hivemind can now run an initial sync directly from the postgres data generated by the SQL account history plugin. We repeated the initial sync of hivemind that died near the end during our previous test (running for 49.58M blocks) and confirmed that it takes just under 46 hours (just under two days). For comparison, a hivemind sync using the old pull process with all our other recent optimizations still took 61.2 hours.

The final database size for this test was: SQL account history-generated data (~1.1 TB) + hivemind sync-generated data (~0.5 TB) for a total size of 1.6 TB. 

## Experimenting with Postgres extensions for fork handling

One of the key challenges for modular hivemind is automated support of fork handling, to remove this burden from 2nd layer applications. Currently were experimenting with the use of C-based postgres extensions to help accomplish this task.

## Miscellaneous changes to hive sync

We eliminated use of some SQL constructs in hivemind sync that obtained exclusive locks on tables and therefore prevented database dumps from being run concurrently with a hivemind sync. Without this change, a hivemind server operator would need to temporarily disable his hivemind server in order to make a database backup.

## Official hivemind release v1.24.2

We completed testing of the develop branch, then merged all our latest work on hivemind to the master branch, tagged it as v1.24.2. 

We notified all API node operators that they should upgrade to v1.24.2 as soon as practical, as it contains not only optimizations and the exclusive lock fix, but also various bugfixes related to hivemind indexing and API responses.


# Condenser (https://hive.blog code base)

We finished fixing condenser bugs related to the follows, mutes, and decentralized lists, and deployed a new version of hive.blog with the fixes. At this point, weve completed and tested all work on decentralized lists.

# Plans for next week

On hived side, well continue working on changes for HF25 (vote expiration for governance changes, curation vote window changes, merge request review, etc). Depending on how much time we have, we may take a look at the HBD interest code, now that witnesses are experimenting with enabling HBD interest payments. Ive also considered adding a mechanism for helping to maintain the HBD peg if we have time. Ill write a post about it if we make enough progress on other fronts in the next week or so that it seems feasible to fit the enhanced pegging mechanism into HF25.

For modular hivemind, well continue to explore ways to automate fork-handling.

On the optimization front, were experimenting with python profiling to see if we can further reduce the time for a hivemind initial sync from SQL account history data. For a visualization tool, were using kcachegrind.

We also want to look at combining the process of replaying hived with the SQL account history plugin (which takes about 11 hours) while running a hivemind sync simultaneously (which takes 46 hours). Currently these process are running sequentially, which takes 11 + 46 = 57 hours. 

By running them concurrently, I believe we can reduce the overall time to nearly just the time of the hivemind sync (i.e. 46 hours currently). As a reminder, previously this process took 17 hours for a hived replay with rockdsb account history + about 96 hours for a hivemind sync, before we began optimizations of sync time.&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@blocktrades&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/6th-update-of-2021-on-blocktrades-work-on-hive-software&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-blocktrades-6th-update-of-2021-on-blocktrades-work-on-hive-software').html();
      const outputElem = $('#content-blocktrades-6th-update-of-2021-on-blocktrades-work-on-hive-software');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-blocktrades-6th-update-of-2021-on-blocktrades-work-on-hive-software {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-blocktrades-6th-update-of-2021-on-blocktrades-work-on-hive-software code {
    background: white;
  }
  #content-blocktrades-6th-update-of-2021-on-blocktrades-work-on-hive-software a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-blocktrades-6th-update-of-2021-on-blocktrades-work-on-hive-software a:hover {
    border-bottom: 0;
  }
  #content-blocktrades-6th-update-of-2021-on-blocktrades-work-on-hive-software h1 {
    font-size: 2.2em;
  }
  #content-blocktrades-6th-update-of-2021-on-blocktrades-work-on-hive-software h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-blocktrades-6th-update-of-2021-on-blocktrades-work-on-hive-software header small {
    color: #999;
    font-size: 50%;
  }
  #content-blocktrades-6th-update-of-2021-on-blocktrades-work-on-hive-software img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://hive.blog/hive-139531/@blocktrades/6th-update-of-2021-on-blocktrades-work-on-hive-software&quot;&gt;6th update of 2021 on BlockTrades work on Hive software&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@blocktrades&quot;&gt;@blocktrades&lt;/a&gt;
&lt;/p&gt;</content><author><name>blocktrades</name></author><category term="news" /><category term="core" /><category term="development" /><summary type="html"># Hived work (blockchain node software) ## SQL account history plugin In the last week or so, we continued our work on the SQL account history plugin. Dont be confused by the name of this plugin: while it can and will function as a very fast replacement for the rocksdb account history plugin, its primary purpose is to lay the foundation for modular hivemind (an application framework for 2nd layer applications). We added support for resuming a hived replay configured with the SQL account history plugin. This support is also necessary for enabling the use of this plugin when operated in conjunction with a hivemind running in live sync mode. The SQL account history plugin also now populates the database with block and transaction signatures needed for get_block api calls. Finally, we added code to drop/restore the SQL indexes associated with the account history data to enable faster hived replays (this can be useful, for example, if no hivemind sync is happening at the same time). ## Other work on hived We reviewed recent changes in the hived code, which resulted in some code fixes and code reformats and new unit tests. We also did some preliminary reviews of current merge requests for hived. # Modular Hivemind (2nd layer application framework) ## Syncing hivemind from SQL account history plugin databases Hivemind can now run an initial sync directly from the postgres data generated by the SQL account history plugin. We repeated the initial sync of hivemind that died near the end during our previous test (running for 49.58M blocks) and confirmed that it takes just under 46 hours (just under two days). For comparison, a hivemind sync using the old pull process with all our other recent optimizations still took 61.2 hours. The final database size for this test was: SQL account history-generated data (~1.1 TB) + hivemind sync-generated data (~0.5 TB) for a total size of 1.6 TB. ## Experimenting with Postgres extensions for fork handling One of the key challenges for modular hivemind is automated support of fork handling, to remove this burden from 2nd layer applications. Currently were experimenting with the use of C-based postgres extensions to help accomplish this task. ## Miscellaneous changes to hive sync We eliminated use of some SQL constructs in hivemind sync that obtained exclusive locks on tables and therefore prevented database dumps from being run concurrently with a hivemind sync. Without this change, a hivemind server operator would need to temporarily disable his hivemind server in order to make a database backup. ## Official hivemind release v1.24.2 We completed testing of the develop branch, then merged all our latest work on hivemind to the master branch, tagged it as v1.24.2. We notified all API node operators that they should upgrade to v1.24.2 as soon as practical, as it contains not only optimizations and the exclusive lock fix, but also various bugfixes related to hivemind indexing and API responses. # Condenser (https://hive.blog code base) We finished fixing condenser bugs related to the follows, mutes, and decentralized lists, and deployed a new version of hive.blog with the fixes. At this point, weve completed and tested all work on decentralized lists. # Plans for next week On hived side, well continue working on changes for HF25 (vote expiration for governance changes, curation vote window changes, merge request review, etc). Depending on how much time we have, we may take a look at the HBD interest code, now that witnesses are experimenting with enabling HBD interest payments. Ive also considered adding a mechanism for helping to maintain the HBD peg if we have time. Ill write a post about it if we make enough progress on other fronts in the next week or so that it seems feasible to fit the enhanced pegging mechanism into HF25. For modular hivemind, well continue to explore ways to automate fork-handling. On the optimization front, were experimenting with python profiling to see if we can further reduce the time for a hivemind initial sync from SQL account history data. For a visualization tool, were using kcachegrind. We also want to look at combining the process of replaying hived with the SQL account history plugin (which takes about 11 hours) while running a hivemind sync simultaneously (which takes 46 hours). Currently these process are running sequentially, which takes 11 + 46 = 57 hours. By running them concurrently, I believe we can reduce the overall time to nearly just the time of the hivemind sync (i.e. 46 hours currently). As a reminder, previously this process took 17 hours for a hived replay with rockdsb account history + about 96 hours for a hivemind sync, before we began optimizations of sync time. See: 6th update of 2021 on BlockTrades work on Hive software by @blocktrades</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://hivedocs.info/assets/images/favicon.png" /><media:content medium="image" url="https://hivedocs.info/assets/images/favicon.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">JavaScript library for Ledger Nano S HIVE application</title><link href="https://hivedocs.info/howto/nano/nodejs/wallet/2021/03/02/javascript-library-for-ledger-nano-s-hive-application.html" rel="alternate" type="text/html" title="JavaScript library for Ledger Nano S HIVE application" /><published>2021-03-02T11:17:12-08:00</published><updated>2021-03-02T11:17:12-08:00</updated><id>https://hivedocs.info/howto/nano/nodejs/wallet/2021/03/02/javascript-library-for-ledger-nano-s-hive-application</id><content type="html" xml:base="https://hivedocs.info/howto/nano/nodejs/wallet/2021/03/02/javascript-library-for-ledger-nano-s-hive-application.html">&lt;div id=&quot;content-engrave-javascript-library-for-ledger-nano-s-hive-application&quot;&gt;![Incoming HIVE Ledger wallet](https://files.peakd.com/file/peakd-hive/engrave/EowF9ezqJkPjHhLKMx9NjA82sqpuhKVddGJHDgbd5zyo9TsVhKtGc1714xmomVXPeLL)


It's been a couple of months since @netuoso [published the initial version of the Hive Ledger App](https://hive.blog/hive-139531/@netuoso/hive-application-for-the-ledger-nano-s-x-hardware-wallet). In order to get official support from Ledger (i.e. the possibility to install it from Ledger Live), we need to meet several requirements. And I'm trying to fulfill them all so we could benefit from the hardware wallet support.

# Code review

First, we need to make sure that the application is stable and secure. I already made a preliminary review of the app and created a Pull Request with some fixes. The next step will be to review the code from a security perspective, following the guidelines provided by Ledger. This requires a bit more work and knowledge than validating transactions serialization etc, but we will get there.

 * https://github.com/netuoso/ledger-app-hive/pull/5/

# Javascript library

To simplify communication with the ledger app, I created a JavaScript/Typescript library. It's really easy to use it with NodeJS. The library covers every functionality supported by the app.

Example usage:

```typescript
import Hive from '@engrave/ledger-app-hive';
import TransportNodeHid from '@ledgerhq/hw-transport-node-hid';
import Transport from '@ledgerhq/hw-transport';

( async () =&amp;gt; {

    console.log('Unlock your ledger....');
    const transport = await TransportNodeHid.create();
    console.log(`Established connection with Ledger Nano S`);

    try {
        const hive = new Hive(transport);
        const {version, arbitraryData} = await hive.getAppConfiguration();
        console.log(&quot;Current version:&quot;, version);
        console.log(&quot;Arbitary data enabled:&quot;, arbitraryData);

        const publicKey = await hive.getPublicKey(`48'/13'/0'/0'/0'`);
        console.log(&quot;Public key:&quot;, publicKey);
    } catch (e) {
        console.error(e);
    }
    finally {
        transport.close();
    }

})();
```

## API

 * [getAppConfiguration](#getappconfiguration)
 * [getPublicKey](#getpublickey)
 * [signTransaction](#signtransaction) 

### getAppConfiguration

Get current configuration for HIVE App installed on a Ledger.

```typescript
async getAppConfiguration(): Promise&amp;lt;{version: string, arbitraryData: boolean}&amp;gt;
```

### getPublicKey

Retrieve public key from specified BIP32 path. You can set an additional parameter `confirm: boolean` which will ask the user to confirm the Public Key on his Ledger before returning it. 

```typescript
async getPublicKey(path: string, confirm?: boolean): Promise&amp;lt;{publicKey: string}&amp;gt; {
```

### signTransaction

Sign basic transactions with the specified key path. This method will return signed transactions (a transaction with additional `signatures` property). Please note that extensions are not yet supported for most transactions and operations (except `beneficiaries` for `comment_options`). 

```typescript
async signTransaction(tx: Transaction, path: string): Promise&lt;SignedTransaction&gt;
```

Please be aware that the current implementation of the HIVE Ledger App does not support multisig. This could be also a cool feature and we might add it someday. For now, let's focus on publishing it.

The library is open-source and available on Gitlab and NPM:
 * https://gitlab.com/engrave/ledger/ledger-app-hive

# Ledger Companion App

To prove that the application is working correctly, Ledger requires a sample Companion App. 

I prepared an initial design for a new wallet app and will start developing it soon. The plan is to make it as a wallet targeted at large stakeholders willing to invest in HIVE. It will be focused on governance (voting for witnesses and proposals) and the most significant chain news.

![It will be possible to create a new Hive account directly from app](https://files.peakd.com/file/peakd-hive/engrave/23wWk6s648pDWBsa1JoJunzjwiXRo9f49h5gbvBg2q65FmshLwjh7mpbHEcrqHRdQmJAg)

![Hive Ledger will display all significant parameters of your account](https://files.peakd.com/file/peakd-hive/engrave/23vsBhgnPDwTJcjG9YXJp5qfx6828bE9xVTzR6HsZW6XEskYJBs1bZoG99HkjsHBiau1W)

![It will be possible to vote on witnesses and perform other governance actions](https://files.peakd.com/file/peakd-hive/engrave/23wWnW3EENBacfW6UgsUncKqKVHKiQXRRNftBf1qpAp9GvXMJWu9x7ihqNU1wPktLyhdE)

Follow me to be up to date with incoming development updates!

***

&lt;center&gt;

**Click on the image to vote for @engrave witness:**

[![banner_engrave 100.png](https://images.hive.blog/DQmUghvic5TCPPvVkB4iB7eXmgQ3RQ4L8jkVizvuCBW8RMT/banner_engrave%20100.png)](https://hivesigner.com/sign/account-witness-vote?witness=engrave&amp;amp;approve=1)


&lt;/center&gt;
&amp;lt;/div&amp;gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@engrave&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/javascript-library-for-ledger-nano-s-hive-application&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-engrave-javascript-library-for-ledger-nano-s-hive-application').html();
      const outputElem = $('#content-engrave-javascript-library-for-ledger-nano-s-hive-application');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;
&lt;style&gt;
  #content-engrave-javascript-library-for-ledger-nano-s-hive-application {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-engrave-javascript-library-for-ledger-nano-s-hive-application code {
    background: white;
  }
  #content-engrave-javascript-library-for-ledger-nano-s-hive-application a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-engrave-javascript-library-for-ledger-nano-s-hive-application a:hover {
    border-bottom: 0;
  }
  #content-engrave-javascript-library-for-ledger-nano-s-hive-application h1 {
    font-size: 2.2em;
  }
  #content-engrave-javascript-library-for-ledger-nano-s-hive-application h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-engrave-javascript-library-for-ledger-nano-s-hive-application header small {
    color: #999;
    font-size: 50%;
  }
  #content-engrave-javascript-library-for-ledger-nano-s-hive-application img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;
&lt;p&gt;
  See: &lt;a href=&quot;https://peakd.com/hive-139531/@engrave/javascript-library-for-ledger-nano-s-hive-application&quot;&gt;JavaScript library for Ledger Nano S HIVE application&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@engrave&quot;&gt;@engrave&lt;/a&gt;
&lt;/p&gt;

&lt;/SignedTransaction&gt;&lt;/div&gt;</content><author><name>engrave</name></author><category term="howto" /><category term="nano" /><category term="nodejs" /><category term="wallet" /><summary type="html">![Incoming HIVE Ledger wallet](https://files.peakd.com/file/peakd-hive/engrave/EowF9ezqJkPjHhLKMx9NjA82sqpuhKVddGJHDgbd5zyo9TsVhKtGc1714xmomVXPeLL) It's been a couple of months since @netuoso [published the initial version of the Hive Ledger App](https://hive.blog/hive-139531/@netuoso/hive-application-for-the-ledger-nano-s-x-hardware-wallet). In order to get official support from Ledger (i.e. the possibility to install it from Ledger Live), we need to meet several requirements. And I'm trying to fulfill them all so we could benefit from the hardware wallet support. # Code review First, we need to make sure that the application is stable and secure. I already made a preliminary review of the app and created a Pull Request with some fixes. The next step will be to review the code from a security perspective, following the guidelines provided by Ledger. This requires a bit more work and knowledge than validating transactions serialization etc, but we will get there. * https://github.com/netuoso/ledger-app-hive/pull/5/ # Javascript library To simplify communication with the ledger app, I created a JavaScript/Typescript library. It's really easy to use it with NodeJS. The library covers every functionality supported by the app. Example usage: ```typescript import Hive from '@engrave/ledger-app-hive'; import TransportNodeHid from '@ledgerhq/hw-transport-node-hid'; import Transport from '@ledgerhq/hw-transport'; ( async () =&amp;gt; { console.log('Unlock your ledger....'); const transport = await TransportNodeHid.create(); console.log(`Established connection with Ledger Nano S`); try { const hive = new Hive(transport); const {version, arbitraryData} = await hive.getAppConfiguration(); console.log(&quot;Current version:&quot;, version); console.log(&quot;Arbitary data enabled:&quot;, arbitraryData); const publicKey = await hive.getPublicKey(`48'/13'/0'/0'/0'`); console.log(&quot;Public key:&quot;, publicKey); } catch (e) { console.error(e); } finally { transport.close(); } })(); ``` ## API * [getAppConfiguration](#getappconfiguration) * [getPublicKey](#getpublickey) * [signTransaction](#signtransaction) ### getAppConfiguration Get current configuration for HIVE App installed on a Ledger. ```typescript async getAppConfiguration(): Promise&amp;lt;{version: string, arbitraryData: boolean}&amp;gt; ``` ### getPublicKey Retrieve public key from specified BIP32 path. You can set an additional parameter `confirm: boolean` which will ask the user to confirm the Public Key on his Ledger before returning it. ```typescript async getPublicKey(path: string, confirm?: boolean): Promise&amp;lt;{publicKey: string}&amp;gt; { ``` ### signTransaction Sign basic transactions with the specified key path. This method will return signed transactions (a transaction with additional `signatures` property). Please note that extensions are not yet supported for most transactions and operations (except `beneficiaries` for `comment_options`). ```typescript async signTransaction(tx: Transaction, path: string): Promise ``` Please be aware that the current implementation of the HIVE Ledger App does not support multisig. This could be also a cool feature and we might add it someday. For now, let's focus on publishing it. The library is open-source and available on Gitlab and NPM: * https://gitlab.com/engrave/ledger/ledger-app-hive # Ledger Companion App To prove that the application is working correctly, Ledger requires a sample Companion App. I prepared an initial design for a new wallet app and will start developing it soon. The plan is to make it as a wallet targeted at large stakeholders willing to invest in HIVE. It will be focused on governance (voting for witnesses and proposals) and the most significant chain news. ![It will be possible to create a new Hive account directly from app](https://files.peakd.com/file/peakd-hive/engrave/23wWk6s648pDWBsa1JoJunzjwiXRo9f49h5gbvBg2q65FmshLwjh7mpbHEcrqHRdQmJAg) ![Hive Ledger will display all significant parameters of your account](https://files.peakd.com/file/peakd-hive/engrave/23vsBhgnPDwTJcjG9YXJp5qfx6828bE9xVTzR6HsZW6XEskYJBs1bZoG99HkjsHBiau1W) ![It will be possible to vote on witnesses and perform other governance actions](https://files.peakd.com/file/peakd-hive/engrave/23wWnW3EENBacfW6UgsUncKqKVHKiQXRRNftBf1qpAp9GvXMJWu9x7ihqNU1wPktLyhdE) Follow me to be up to date with incoming development updates! *** **Click on the image to vote for @engrave witness:** [![banner_engrave 100.png](https://images.hive.blog/DQmUghvic5TCPPvVkB4iB7eXmgQ3RQ4L8jkVizvuCBW8RMT/banner_engrave%20100.png)](https://hivesigner.com/sign/account-witness-vote?witness=engrave&amp;amp;approve=1) &amp;lt;/div&amp;gt; See: JavaScript library for Ledger Nano S HIVE application by @engrave</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://files.peakd.com/file/peakd-hive/engrave/EowF9ezqJkPjHhLKMx9NjA82sqpuhKVddGJHDgbd5zyo9TsVhKtGc1714xmomVXPeLL" /><media:content medium="image" url="https://files.peakd.com/file/peakd-hive/engrave/EowF9ezqJkPjHhLKMx9NjA82sqpuhKVddGJHDgbd5zyo9TsVhKtGc1714xmomVXPeLL" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Hivesigner SDK rewritten in typescript</title><link href="https://hivedocs.info/news/nodejs/hivesigner/2021/02/27/hivesigner-sdk-rewritten-in-typescript.html" rel="alternate" type="text/html" title="Hivesigner SDK rewritten in typescript" /><published>2021-02-27T21:38:21-08:00</published><updated>2021-02-27T21:38:21-08:00</updated><id>https://hivedocs.info/news/nodejs/hivesigner/2021/02/27/hivesigner-sdk-rewritten-in-typescript</id><content type="html" xml:base="https://hivedocs.info/news/nodejs/hivesigner/2021/02/27/hivesigner-sdk-rewritten-in-typescript.html">&lt;div id=&quot;content-good-karma-hivesigner-sdk-rewritten-in-typescript&quot;&gt;Few days ago we have published new version of Hivesigner javascript SDK which is completely rewritten in Typescript with proper types, additional improvements on promises and written tests.

![hivesigner-development-secure-way-to-sign-in-blockchain](https://images.ecency.com/p/Y2iXpRRkNSnseh3NuL6KUBitJTXrc5K2vbTzBseGEENcE)  

Typescript implementation is clean and helps you to identify type of each parameters. If you are JS developer, you probably love this update because it helps you to write less buggy code. We have also written some tests to make sure each new update into library passes those tests. 

As a part of this update to `hivesigner`, we made minor changes into `hive-uri` package as well, which removes dependencies to old dsteem library.

New version of `hivesigner` package is x4 times smaller in size which means less addition to your website bundle, faster download for entire app in general. Shortly after release, we have made some improvements and better browser support, size x2 times smaller from legacy, still great. **Please note, however due to typescript change, you might have to check how you import library into your apps.**

![hivesigner-package-size](https://images.ecency.com/DQmVHtnik5iTniaH5k2ivQKcFkKZNMQAWVLHrKY5QtNcrhw/image.png)

Try new version `hivesigner@3.2.5` and let us know how it works on your apps. https://www.npmjs.com/package/hivesigner

If you are using `hive-uri` in your apps, consider updating that library as well. https://www.npmjs.com/package/hive-uri

Next in line is to optimise and finalise Hivesigner UI (website) changes and release update to website which will improve user experience.

## Support Hivesigner  
 
- [Read details of Hivesigner proposal](https://ecency.com/hive/@good-karma/hivesigner-ongoing-development-and-improvement)  
 
&lt;center&gt;  
[`Hivesigner proposal`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B88%5D&amp;amp;approve=true) | [`Hivesearcher proposal`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B114%5D&amp;amp;approve=true)  
[![Vote for @good-karma as a witness](https://images.ecency.com/p/o1AJ9qDyyJNSpZWhUgGYc3MngFqoAN2qn9AiTn8UpLP6Qb5TL?format=match&amp;amp;mode=fit)](https://hivesigner.com/sign/account-witness-vote?witness=good-karma&amp;amp;approve=1)  
&lt;/center&gt;&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@good-karma&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/hivesigner-sdk-rewritten-in-typescript&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-good-karma-hivesigner-sdk-rewritten-in-typescript').html();
      const outputElem = $('#content-good-karma-hivesigner-sdk-rewritten-in-typescript');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-good-karma-hivesigner-sdk-rewritten-in-typescript {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-good-karma-hivesigner-sdk-rewritten-in-typescript code {
    background: white;
  }
  #content-good-karma-hivesigner-sdk-rewritten-in-typescript a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-good-karma-hivesigner-sdk-rewritten-in-typescript a:hover {
    border-bottom: 0;
  }
  #content-good-karma-hivesigner-sdk-rewritten-in-typescript h1 {
    font-size: 2.2em;
  }
  #content-good-karma-hivesigner-sdk-rewritten-in-typescript h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-good-karma-hivesigner-sdk-rewritten-in-typescript header small {
    color: #999;
    font-size: 50%;
  }
  #content-good-karma-hivesigner-sdk-rewritten-in-typescript img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://ecency.com/hive-139531/@good-karma/hivesigner-sdk-rewritten-in-typescript&quot;&gt;Hivesigner SDK rewritten in typescript&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@good-karma&quot;&gt;@good-karma&lt;/a&gt;
&lt;/p&gt;</content><author><name>good-karma</name></author><category term="news" /><category term="nodejs" /><category term="hivesigner" /><summary type="html">Few days ago we have published new version of Hivesigner javascript SDK which is completely rewritten in Typescript with proper types, additional improvements on promises and written tests. ![hivesigner-development-secure-way-to-sign-in-blockchain](https://images.ecency.com/p/Y2iXpRRkNSnseh3NuL6KUBitJTXrc5K2vbTzBseGEENcE) Typescript implementation is clean and helps you to identify type of each parameters. If you are JS developer, you probably love this update because it helps you to write less buggy code. We have also written some tests to make sure each new update into library passes those tests. As a part of this update to `hivesigner`, we made minor changes into `hive-uri` package as well, which removes dependencies to old dsteem library. New version of `hivesigner` package is x4 times smaller in size which means less addition to your website bundle, faster download for entire app in general. Shortly after release, we have made some improvements and better browser support, size x2 times smaller from legacy, still great. **Please note, however due to typescript change, you might have to check how you import library into your apps.** ![hivesigner-package-size](https://images.ecency.com/DQmVHtnik5iTniaH5k2ivQKcFkKZNMQAWVLHrKY5QtNcrhw/image.png) Try new version `hivesigner@3.2.5` and let us know how it works on your apps. https://www.npmjs.com/package/hivesigner If you are using `hive-uri` in your apps, consider updating that library as well. https://www.npmjs.com/package/hive-uri Next in line is to optimise and finalise Hivesigner UI (website) changes and release update to website which will improve user experience. ## Support Hivesigner - [Read details of Hivesigner proposal](https://ecency.com/hive/@good-karma/hivesigner-ongoing-development-and-improvement) [`Hivesigner proposal`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B88%5D&amp;amp;approve=true) | [`Hivesearcher proposal`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B114%5D&amp;amp;approve=true) [![Vote for @good-karma as a witness](https://images.ecency.com/p/o1AJ9qDyyJNSpZWhUgGYc3MngFqoAN2qn9AiTn8UpLP6Qb5TL?format=match&amp;amp;mode=fit)](https://hivesigner.com/sign/account-witness-vote?witness=good-karma&amp;amp;approve=1) See: Hivesigner SDK rewritten in typescript by @good-karma</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://images.ecency.com/DQmVHtnik5iTniaH5k2ivQKcFkKZNMQAWVLHrKY5QtNcrhw/image.png" /><media:content medium="image" url="https://images.ecency.com/DQmVHtnik5iTniaH5k2ivQKcFkKZNMQAWVLHrKY5QtNcrhw/image.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Hive Devportal Update: SDK References, Python Tutorials</title><link href="https://hivedocs.info/news/documentation/2021/02/27/hive-devportal-update-sdk-references-python-tutorials.html" rel="alternate" type="text/html" title="Hive Devportal Update: SDK References, Python Tutorials" /><published>2021-02-27T12:13:12-08:00</published><updated>2021-02-27T12:13:12-08:00</updated><id>https://hivedocs.info/news/documentation/2021/02/27/hive-devportal-update-sdk-references-python-tutorials</id><content type="html" xml:base="https://hivedocs.info/news/documentation/2021/02/27/hive-devportal-update-sdk-references-python-tutorials.html">&lt;div id=&quot;content-inertia-hive-devportal-update-sdk-references-python-tutorials&quot;&gt;&lt;div class=&quot;pull-right&quot;&gt;
  &lt;img src=&quot;https://developers.hive.io/images/honey-comb-92.png&quot; /&gt;
&lt;/div&gt;

My proposal got approved this week, so I've been able to dedicate serious time to documentation.

##### SDK References

&lt;center&gt;&lt;img src=&quot;https://files.peakd.com/file/peakd-hive/inertia/se3yfj4k-image.png&quot; /&gt;&lt;/center&gt;

&lt;sup&gt;See: &lt;a href=&quot;https://developers.hive.io/apidefinitions/#database_api.list_escrows&quot;&gt;database_api.list_escrows&lt;/a&gt;&lt;/sup&gt;

We already have what amounts to a master list of API methods on the devportal, called API Definitions.  It's grouped by namespaces and functionality.  You can use this list to figure out what parameters are available for the SDK (software development kit) that you use.

From the standpoint of documentation, I'm referring to an SDK as a module, library, or dependency in your project that connects to the API for you.

Knowing the methods names and operations doesn't always correlate to the same method in your favorite SDK.  So I've added links from the API Definitions that points to a method in the SDK's documentation.

In addition to the methods you can call, the API Definitions also list the operations you can execute on the blockchain:

&lt;center&gt;&lt;img src=&quot;https://files.peakd.com/file/peakd-hive/inertia/VjfLDBS6-image.png&quot; /&gt;&lt;/center&gt;

&lt;sup&gt;See: &lt;a href=&quot;http://developers.hive.io/apidefinitions/#broadcast_ops_vote&quot;&gt;vote_operation&lt;/a&gt;&lt;/sup&gt;

As you can see, even more tools are available for operations like voting, primarily because the additional tools like hive-keychain and hivesigner.js perform these operations in the browser.

Related refs: [00c2fc45](https://gitlab.syncad.com/hive/devportal/-/commit/00c2fc45eb860c4f4574ce4817e387680ba06a9d), [45bc486d](https://gitlab.syncad.com/hive/devportal/-/commit/45bc486d5afdd93beec7170d4a617e2b4ddb42f7)

##### Python Tutorials

Previously, I did an audit on the Javascript Tutorials.  In the next update, I also have the Python Tutorials fully reviewed.  This process takes a while and I'm about one third of the way through, at the moment.

#### Tintoy

Because we don't have a testnet at the moment, it's important for developers to be able to deploy their own local testnet if they want to try out certain tutorials.

Of course, they can always just point their copy of the tutorial to the mainnet.  But it's nice to have the option of running a local testnet.

I've been maintaining the [testnet setup tutorials](https://developers.hive.io/search/?q=testnet) with that in mind, but if you have docker configured, you can deploy your local testnet using the following command:

```bash
docker run -d -P inertia/tintoy:latest
```

As it relates to the devportal, [tintoy](https://hub.docker.com/r/inertia/tintoy) can be an important tool for exploring Hive capabilities, so I've been maintaining the docker image on an ongoing basis by refreshing the image when there are major changes to `hived`.  Big thanks to @someguy123 for providing [hive-docker](https://github.com/Someguy123/hive-docker), which is key to allowing me to maintain the tintoy docker images.

---

If you'd like to vote for my current proposal:

[https://hivesigner.com/sign/update-proposal-votes?proposal_ids=[151]&amp;amp;approve=true](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=[151]&amp;amp;approve=true)

---

Also see: https://peakd.com/proposals/inertia&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@inertia&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/hive-devportal-update-sdk-references-python-tutorials&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-inertia-hive-devportal-update-sdk-references-python-tutorials').html();
      const outputElem = $('#content-inertia-hive-devportal-update-sdk-references-python-tutorials');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-inertia-hive-devportal-update-sdk-references-python-tutorials {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-inertia-hive-devportal-update-sdk-references-python-tutorials code {
    background: white;
  }
  #content-inertia-hive-devportal-update-sdk-references-python-tutorials a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-inertia-hive-devportal-update-sdk-references-python-tutorials a:hover {
    border-bottom: 0;
  }
  #content-inertia-hive-devportal-update-sdk-references-python-tutorials h1 {
    font-size: 2.2em;
  }
  #content-inertia-hive-devportal-update-sdk-references-python-tutorials h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-inertia-hive-devportal-update-sdk-references-python-tutorials header small {
    color: #999;
    font-size: 50%;
  }
  #content-inertia-hive-devportal-update-sdk-references-python-tutorials img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://hive.blog/hive-139531/@inertia/hive-devportal-update-sdk-references-python-tutorials&quot;&gt;Hive Devportal Update: SDK References, Python Tutorials&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@inertia&quot;&gt;@inertia&lt;/a&gt;
&lt;/p&gt;</content><author><name>inertia</name></author><category term="news" /><category term="documentation" /><summary type="html">My proposal got approved this week, so I've been able to dedicate serious time to documentation. ##### SDK References See: database_api.list_escrows We already have what amounts to a master list of API methods on the devportal, called API Definitions. It's grouped by namespaces and functionality. You can use this list to figure out what parameters are available for the SDK (software development kit) that you use. From the standpoint of documentation, I'm referring to an SDK as a module, library, or dependency in your project that connects to the API for you. Knowing the methods names and operations doesn't always correlate to the same method in your favorite SDK. So I've added links from the API Definitions that points to a method in the SDK's documentation. In addition to the methods you can call, the API Definitions also list the operations you can execute on the blockchain: See: vote_operation As you can see, even more tools are available for operations like voting, primarily because the additional tools like hive-keychain and hivesigner.js perform these operations in the browser. Related refs: [00c2fc45](https://gitlab.syncad.com/hive/devportal/-/commit/00c2fc45eb860c4f4574ce4817e387680ba06a9d), [45bc486d](https://gitlab.syncad.com/hive/devportal/-/commit/45bc486d5afdd93beec7170d4a617e2b4ddb42f7) ##### Python Tutorials Previously, I did an audit on the Javascript Tutorials. In the next update, I also have the Python Tutorials fully reviewed. This process takes a while and I'm about one third of the way through, at the moment. #### Tintoy Because we don't have a testnet at the moment, it's important for developers to be able to deploy their own local testnet if they want to try out certain tutorials. Of course, they can always just point their copy of the tutorial to the mainnet. But it's nice to have the option of running a local testnet. I've been maintaining the [testnet setup tutorials](https://developers.hive.io/search/?q=testnet) with that in mind, but if you have docker configured, you can deploy your local testnet using the following command: ```bash docker run -d -P inertia/tintoy:latest ``` As it relates to the devportal, [tintoy](https://hub.docker.com/r/inertia/tintoy) can be an important tool for exploring Hive capabilities, so I've been maintaining the docker image on an ongoing basis by refreshing the image when there are major changes to `hived`. Big thanks to @someguy123 for providing [hive-docker](https://github.com/Someguy123/hive-docker), which is key to allowing me to maintain the tintoy docker images. --- If you'd like to vote for my current proposal: [https://hivesigner.com/sign/update-proposal-votes?proposal_ids=[151]&amp;amp;approve=true](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=[151]&amp;amp;approve=true) --- Also see: https://peakd.com/proposals/inertia See: Hive Devportal Update: SDK References, Python Tutorials by @inertia</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://developers.hive.io/images/honey-comb-92.png" /><media:content medium="image" url="https://developers.hive.io/images/honey-comb-92.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>