<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.1.1">Jekyll</generator><link href="https://hivedocs.info/feed.xml" rel="self" type="application/atom+xml" /><link href="https://hivedocs.info/" rel="alternate" type="text/html" /><updated>2021-06-14T08:18:54-07:00</updated><id>https://hivedocs.info/feed.xml</id><title type="html">Hive Chain Documentation</title><subtitle>Your resource for various levels of Hive Documentation.</subtitle><author><name>site curated by: @inertia</name></author><entry><title type="html">Imagehoster cache purge for Cloudflare</title><link href="https://hivedocs.info/howto/devops/imagehoster/2021/06/14/imagehoster-cache-purge-for-cloudflare.html" rel="alternate" type="text/html" title="Imagehoster cache purge for Cloudflare" /><published>2021-06-14T01:43:48-07:00</published><updated>2021-06-14T01:43:48-07:00</updated><id>https://hivedocs.info/howto/devops/imagehoster/2021/06/14/imagehoster-cache-purge-for-cloudflare</id><content type="html" xml:base="https://hivedocs.info/howto/devops/imagehoster/2021/06/14/imagehoster-cache-purge-for-cloudflare.html">&lt;div id=&quot;content-good-karma-imagehoster-cache-purge-for-cloudflare&quot;&gt;Quick post about new script that helps with caching avatars on imagehoster instances hosted on Cloudflare.

![ecency-imagehoster-caching](https://images.ecency.com/DQmecXYP57pagKtfrUvcRG5AZsrgnwdmbsmugKcv5han8Mn/cache_work.png)

We have 2 imagehoster instances right now, one run by Ecency team and another from Blocktrades team. It is crucial part of platform without which user experience would really suffer. Images, avatars are face of every UI.

https://images.ecency.com
https://images.hive.blog

They both run in front of Cloudflare and images were not utilizing Cloudflare cache properly. For couple reasons, one - avatars cannot be cached for long time, when person updates avatar via apps/websites then they expect it see it instantly, two - Cloudflare considers them dynamic content by default.

If you force cache avatars with Cloudflare page rules then update only shown after cache is expired. That’s not acceptable for Blockchain that’s very fast but avatar update require cache expiry. On Ecency instance we had 10 seconds cache, while Hiveblog instance wasn’t using cache at first and couple days ago Blocktrades tried 4h. All other images could be cached for longer period because they don’t change at all, for avatars 4h. Which was still too long.

To solve avatar caching issue, created simple script that would purge cache from Cloudflare when account gets update on blockchain. If imagehoster instances are down or in maintenance, all images would be served from Cloudflare cache which is really great for user experience as well.

If you will be running Imagehoster instance in future or considering it, I would recommend running this script on separate server and set avatars caching to longer period safely. If you are not using Cloudflare, then consider removing caching avatars completely, it will put some load on your server but alternative is confusing user experience.

https://github.com/ecency/cf-cache

Both instances running above script now and whenever account update triggered on Blockchain, above script purges relevant user’s avatar to keep it fresh, use new avatar on all apps that depend on it. 

images.ecency.com cache period for avatars 1 week 
images.hive.blog cache period for avatar 5 hours

After change, I noticed Ecency.com became even more faster... Caching images for sure improving performance of all apps.

### Support proposals  
 
[`Ecency`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B141%5D&amp;amp;approve=true) | [`Hivesearcher`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B146%5D&amp;amp;approve=true) | [`Hivesigner`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B88%5D&amp;amp;approve=true)&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;!-- &lt;script src=&quot;https://cdn.jsdelivr.net/npm/hive-content-renderer/dist/hive-content-renderer.min.js&quot;&gt;&lt;/script&gt; --&gt;
&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
      // const renderer = new HiveContentRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@good-karma&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/imagehoster-cache-purge-for-cloudflare&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-good-karma-imagehoster-cache-purge-for-cloudflare').html();
      const outputElem = $('#content-good-karma-imagehoster-cache-purge-for-cloudflare');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-good-karma-imagehoster-cache-purge-for-cloudflare {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-good-karma-imagehoster-cache-purge-for-cloudflare code {
    background: white;
  }
  #content-good-karma-imagehoster-cache-purge-for-cloudflare a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-good-karma-imagehoster-cache-purge-for-cloudflare a:hover {
    border-bottom: 0;
  }
  #content-good-karma-imagehoster-cache-purge-for-cloudflare h1 {
    font-size: 2.2em;
  }
  #content-good-karma-imagehoster-cache-purge-for-cloudflare h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-good-karma-imagehoster-cache-purge-for-cloudflare header small {
    color: #999;
    font-size: 50%;
  }
  #content-good-karma-imagehoster-cache-purge-for-cloudflare img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://ecency.com/hive-139531/@good-karma/imagehoster-cache-purge-for-cloudflare&quot;&gt;Imagehoster cache purge for Cloudflare&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@good-karma&quot;&gt;@good-karma&lt;/a&gt;
&lt;/p&gt;</content><author><name>good-karma</name></author><category term="howto" /><category term="devops" /><category term="imagehoster" /><summary type="html">Quick post about new script that helps with caching avatars on imagehoster instances hosted on Cloudflare. ![ecency-imagehoster-caching](https://images.ecency.com/DQmecXYP57pagKtfrUvcRG5AZsrgnwdmbsmugKcv5han8Mn/cache_work.png) We have 2 imagehoster instances right now, one run by Ecency team and another from Blocktrades team. It is crucial part of platform without which user experience would really suffer. Images, avatars are face of every UI. https://images.ecency.com https://images.hive.blog They both run in front of Cloudflare and images were not utilizing Cloudflare cache properly. For couple reasons, one - avatars cannot be cached for long time, when person updates avatar via apps/websites then they expect it see it instantly, two - Cloudflare considers them dynamic content by default. If you force cache avatars with Cloudflare page rules then update only shown after cache is expired. That’s not acceptable for Blockchain that’s very fast but avatar update require cache expiry. On Ecency instance we had 10 seconds cache, while Hiveblog instance wasn’t using cache at first and couple days ago Blocktrades tried 4h. All other images could be cached for longer period because they don’t change at all, for avatars 4h. Which was still too long. To solve avatar caching issue, created simple script that would purge cache from Cloudflare when account gets update on blockchain. If imagehoster instances are down or in maintenance, all images would be served from Cloudflare cache which is really great for user experience as well. If you will be running Imagehoster instance in future or considering it, I would recommend running this script on separate server and set avatars caching to longer period safely. If you are not using Cloudflare, then consider removing caching avatars completely, it will put some load on your server but alternative is confusing user experience. https://github.com/ecency/cf-cache Both instances running above script now and whenever account update triggered on Blockchain, above script purges relevant user’s avatar to keep it fresh, use new avatar on all apps that depend on it. images.ecency.com cache period for avatars 1 week images.hive.blog cache period for avatar 5 hours After change, I noticed Ecency.com became even more faster... Caching images for sure improving performance of all apps. ### Support proposals [`Ecency`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B141%5D&amp;amp;approve=true) | [`Hivesearcher`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B146%5D&amp;amp;approve=true) | [`Hivesigner`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B88%5D&amp;amp;approve=true) See: Imagehoster cache purge for Cloudflare by @good-karma</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://images.ecency.com/DQmecXYP57pagKtfrUvcRG5AZsrgnwdmbsmugKcv5han8Mn/cache_work.png" /><media:content medium="image" url="https://images.ecency.com/DQmecXYP57pagKtfrUvcRG5AZsrgnwdmbsmugKcv5han8Mn/cache_work.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Hive Projects weekly update: 5 projects added, 131 listed in total!</title><link href="https://hivedocs.info/news/projects/2021/06/12/hiveprojects-weekly-update-2021-06-12-42368.html" rel="alternate" type="text/html" title="Hive Projects weekly update: 5 projects added, 131 listed in total!" /><published>2021-06-12T09:00:06-07:00</published><updated>2021-06-12T09:00:06-07:00</updated><id>https://hivedocs.info/news/projects/2021/06/12/hiveprojects-weekly-update-2021-06-12-42368</id><content type="html" xml:base="https://hivedocs.info/news/projects/2021/06/12/hiveprojects-weekly-update-2021-06-12-42368.html">&lt;div id=&quot;content-engrave-hiveprojects-weekly-update-2021-06-12-42368&quot;&gt;![](https://files.peakd.com/file/peakd-hive/engrave/IHxPwBD1-hiveprojects_update.png)

# What is [Hive Projects](https://hiveprojects.io)?

[Hive Projects](https://hiveprojects.io) is the biggest directory of apps, sites, tools, and scripts created for the Hive ecosystem. This website is an entirely volunteer-driven effort. That includes coding time and hosting costs. If you wish to help or show your gratitude, there are plenty of ways in which you can do that:
 * upvote this post
 * reblog or cross-post it into your favorite community
 * contribute to HiveProjects, by adding a new project - everyone can do it!
 * let us know about new project, by posting about it in [Hive Projects Community](https://peakd.com/c/hive-192847) or by cross-posting to it or simply paste us a link at [Engrave Discord server](https://discord.gg/8NktdFh)
 * vote for our @engrave witness
 * write a comment :)

***


Previous post: [Hive Projects weekly update: 4 projects added, 126 listed in total!](/@engrave/hiveprojects-weekly-update-2021-03-06-13937)

***



# Newly added projects 

All published projects were moderated and accepted by our **Content Manager** @lukmarcus, who works hard to make [Hive Projects](https://hiveprojects.io) the best and most up-to-date directory of tools and apps in our ecosystem. The entire reward from this post goes to him.




## PizzaBox
**Team:** @thebeardflex, @hivetrending

![](https://hiveprojects.io/media/imgs/136/1623453852443.png)

**Category:** [Bots](https://hiveprojects.io/categories/bots/)

**Description:** *HIVE tailored community Discord Bot focused around awareness and onboarding. Provides moderation tools for use by communities both on and off chain.

Ban, Kick, Mute, Sticky, Slowmo, Lock Channel, Purge, Music Player, Ticket System etc.
Giveaways
Market information for second-layer Hive-Engine tokens
HIVE market information
Mini-games
HIVE onboarding tools/tutorials. Some commands will be customizable per guild they exist in.*

[PizzaBox on HiveProjects.io](https://hiveprojects.io/projects/p/pizzabox/)



## Beatzchain
**Team:** @polarmystro, @lamarz7

![](https://hiveprojects.io/media/imgs/134/1618985842320.png)

**Category:** [Generic Hive Interfaces](https://hiveprojects.io/categories/generic-hive-interfaces/)

**Description:** *Beatzchain project will be a platform that would run on the Hive Blockchain that would serve for Rappers and music producers.  Beatzchain wants to change the Hip-Hop world with a network rap musicians can earn cryptocurrencies through Hive, Music producers can buy/sell beats, and rappers can use crypto to purchase beats including the ones they&amp;#39;ve earned through the Hive Blockchain.  We would like to start an NFT exchange for rappers and producers called &amp;quot;Hip-Hop Stocks&amp;quot; where musicians can create music NFTs with their songs/beats and buyers could benefit off the equity appreciation.  The goal is to give unsigned, independent, and major artists a better financial system for musicians where everyone with good talent who put the work in can sit by the table together.*

[Beatzchain on HiveProjects.io](https://hiveprojects.io/projects/p/beatzchain/)



## Hive Chain Documentation
**Team:** @inertia

![](https://hiveprojects.io/media/imgs/133/1615696720345.png)

**Category:** [Programming Tools](https://hiveprojects.io/categories/programming-tools/)

**Description:** *Your resource for various levels of Hive Documentation.*

[Hive Chain Documentation on HiveProjects.io](https://hiveprojects.io/projects/p/hive-chain-documentation/)



## Votify
**Team:** @dannychain

![](https://hiveprojects.io/media/imgs/132/1615069673826.png)

**Category:** [Witness Tools](https://hiveprojects.io/categories/witness-tools/)

**Description:** *An Open Source Voting Page for Hive-Engine Witnesses*

[Votify on HiveProjects.io](https://hiveprojects.io/projects/p/votify/)



## Karaka
**Team:** 

![](https://hiveprojects.io/media/imgs/135/1619983488995.png)

**Category:** [Bots](https://hiveprojects.io/categories/bots/)

**Description:** *Karaka is an automation (clerk) for Hive and Hive-Engine blockchains. Use it to manage tokens across multiple accounts.*

[Karaka on HiveProjects.io](https://hiveprojects.io/projects/p/karaka/)



***

&lt;center&gt;

**That would be all for today. Stay tuned for the next update and consider contributing to Hive Projects. It is a community-driven website.**

**Click on the image to vote for @engrave witness:**

[![banner_engrave 100.png](https://images.hive.blog/DQmUghvic5TCPPvVkB4iB7eXmgQ3RQ4L8jkVizvuCBW8RMT/banner_engrave%20100.png)](https://hivesigner.com/sign/account-witness-vote?witness=engrave&amp;amp;approve=1)

**Dont forget to follow @engrave account!**

&lt;/center&gt;
&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;!-- &lt;script src=&quot;https://cdn.jsdelivr.net/npm/hive-content-renderer/dist/hive-content-renderer.min.js&quot;&gt;&lt;/script&gt; --&gt;
&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
      // const renderer = new HiveContentRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@engrave&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/hiveprojects-weekly-update-2021-06-12-42368&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-engrave-hiveprojects-weekly-update-2021-06-12-42368').html();
      const outputElem = $('#content-engrave-hiveprojects-weekly-update-2021-06-12-42368');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-engrave-hiveprojects-weekly-update-2021-06-12-42368 {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-engrave-hiveprojects-weekly-update-2021-06-12-42368 code {
    background: white;
  }
  #content-engrave-hiveprojects-weekly-update-2021-06-12-42368 a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-engrave-hiveprojects-weekly-update-2021-06-12-42368 a:hover {
    border-bottom: 0;
  }
  #content-engrave-hiveprojects-weekly-update-2021-06-12-42368 h1 {
    font-size: 2.2em;
  }
  #content-engrave-hiveprojects-weekly-update-2021-06-12-42368 h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-engrave-hiveprojects-weekly-update-2021-06-12-42368 header small {
    color: #999;
    font-size: 50%;
  }
  #content-engrave-hiveprojects-weekly-update-2021-06-12-42368 img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://hive.blog/hive-192847/@engrave/hiveprojects-weekly-update-2021-06-12-42368&quot;&gt;Hive Projects weekly update: 5 projects added, 131 listed in total!&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@engrave&quot;&gt;@engrave&lt;/a&gt;
&lt;/p&gt;</content><author><name>engrave</name></author><category term="news" /><category term="projects" /><summary type="html">![](https://files.peakd.com/file/peakd-hive/engrave/IHxPwBD1-hiveprojects_update.png) # What is [Hive Projects](https://hiveprojects.io)? [Hive Projects](https://hiveprojects.io) is the biggest directory of apps, sites, tools, and scripts created for the Hive ecosystem. This website is an entirely volunteer-driven effort. That includes coding time and hosting costs. If you wish to help or show your gratitude, there are plenty of ways in which you can do that: * upvote this post * reblog or cross-post it into your favorite community * contribute to HiveProjects, by adding a new project - everyone can do it! * let us know about new project, by posting about it in [Hive Projects Community](https://peakd.com/c/hive-192847) or by cross-posting to it or simply paste us a link at [Engrave Discord server](https://discord.gg/8NktdFh) * vote for our @engrave witness * write a comment :) *** Previous post: [Hive Projects weekly update: 4 projects added, 126 listed in total!](/@engrave/hiveprojects-weekly-update-2021-03-06-13937) *** # Newly added projects All published projects were moderated and accepted by our **Content Manager** @lukmarcus, who works hard to make [Hive Projects](https://hiveprojects.io) the best and most up-to-date directory of tools and apps in our ecosystem. The entire reward from this post goes to him. ## PizzaBox **Team:** @thebeardflex, @hivetrending ![](https://hiveprojects.io/media/imgs/136/1623453852443.png) **Category:** [Bots](https://hiveprojects.io/categories/bots/) **Description:** *HIVE tailored community Discord Bot focused around awareness and onboarding. Provides moderation tools for use by communities both on and off chain. Ban, Kick, Mute, Sticky, Slowmo, Lock Channel, Purge, Music Player, Ticket System etc. Giveaways Market information for second-layer Hive-Engine tokens HIVE market information Mini-games HIVE onboarding tools/tutorials. Some commands will be customizable per guild they exist in.* [PizzaBox on HiveProjects.io](https://hiveprojects.io/projects/p/pizzabox/) ## Beatzchain **Team:** @polarmystro, @lamarz7 ![](https://hiveprojects.io/media/imgs/134/1618985842320.png) **Category:** [Generic Hive Interfaces](https://hiveprojects.io/categories/generic-hive-interfaces/) **Description:** *Beatzchain project will be a platform that would run on the Hive Blockchain that would serve for Rappers and music producers. Beatzchain wants to change the Hip-Hop world with a network rap musicians can earn cryptocurrencies through Hive, Music producers can buy/sell beats, and rappers can use crypto to purchase beats including the ones they&amp;#39;ve earned through the Hive Blockchain. We would like to start an NFT exchange for rappers and producers called &amp;quot;Hip-Hop Stocks&amp;quot; where musicians can create music NFTs with their songs/beats and buyers could benefit off the equity appreciation. The goal is to give unsigned, independent, and major artists a better financial system for musicians where everyone with good talent who put the work in can sit by the table together.* [Beatzchain on HiveProjects.io](https://hiveprojects.io/projects/p/beatzchain/) ## Hive Chain Documentation **Team:** @inertia ![](https://hiveprojects.io/media/imgs/133/1615696720345.png) **Category:** [Programming Tools](https://hiveprojects.io/categories/programming-tools/) **Description:** *Your resource for various levels of Hive Documentation.* [Hive Chain Documentation on HiveProjects.io](https://hiveprojects.io/projects/p/hive-chain-documentation/) ## Votify **Team:** @dannychain ![](https://hiveprojects.io/media/imgs/132/1615069673826.png) **Category:** [Witness Tools](https://hiveprojects.io/categories/witness-tools/) **Description:** *An Open Source Voting Page for Hive-Engine Witnesses* [Votify on HiveProjects.io](https://hiveprojects.io/projects/p/votify/) ## Karaka **Team:** ![](https://hiveprojects.io/media/imgs/135/1619983488995.png) **Category:** [Bots](https://hiveprojects.io/categories/bots/) **Description:** *Karaka is an automation (clerk) for Hive and Hive-Engine blockchains. Use it to manage tokens across multiple accounts.* [Karaka on HiveProjects.io](https://hiveprojects.io/projects/p/karaka/) *** **That would be all for today. Stay tuned for the next update and consider contributing to Hive Projects. It is a community-driven website.** **Click on the image to vote for @engrave witness:** [![banner_engrave 100.png](https://images.hive.blog/DQmUghvic5TCPPvVkB4iB7eXmgQ3RQ4L8jkVizvuCBW8RMT/banner_engrave%20100.png)](https://hivesigner.com/sign/account-witness-vote?witness=engrave&amp;amp;approve=1) **Dont forget to follow @engrave account!** See: Hive Projects weekly update: 5 projects added, 131 listed in total! by @engrave</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://hivedocs.info/assets/images/favicon.png" /><media:content medium="image" url="https://hivedocs.info/assets/images/favicon.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">CryptoCurrency eXchange Trading Library | Hive &amp;amp; HBD Prices</title><link href="https://hivedocs.info/howto/nodejs/exchange/2021/06/11/cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices.html" rel="alternate" type="text/html" title="CryptoCurrency eXchange Trading Library | Hive &amp;amp; HBD Prices" /><published>2021-06-11T18:15:15-07:00</published><updated>2021-06-11T18:15:15-07:00</updated><id>https://hivedocs.info/howto/nodejs/exchange/2021/06/11/cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices</id><content type="html" xml:base="https://hivedocs.info/howto/nodejs/exchange/2021/06/11/cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices.html">&lt;div id=&quot;content-geekgirl-cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices&quot;&gt;&lt;center&gt;![ccxt.png](https://images.hive.blog/DQmP7AXNQQHk7FXFZruTqK3nagHuWBefrNA489MHsxVbH5a/ccxt.png)&lt;/center&gt;

CCXT is a cryptocurrency exchange trading library for Javascript, Python, and PHP. It is a trading API that supports more than 120 crypto exchanges and continues to add more. While my personal preference is to use in my python projects, it is nice to know that it can be used in Javascript and PHP based projects. For more details feel free to visit [CCXT GitHub page](https://github.com/ccxt/ccxt).

What is really great about this library is that it provides access to many exchanges which include major exchanges like Coinbase, CoinbasePro, Binance, Bittrex, Huobi, etc. Various exchanges have their own python packages to interact with them. I think it is much better to have one interface that can connect to multiple exchanges, get necessary data, and even automate trading.

Most of the functions are available as public and do not need API access credentials. However, for projects that need access to a trading account, we will need to obtain the API access credentials for specific exchanges that we have accounts at.

This API can be used for simple things like getting data on what is being traded on exchanges, historical cryptocurrency prices. It can also be used for more complex projects like trading bots, web applications, etc.

Getting started with this API is super easy. For python we need to first pip install ccxt. Once that is done we can start using it in our python code.

To demonstrate how work with ccxt, I wanted to see what exchanges have HIVE and HBD listed, what trading pairs are available and the latest prices.

First to see what exchanges are supported we can write the following code:

```
import ccxt

print(ccxt.exchanges)
```
If we already know what exchange we would like to use in that list, we can start connecting to this exchange, and get trading pairs and latest data about this trading pairs as below:

```
import ccxt

binance = ccxt.binance()
print(binance.load_markets())
```

If we need to access our accounts we will need to pass api key and secrets as a dictionary argument like this:

```
import ccxt

binance = ccxt.binance({
    'apiKey': 'YOUR_PUBLIC_API_KEY',
    'secret': 'YOUR_SECRET_PRIVATE_KEY',
})

```

As you can see it is very easy to get started with CCXT. Exploring more available methods and properties we can write much more useful code.

As I mentioned I was curious to see if I could use CCXT to see all the exchanges that have HIVE and HBD listed, what trading pairs they have available, and latest prices. Let's do that now.

```
import ccxt

def create_table(prices):
    table = '&lt;table&gt;&lt;tr&gt;&lt;th&gt;Ticker Symbol&lt;/th&gt;&lt;th&gt;Exchange&lt;/th&gt;&lt;th&gt;Price&lt;/th&gt;&lt;/tr&gt;'
    for price in prices:
        row = f'&lt;tr&gt;&lt;td&gt;{price[0]}&lt;/td&gt;&lt;td&gt;{price[1]}&lt;/td&gt;&lt;td&gt;{str(price[2])+&quot; &quot;+price[3]}&lt;/td&gt;&lt;/tr&gt;'
        table += row
    table += '&lt;/table&gt;'
    return table

prices = []
for exchange_id in ccxt.exchanges:
    if exchange_id == 'cdax':
        continue

    try:
        exchange_class = getattr(ccxt, exchange_id)
        exchange = exchange_class()
        markets = exchange.load_markets()
    except:
        continue

    for market in markets:
        if 'HIVE' in market or 'HBD' in market:
            if 'HBDC' in market:
                continue
            ticker = exchange.fetch_ticker(market)
            if ticker['symbol'].split('/')[1] == 'BTC':
                prices.append((market, exchange_id, format(ticker['close'], '.8f'), ticker['symbol'].split('/')[1]))
            else:
                prices.append((market, exchange_id, ticker['close'], ticker['symbol'].split('/')[1]))

table = create_table(prices)
print(table)
```

What the main part of the code doing is, first we are trying to identify all the exchanges, then we are getting the method by the same name to create the instance of the exchange. Then we are looking what ticker symbols are traded in the exchange. If any of the tickers include Hive or HBD we are storing ticker symbol, exchange name, last close price in prices list. `create_table` is a helper function that puts together the results in a table format, so I can include them in the post. You can scroll down to see the results.

Initially when I was testing I was getting 12 exchanges that have Hive traded on. However, something went wrong when I tried to get the prices of **CDAX** exchange. After looking closely I was convinced Hive or HBD were not actually listed there. So I have do include a line of code to exclude **CDAX**. 

Another interesting thing we can see is from the results is that, for some reason **HBTC** exchange named the ticker symbol as **HIVE1/USDT** instead of just HIVE without 1.

I don't know what exchange **LATOKEN** is, but from the results we can see while HIVE seems to be listed, prices there are all zero.

This is not a full list of exchanges that have Hive or HBD listed. We can see how some exchanges like ionomy, blocktrades, beaxy, mxc, are not there. It is still great to see that all the major exchanges like Binance, Bittrex, Huobi, Upbit are supported in CCXT.

The code above can also be used for any other coins/tokens. If you learn about a new coin/token and would like to see if where it is traded, simply change the comparison logic from HIVE and HBD to that coin/token.

&lt;center&gt;&lt;h1&gt;Hive and HBD Prices&amp;lt;/h2&amp;gt;&amp;lt;/center&amp;gt;

&lt;center&gt;&lt;table&gt;&lt;tr&gt;&lt;th&gt;Ticker Symbol&lt;/th&gt;&lt;th&gt;Exchange&lt;/th&gt;&lt;th&gt;Price&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/BNB&lt;/td&gt;&lt;td&gt;binance&lt;/td&gt;&lt;td&gt;0.00429 BNB&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/BTC&lt;/td&gt;&lt;td&gt;binance&lt;/td&gt;&lt;td&gt;0.00000946 BTC&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/USDT&lt;/td&gt;&lt;td&gt;binance&lt;/td&gt;&lt;td&gt;0.3521 USDT&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/KRW&lt;/td&gt;&lt;td&gt;bithumb&lt;/td&gt;&lt;td&gt;410.3 KRW&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HBD/BTC&lt;/td&gt;&lt;td&gt;bittrex&lt;/td&gt;&lt;td&gt;0.00002654 BTC&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/BTC&lt;/td&gt;&lt;td&gt;bittrex&lt;/td&gt;&lt;td&gt;0.00000950 BTC&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/USD&lt;/td&gt;&lt;td&gt;bittrex&lt;/td&gt;&lt;td&gt;0.35458 USD&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/USDT&lt;/td&gt;&lt;td&gt;bittrex&lt;/td&gt;&lt;td&gt;0.35712 USDT&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/USDT&lt;/td&gt;&lt;td&gt;gateio&lt;/td&gt;&lt;td&gt;0.3524 USDT&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE1/USDT&lt;/td&gt;&lt;td&gt;hbtc&lt;/td&gt;&lt;td&gt;0.358 USDT&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/USDT&lt;/td&gt;&lt;td&gt;huobipro&lt;/td&gt;&lt;td&gt;0.3525 USDT&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/HT&lt;/td&gt;&lt;td&gt;huobipro&lt;/td&gt;&lt;td&gt;0.025623 HT&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/BTC&lt;/td&gt;&lt;td&gt;huobipro&lt;/td&gt;&lt;td&gt;0.00000947 BTC&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/IDR&lt;/td&gt;&lt;td&gt;indodax&lt;/td&gt;&lt;td&gt;5063.0 IDR&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/USDT&lt;/td&gt;&lt;td&gt;latoken&lt;/td&gt;&lt;td&gt;0.0 USDT&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/BTC&lt;/td&gt;&lt;td&gt;latoken&lt;/td&gt;&lt;td&gt;0.00000000 BTC&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/ETH&lt;/td&gt;&lt;td&gt;latoken&lt;/td&gt;&lt;td&gt;0.0 ETH&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/KRW&lt;/td&gt;&lt;td&gt;probit&lt;/td&gt;&lt;td&gt;410.9 KRW&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/USDT&lt;/td&gt;&lt;td&gt;probit&lt;/td&gt;&lt;td&gt;0.3526 USDT&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/BTC&lt;/td&gt;&lt;td&gt;probit&lt;/td&gt;&lt;td&gt;0.00000948 BTC&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/BTC&lt;/td&gt;&lt;td&gt;stex&lt;/td&gt;&lt;td&gt;0.00000107 BTC&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/BTC&lt;/td&gt;&lt;td&gt;upbit&lt;/td&gt;&lt;td&gt;0.00000955 BTC&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HBD/BTC&lt;/td&gt;&lt;td&gt;upbit&lt;/td&gt;&lt;td&gt;0.00002515 BTC&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;HIVE/KRW&lt;/td&gt;&lt;td&gt;upbit&lt;/td&gt;&lt;td&gt;413.0 KRW&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/center&gt;

Posted Using [LeoFinance &lt;sup&gt;Beta&lt;/sup&gt;](https://leofinance.io/@geekgirl/cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices)&amp;lt;/div&amp;gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;
&lt;!-- &lt;script src=&quot;https://cdn.jsdelivr.net/npm/hive-content-renderer/dist/hive-content-renderer.min.js&quot;&gt;&lt;/script&gt; --&gt;
&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
      // const renderer = new HiveContentRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@geekgirl&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-geekgirl-cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices').html();
      const outputElem = $('#content-geekgirl-cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;
&lt;style&gt;
  #content-geekgirl-cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-geekgirl-cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices code {
    background: white;
  }
  #content-geekgirl-cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-geekgirl-cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices a:hover {
    border-bottom: 0;
  }
  #content-geekgirl-cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices h1 {
    font-size: 2.2em;
  }
  #content-geekgirl-cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-geekgirl-cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices header small {
    color: #999;
    font-size: 50%;
  }
  #content-geekgirl-cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;
&lt;p&gt;
  See: &lt;a href=&quot;https://leofinance.io/@geekgirl/cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices&quot;&gt;CryptoCurrency eXchange Trading Library | Hive &amp;amp; HBD Prices&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@geekgirl&quot;&gt;@geekgirl&lt;/a&gt;
&lt;/p&gt;

&lt;/h1&gt;&lt;/center&gt;&lt;/div&gt;</content><author><name>geekgirl</name></author><category term="howto" /><category term="nodejs" /><category term="exchange" /><summary type="html">![ccxt.png](https://images.hive.blog/DQmP7AXNQQHk7FXFZruTqK3nagHuWBefrNA489MHsxVbH5a/ccxt.png) CCXT is a cryptocurrency exchange trading library for Javascript, Python, and PHP. It is a trading API that supports more than 120 crypto exchanges and continues to add more. While my personal preference is to use in my python projects, it is nice to know that it can be used in Javascript and PHP based projects. For more details feel free to visit [CCXT GitHub page](https://github.com/ccxt/ccxt). What is really great about this library is that it provides access to many exchanges which include major exchanges like Coinbase, CoinbasePro, Binance, Bittrex, Huobi, etc. Various exchanges have their own python packages to interact with them. I think it is much better to have one interface that can connect to multiple exchanges, get necessary data, and even automate trading. Most of the functions are available as public and do not need API access credentials. However, for projects that need access to a trading account, we will need to obtain the API access credentials for specific exchanges that we have accounts at. This API can be used for simple things like getting data on what is being traded on exchanges, historical cryptocurrency prices. It can also be used for more complex projects like trading bots, web applications, etc. Getting started with this API is super easy. For python we need to first pip install ccxt. Once that is done we can start using it in our python code. To demonstrate how work with ccxt, I wanted to see what exchanges have HIVE and HBD listed, what trading pairs are available and the latest prices. First to see what exchanges are supported we can write the following code: ``` import ccxt print(ccxt.exchanges) ``` If we already know what exchange we would like to use in that list, we can start connecting to this exchange, and get trading pairs and latest data about this trading pairs as below: ``` import ccxt binance = ccxt.binance() print(binance.load_markets()) ``` If we need to access our accounts we will need to pass api key and secrets as a dictionary argument like this: ``` import ccxt binance = ccxt.binance({ 'apiKey': 'YOUR_PUBLIC_API_KEY', 'secret': 'YOUR_SECRET_PRIVATE_KEY', }) ``` As you can see it is very easy to get started with CCXT. Exploring more available methods and properties we can write much more useful code. As I mentioned I was curious to see if I could use CCXT to see all the exchanges that have HIVE and HBD listed, what trading pairs they have available, and latest prices. Let's do that now. ``` import ccxt def create_table(prices): table = 'Ticker SymbolExchangePrice' for price in prices: row = f'{price[0]}{price[1]}{str(price[2])+&quot; &quot;+price[3]}' table += row table += '' return table prices = [] for exchange_id in ccxt.exchanges: if exchange_id == 'cdax': continue try: exchange_class = getattr(ccxt, exchange_id) exchange = exchange_class() markets = exchange.load_markets() except: continue for market in markets: if 'HIVE' in market or 'HBD' in market: if 'HBDC' in market: continue ticker = exchange.fetch_ticker(market) if ticker['symbol'].split('/')[1] == 'BTC': prices.append((market, exchange_id, format(ticker['close'], '.8f'), ticker['symbol'].split('/')[1])) else: prices.append((market, exchange_id, ticker['close'], ticker['symbol'].split('/')[1])) table = create_table(prices) print(table) ``` What the main part of the code doing is, first we are trying to identify all the exchanges, then we are getting the method by the same name to create the instance of the exchange. Then we are looking what ticker symbols are traded in the exchange. If any of the tickers include Hive or HBD we are storing ticker symbol, exchange name, last close price in prices list. `create_table` is a helper function that puts together the results in a table format, so I can include them in the post. You can scroll down to see the results. Initially when I was testing I was getting 12 exchanges that have Hive traded on. However, something went wrong when I tried to get the prices of **CDAX** exchange. After looking closely I was convinced Hive or HBD were not actually listed there. So I have do include a line of code to exclude **CDAX**. Another interesting thing we can see is from the results is that, for some reason **HBTC** exchange named the ticker symbol as **HIVE1/USDT** instead of just HIVE without 1. I don't know what exchange **LATOKEN** is, but from the results we can see while HIVE seems to be listed, prices there are all zero. This is not a full list of exchanges that have Hive or HBD listed. We can see how some exchanges like ionomy, blocktrades, beaxy, mxc, are not there. It is still great to see that all the major exchanges like Binance, Bittrex, Huobi, Upbit are supported in CCXT. The code above can also be used for any other coins/tokens. If you learn about a new coin/token and would like to see if where it is traded, simply change the comparison logic from HIVE and HBD to that coin/token. Hive and HBD Prices&amp;lt;/h2&amp;gt;&amp;lt;/center&amp;gt; Ticker SymbolExchangePriceHIVE/BNBbinance0.00429 BNBHIVE/BTCbinance0.00000946 BTCHIVE/USDTbinance0.3521 USDTHIVE/KRWbithumb410.3 KRWHBD/BTCbittrex0.00002654 BTCHIVE/BTCbittrex0.00000950 BTCHIVE/USDbittrex0.35458 USDHIVE/USDTbittrex0.35712 USDTHIVE/USDTgateio0.3524 USDTHIVE1/USDThbtc0.358 USDTHIVE/USDThuobipro0.3525 USDTHIVE/HThuobipro0.025623 HTHIVE/BTChuobipro0.00000947 BTCHIVE/IDRindodax5063.0 IDRHIVE/USDTlatoken0.0 USDTHIVE/BTClatoken0.00000000 BTCHIVE/ETHlatoken0.0 ETHHIVE/KRWprobit410.9 KRWHIVE/USDTprobit0.3526 USDTHIVE/BTCprobit0.00000948 BTCHIVE/BTCstex0.00000107 BTCHIVE/BTCupbit0.00000955 BTCHBD/BTCupbit0.00002515 BTCHIVE/KRWupbit413.0 KRW Posted Using [LeoFinance Beta](https://leofinance.io/@geekgirl/cryptocurrency-exchange-trading-library-or-hive-and-hbd-prices)&amp;lt;/div&amp;gt; See: CryptoCurrency eXchange Trading Library | Hive &amp;amp; HBD Prices by @geekgirl</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://images.hive.blog/DQmP7AXNQQHk7FXFZruTqK3nagHuWBefrNA489MHsxVbH5a/ccxt.png" /><media:content medium="image" url="https://images.hive.blog/DQmP7AXNQQHk7FXFZruTqK3nagHuWBefrNA489MHsxVbH5a/ccxt.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">15th update of 2021 on BlockTrades work on Hive software</title><link href="https://hivedocs.info/news/core/development/2021/06/10/15th-update-of-2021-on-blocktrades-work-on-hive-software.html" rel="alternate" type="text/html" title="15th update of 2021 on BlockTrades work on Hive software" /><published>2021-06-10T16:21:27-07:00</published><updated>2021-06-10T16:21:27-07:00</updated><id>https://hivedocs.info/news/core/development/2021/06/10/15th-update-of-2021-on-blocktrades-work-on-hive-software</id><content type="html" xml:base="https://hivedocs.info/news/core/development/2021/06/10/15th-update-of-2021-on-blocktrades-work-on-hive-software.html">&lt;div id=&quot;content-blocktrades-15th-update-of-2021-on-blocktrades-work-on-hive-software&quot;&gt;![blocktrades update.png](https://images.hive.blog/DQmSihw8Kz4U7TuCQa98DDdCzqbqPFRumuVWAbareiYZW1Z/blocktrades%20update.png)

Work by the BlockTrades team slowed a little in the last period, as much of our staff was off for Corpus Christi holiday, and in the past two days there was a company-sponsored recreational trip to the mountains (and today many people are probably recovering from that). Still we made progress on several fronts:

# Hived work (blockchain node software)

We expect to tag release candidate 4 tomorrow (this version has been running on the testnet for over a week now but hasn’t yet been officially tagged because of some false-positive test fails that need to be eliminated). 

Assuming no problems are reported for this release candidate by Monday (hopefully the testnet will get a lot of testing this weekend), we’ll merge the code to the master branch and tag an official release of hived (aka v1.25.0). 

We’ll also be doing a final review of the build and installation docs and next we’ll contact exchanges and notify them of the **expected hardfork on June 30th** so that they can update their wallets ahead of time.


# Hivemind (2nd layer applications + social media middleware)

We found a bug with the latest release of hivemind and we’re working on a fix for  it now. This problem manifested most visibly as a reputation calculation error for two Hive accounts, although we believe it could possibly result in other errors. 

The root cause of the problem is where we did some code refactoring to share some of the code used during massive sync to process blocks during live sync. This version of the code processed blocks in three separate transactions, and if one of these transactions failed, the work done by the other two transactions persisted, which could lead to inconsistencies in the data on the failing node.

The likely fix will be to revert to using a single transaction for block processing during live sync, and we'll probably be able to deploy the fix late next week.

## Fix for hivemind sync time regression

We also tested/fixed a regression in hivemind sync time where the `update_posts_rshares` query was sometimes inappropriately including a sequential scan in its query planning, which resulted in about 12 hours being added to initial sync time for a database with 53M blocks. 

Our initial test of the fix shows a dramatic improvement (only takes 15 minutes now), but we need to test some more to ensure that the improvement persists under all conditions. The initial performance test for the fix was performed by starting from a database dump file, whereas the 12hr measurement was made on a database constructed from a full sync, so we still need to test performance under a full hivemind sync (which takes several days) to do a strictly accurate comparison.

I consider the current fix a bit of a workaround, because we’re essentially overriding the query planner’s plan based on its internal estimates and forcing it to avoid using a sequential scan. Later we will try to get the planner to estimate better by improving its collection of statistics and weighting of costs, because we know similar bad estimates were causing postgres 13 to apply inappropriate “just-in-time” optimizations to this same query. So it is conceivable that if we are able to correct the planner’s estimation process, we’ll get more optimal performance as the data’s statistical “shape” changes over time.

# Hive Application Framework (HAF is new &quot;official&quot; name for modular hivemind)

Unless there’s a popular uprising, I think I’ve settled on an official name for the project that we’ve been developing under the “codename” of modular hivemind: Hive Application Framework aka HAF.

I think Hive Application Framework is much more descriptive of the actual functionality and it is more clearly distinguishable from the hivemind social media application. Plus it lends itself better to promotional taglines like: “HAF your blockchain app is already done!&quot;

## Initial release of HAF expected sometime in July

For the past week, we’ve been reviewing and improving the code and documentation for HAF, in particular the code that provides automated fork handling. We had a teleconference on Monday to discuss the state of the work and discuss further enhancements, and based on my positive feelings from that meeting, I estimate we will be able to do an official release of HAF sometime in July.

## Ongoing work on HAF

The most recent change being made is to simplify swapping back and forth between a Hive application that only relies on irreversible blocks versus one that also processes reversible blocks.

On a related note, we’re also going to try to automate the optimization of block processing when a process that works on reversible blocks is currently processing irreversible blocks (originally the plan was to require the app to signal when it planned to work in an optimized fashion on irreversible blocks).

We’ll also be creating a skeleton code template to illustrate how a typical Hive app would use the HAF framework, and later, an full-blown example application.

## Updates to sql_serializer plug for changes to hive_fork_plugin

Before we can do a full test of the framework, we also need to make some needed improvements to the sql_serializer plugin for hived that writes data to the postgres database. In particular, this code needs to be updated to support API changes that have been made to the Hive fork manager extension (this is the SQL code that manages tracking reversible blocks and reverting an application’s table changes when a fork occurs). 

The above work will begin tomorrow and I hope we will be able to execute a full test of hived + hivemind sync by late next week.

## Call for apps reviewers for HAF

At this point, while it still suffers from some typos which I’ll correct shortly, I think the architectural documentation for HAF is good enough that I want feedback from all app developers with an existing or planned app, especially any applications that require their own database and custom API. 

**Please review the architectural doc and help us create the best possible starting point for Hive apps. Here’s a link to the most recent version of that document: https://gitlab.syncad.com/hive/psql_tools/-/blob/mi_hive_fork_plugin2/src/hive_fork/Readme.md**&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;!-- &lt;script src=&quot;https://cdn.jsdelivr.net/npm/hive-content-renderer/dist/hive-content-renderer.min.js&quot;&gt;&lt;/script&gt; --&gt;
&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
      // const renderer = new HiveContentRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@blocktrades&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/15th-update-of-2021-on-blocktrades-work-on-hive-software&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-blocktrades-15th-update-of-2021-on-blocktrades-work-on-hive-software').html();
      const outputElem = $('#content-blocktrades-15th-update-of-2021-on-blocktrades-work-on-hive-software');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-blocktrades-15th-update-of-2021-on-blocktrades-work-on-hive-software {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-blocktrades-15th-update-of-2021-on-blocktrades-work-on-hive-software code {
    background: white;
  }
  #content-blocktrades-15th-update-of-2021-on-blocktrades-work-on-hive-software a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-blocktrades-15th-update-of-2021-on-blocktrades-work-on-hive-software a:hover {
    border-bottom: 0;
  }
  #content-blocktrades-15th-update-of-2021-on-blocktrades-work-on-hive-software h1 {
    font-size: 2.2em;
  }
  #content-blocktrades-15th-update-of-2021-on-blocktrades-work-on-hive-software h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-blocktrades-15th-update-of-2021-on-blocktrades-work-on-hive-software header small {
    color: #999;
    font-size: 50%;
  }
  #content-blocktrades-15th-update-of-2021-on-blocktrades-work-on-hive-software img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://hive.blog/hive-139531/@blocktrades/15th-update-of-2021-on-blocktrades-work-on-hive-software&quot;&gt;15th update of 2021 on BlockTrades work on Hive software&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@blocktrades&quot;&gt;@blocktrades&lt;/a&gt;
&lt;/p&gt;</content><author><name>blocktrades</name></author><category term="news" /><category term="core" /><category term="development" /><summary type="html">![blocktrades update.png](https://images.hive.blog/DQmSihw8Kz4U7TuCQa98DDdCzqbqPFRumuVWAbareiYZW1Z/blocktrades%20update.png) Work by the BlockTrades team slowed a little in the last period, as much of our staff was off for Corpus Christi holiday, and in the past two days there was a company-sponsored recreational trip to the mountains (and today many people are probably recovering from that). Still we made progress on several fronts: # Hived work (blockchain node software) We expect to tag release candidate 4 tomorrow (this version has been running on the testnet for over a week now but hasn’t yet been officially tagged because of some false-positive test fails that need to be eliminated). Assuming no problems are reported for this release candidate by Monday (hopefully the testnet will get a lot of testing this weekend), we’ll merge the code to the master branch and tag an official release of hived (aka v1.25.0). We’ll also be doing a final review of the build and installation docs and next we’ll contact exchanges and notify them of the **expected hardfork on June 30th** so that they can update their wallets ahead of time. # Hivemind (2nd layer applications + social media middleware) We found a bug with the latest release of hivemind and we’re working on a fix for it now. This problem manifested most visibly as a reputation calculation error for two Hive accounts, although we believe it could possibly result in other errors. The root cause of the problem is where we did some code refactoring to share some of the code used during massive sync to process blocks during live sync. This version of the code processed blocks in three separate transactions, and if one of these transactions failed, the work done by the other two transactions persisted, which could lead to inconsistencies in the data on the failing node. The likely fix will be to revert to using a single transaction for block processing during live sync, and we'll probably be able to deploy the fix late next week. ## Fix for hivemind sync time regression We also tested/fixed a regression in hivemind sync time where the `update_posts_rshares` query was sometimes inappropriately including a sequential scan in its query planning, which resulted in about 12 hours being added to initial sync time for a database with 53M blocks. Our initial test of the fix shows a dramatic improvement (only takes 15 minutes now), but we need to test some more to ensure that the improvement persists under all conditions. The initial performance test for the fix was performed by starting from a database dump file, whereas the 12hr measurement was made on a database constructed from a full sync, so we still need to test performance under a full hivemind sync (which takes several days) to do a strictly accurate comparison. I consider the current fix a bit of a workaround, because we’re essentially overriding the query planner’s plan based on its internal estimates and forcing it to avoid using a sequential scan. Later we will try to get the planner to estimate better by improving its collection of statistics and weighting of costs, because we know similar bad estimates were causing postgres 13 to apply inappropriate “just-in-time” optimizations to this same query. So it is conceivable that if we are able to correct the planner’s estimation process, we’ll get more optimal performance as the data’s statistical “shape” changes over time. # Hive Application Framework (HAF is new &quot;official&quot; name for modular hivemind) Unless there’s a popular uprising, I think I’ve settled on an official name for the project that we’ve been developing under the “codename” of modular hivemind: Hive Application Framework aka HAF. I think Hive Application Framework is much more descriptive of the actual functionality and it is more clearly distinguishable from the hivemind social media application. Plus it lends itself better to promotional taglines like: “HAF your blockchain app is already done!&quot; ## Initial release of HAF expected sometime in July For the past week, we’ve been reviewing and improving the code and documentation for HAF, in particular the code that provides automated fork handling. We had a teleconference on Monday to discuss the state of the work and discuss further enhancements, and based on my positive feelings from that meeting, I estimate we will be able to do an official release of HAF sometime in July. ## Ongoing work on HAF The most recent change being made is to simplify swapping back and forth between a Hive application that only relies on irreversible blocks versus one that also processes reversible blocks. On a related note, we’re also going to try to automate the optimization of block processing when a process that works on reversible blocks is currently processing irreversible blocks (originally the plan was to require the app to signal when it planned to work in an optimized fashion on irreversible blocks). We’ll also be creating a skeleton code template to illustrate how a typical Hive app would use the HAF framework, and later, an full-blown example application. ## Updates to sql_serializer plug for changes to hive_fork_plugin Before we can do a full test of the framework, we also need to make some needed improvements to the sql_serializer plugin for hived that writes data to the postgres database. In particular, this code needs to be updated to support API changes that have been made to the Hive fork manager extension (this is the SQL code that manages tracking reversible blocks and reverting an application’s table changes when a fork occurs). The above work will begin tomorrow and I hope we will be able to execute a full test of hived + hivemind sync by late next week. ## Call for apps reviewers for HAF At this point, while it still suffers from some typos which I’ll correct shortly, I think the architectural documentation for HAF is good enough that I want feedback from all app developers with an existing or planned app, especially any applications that require their own database and custom API. **Please review the architectural doc and help us create the best possible starting point for Hive apps. Here’s a link to the most recent version of that document: https://gitlab.syncad.com/hive/psql_tools/-/blob/mi_hive_fork_plugin2/src/hive_fork/Readme.md** See: 15th update of 2021 on BlockTrades work on Hive software by @blocktrades</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://images.hive.blog/DQmSihw8Kz4U7TuCQa98DDdCzqbqPFRumuVWAbareiYZW1Z/blocktrades%20update.png" /><media:content medium="image" url="https://images.hive.blog/DQmSihw8Kz4U7TuCQa98DDdCzqbqPFRumuVWAbareiYZW1Z/blocktrades%20update.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">All new Hivesigner</title><link href="https://hivedocs.info/news/hivesigner/2021/06/10/all-new-hivesigner.html" rel="alternate" type="text/html" title="All new Hivesigner" /><published>2021-06-10T00:28:27-07:00</published><updated>2021-06-10T00:28:27-07:00</updated><id>https://hivedocs.info/news/hivesigner/2021/06/10/all-new-hivesigner</id><content type="html" xml:base="https://hivedocs.info/news/hivesigner/2021/06/10/all-new-hivesigner.html">&lt;div id=&quot;content-good-karma-all-new-hivesigner&quot;&gt;New Hivesigner Interface is getting ready for the release. Excited to share details of what we have been working on.

We have rewritten and redesigned Hivesigner UI component in Vue + Typescript. Improved user flow, added new pages, combined documentation into single place, added multi language support, optimized for mobile browsing, bugs fixed and much more. Read on to learn more about changes.

![new-hivesigner-interface](https://images.ecency.com/DQmbDKeLquHCg4PrKvVk8eVXhgQJD8dj784rRpmLtBNUd5j/image.png)

# What's new

- New codebase
- New design
- Better, simplified user flow
- Documentation unified
- Signer page, you can search common operations and sign quickly
- Accounts page improved, view and copy private keys
- Dockerized [instances/images](https://hub.docker.com/orgs/ecency/repositories)
- Testnet/Mainnet setup for both API and UI components 

## Some screenshots

![hivesigner-accounts-import](https://images.ecency.com/DQmcm754ewzxPTiBDitVhnL3EYBYpiXMDuAPbaJ4F6irDcH/image.png)

![hivesigner-account-switch](https://images.ecency.com/DQmcmBURuKqW9bWVyj3kvMfHc2hnrFGx2puuyambb9hYyk3/image.png)

![hivesigner-accounts-page](https://images.ecency.com/DQmeowJgGY4ibgbHG697AM8UTv6tWGC1gcKJ3tKzzgEwpMK/image.png)

![hivesigner-account-details](https://images.ecency.com/DQmRrYKLiQvqGrRSt6tNp7ZtNpXxdadxmq5ruY3N568mTx2/image.png)

![hivesigner-authorities](https://images.ecency.com/DQmbMZWuAS9Rnw4oifByvhANws83CvEg3b7Mkp5McxT1amn/image.png)

![hivesigner-documentation-hive](https://images.ecency.com/DQmVeEpTWo1sjv59dJBcCTWNnzu3GGLDQzKYUPnGBzpNxXP/image.png)

![hivesigner-hive-apps](https://images.ecency.com/DQmawEsj6x3W3AHk6GUqNwewv7mr2fK4hSmAZMfoUksciei/image.png)

![hive-signer](https://images.ecency.com/DQmRvgepZ9WQ83TwSE9BL6q89YZ7GDGzbV7DdEPpuVwHrK5/image.png)

![hivesigner-secure-signing](https://images.ecency.com/DQmV1EoPAKjWdztbZQUgjkyyzGaWWBCbLBP7Ci8kRy1yVSB/image.png)


# Try it out

We plan to release new UI into production (https://hivesigner.com) during Hive Hardfork 25 which is scheduled around end of this month. As we continue to add missing elements, any feedback, bug reports are greatly appreciated from you as well as from app developers until release. Help us test it! 🙇

**Staging instances**
 
Mainnet: https://staging.hivesigner.com
Testnet: https://testnet.hivesigner.com

**New source**
Code: https://github.com/ecency/hivesigner-ui

[Read details of Hivesigner proposal](https://ecency.com/hive/@good-karma/hivesigner-ongoing-development-and-improvement)  
 
### Support proposals  
 
[`Ecency`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B141%5D&amp;amp;approve=true) | [`Hivesearcher`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B146%5D&amp;amp;approve=true) | [`Hivesigner`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B88%5D&amp;amp;approve=true)&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;!-- &lt;script src=&quot;https://cdn.jsdelivr.net/npm/hive-content-renderer/dist/hive-content-renderer.min.js&quot;&gt;&lt;/script&gt; --&gt;
&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
      // const renderer = new HiveContentRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@good-karma&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/all-new-hivesigner&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-good-karma-all-new-hivesigner').html();
      const outputElem = $('#content-good-karma-all-new-hivesigner');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-good-karma-all-new-hivesigner {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-good-karma-all-new-hivesigner code {
    background: white;
  }
  #content-good-karma-all-new-hivesigner a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-good-karma-all-new-hivesigner a:hover {
    border-bottom: 0;
  }
  #content-good-karma-all-new-hivesigner h1 {
    font-size: 2.2em;
  }
  #content-good-karma-all-new-hivesigner h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-good-karma-all-new-hivesigner header small {
    color: #999;
    font-size: 50%;
  }
  #content-good-karma-all-new-hivesigner img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://ecency.com/hive-139531/@good-karma/all-new-hivesigner&quot;&gt;All new Hivesigner&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@good-karma&quot;&gt;@good-karma&lt;/a&gt;
&lt;/p&gt;</content><author><name>good-karma</name></author><category term="news" /><category term="hivesigner" /><summary type="html">New Hivesigner Interface is getting ready for the release. Excited to share details of what we have been working on. We have rewritten and redesigned Hivesigner UI component in Vue + Typescript. Improved user flow, added new pages, combined documentation into single place, added multi language support, optimized for mobile browsing, bugs fixed and much more. Read on to learn more about changes. ![new-hivesigner-interface](https://images.ecency.com/DQmbDKeLquHCg4PrKvVk8eVXhgQJD8dj784rRpmLtBNUd5j/image.png) # What's new - New codebase - New design - Better, simplified user flow - Documentation unified - Signer page, you can search common operations and sign quickly - Accounts page improved, view and copy private keys - Dockerized [instances/images](https://hub.docker.com/orgs/ecency/repositories) - Testnet/Mainnet setup for both API and UI components ## Some screenshots ![hivesigner-accounts-import](https://images.ecency.com/DQmcm754ewzxPTiBDitVhnL3EYBYpiXMDuAPbaJ4F6irDcH/image.png) ![hivesigner-account-switch](https://images.ecency.com/DQmcmBURuKqW9bWVyj3kvMfHc2hnrFGx2puuyambb9hYyk3/image.png) ![hivesigner-accounts-page](https://images.ecency.com/DQmeowJgGY4ibgbHG697AM8UTv6tWGC1gcKJ3tKzzgEwpMK/image.png) ![hivesigner-account-details](https://images.ecency.com/DQmRrYKLiQvqGrRSt6tNp7ZtNpXxdadxmq5ruY3N568mTx2/image.png) ![hivesigner-authorities](https://images.ecency.com/DQmbMZWuAS9Rnw4oifByvhANws83CvEg3b7Mkp5McxT1amn/image.png) ![hivesigner-documentation-hive](https://images.ecency.com/DQmVeEpTWo1sjv59dJBcCTWNnzu3GGLDQzKYUPnGBzpNxXP/image.png) ![hivesigner-hive-apps](https://images.ecency.com/DQmawEsj6x3W3AHk6GUqNwewv7mr2fK4hSmAZMfoUksciei/image.png) ![hive-signer](https://images.ecency.com/DQmRvgepZ9WQ83TwSE9BL6q89YZ7GDGzbV7DdEPpuVwHrK5/image.png) ![hivesigner-secure-signing](https://images.ecency.com/DQmV1EoPAKjWdztbZQUgjkyyzGaWWBCbLBP7Ci8kRy1yVSB/image.png) # Try it out We plan to release new UI into production (https://hivesigner.com) during Hive Hardfork 25 which is scheduled around end of this month. As we continue to add missing elements, any feedback, bug reports are greatly appreciated from you as well as from app developers until release. Help us test it! 🙇 **Staging instances** Mainnet: https://staging.hivesigner.com Testnet: https://testnet.hivesigner.com **New source** Code: https://github.com/ecency/hivesigner-ui [Read details of Hivesigner proposal](https://ecency.com/hive/@good-karma/hivesigner-ongoing-development-and-improvement) ### Support proposals [`Ecency`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B141%5D&amp;amp;approve=true) | [`Hivesearcher`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B146%5D&amp;amp;approve=true) | [`Hivesigner`](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=%5B88%5D&amp;amp;approve=true) See: All new Hivesigner by @good-karma</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://images.ecency.com/DQmbDKeLquHCg4PrKvVk8eVXhgQJD8dj784rRpmLtBNUd5j/image.png" /><media:content medium="image" url="https://images.ecency.com/DQmbDKeLquHCg4PrKvVk8eVXhgQJD8dj784rRpmLtBNUd5j/image.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Daily Hive Engine Snapshots</title><link href="https://hivedocs.info/howto/devops/hiveengine/2021/06/09/daily-hive-engine-snapshots.html" rel="alternate" type="text/html" title="Daily Hive Engine Snapshots" /><published>2021-06-09T07:36:06-07:00</published><updated>2021-06-09T07:36:06-07:00</updated><id>https://hivedocs.info/howto/devops/hiveengine/2021/06/09/daily-hive-engine-snapshots</id><content type="html" xml:base="https://hivedocs.info/howto/devops/hiveengine/2021/06/09/daily-hive-engine-snapshots.html">&lt;div id=&quot;content-primersion-daily-hive-engine-snapshots&quot;&gt;![wallp12.png](https://images.ecency.com/DQmRT6nLW4pqLqeR1NhGVy68HUhRMDEYCNUhFQ6R1SLT7sm/wallp12.png)

## The Why

Hive engine nodes read all transactions from the HIVE blockchain and when they discover a custom json operation with a special id (ssc-mainnet-hive), they process the transaction and add it to the hive engine sidechain. The hive engine sidechain itself is basically a big database storing all transactions and processed information, such as token balances and nft instances, inside a mongodb.
To create the hive engine sidechain completely from scratch we would have to start from the genesis block and process all transactions after that. This is a very lengthy process, because it includes millions of transactions.

That's where snapshots come into play. You simply create a snapshot of the database after block X was processed and the next time you only have to replay transactions starting from block X. The same principle applies to the HIVE blockchain itself.

So whenever something goes wrong or you want to setup a fresh node you can use the snapshot to set up your node faster.

## The What

I am running a hive engine witness node myself, which is why I need to recreate my node regularly. A few other witnesses are already providing snapshots of the hive engine sidechain regularly. I think more is better, so I decided to set up my own daily hive engine snapshots. I have integrated the snapshots into my HIVE monitor tool over here: https://primersion.com/he-snapshots

Every day at 11pm UTC a snapshot is created automatically, uploaded to https://transfer.sh and provided through my page afterwards:

![image.png](https://images.ecency.com/DQmbdCZh87hkktsYM1Sot7qBg8rDXqoWG4Do8HqDBLPxm3J/image.png)

You will find snapshots of the last 7 days (in a few days, because I only started 2 days ago) and you can download them directly by clicking on the link. After downloading the snapshot you can use it to restore the database of your hive engine node using `mongorestore --gzip --archive=&lt;path to=&quot;&quot; archive=&quot;&quot;&gt;`. Additionally you will find a checksum below the link, which you can compare with the checksum created when running `md5sum &lt;path to=&quot;&quot; archive=&quot;&quot;&gt;` on the downloaded file.

## The How

I have written a small script, which does all the work for me. All I need for it to function is a running and synced hive engine node. First I am stopping my node using `pm2 stop all`.
In a next step I am dumping the mongodb to a file including the current date and the last processed block:
```
now=`date +&quot;%m-%d-%Y&quot;`
block=`cat config.json | grep startHiveBlock | grep -Eo '[0-9]*'`
mongodump --db hsc --gzip --archive=&quot;hsc_${now}_b${block}.archive&quot;
```
When the dump is finished I start the node back up using `pm2 start app.js --no-treekill --kill-timeout 10000 --no-autorestart`.
And transfer the dump to https://transfer.sh using `curl --upload-file &quot;hsc_${now}_b${block}.archive&quot; &quot;https://transfer.sh/hsc_${now}_b${block}.archive&quot;`.

I am running the script daily at 11pm UTC using a cronjob.

That's all the magic.

---

Please support me by voting for my HIVE / Hive-Engine witness:

[HIVE](https://vote.hive.uno/?witness=primersion) (using Hivesigner)
[Hive-Engine](https://votify.now.sh/primersion) (using Votify)&amp;lt;/div&amp;gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;
&lt;!-- &lt;script src=&quot;https://cdn.jsdelivr.net/npm/hive-content-renderer/dist/hive-content-renderer.min.js&quot;&gt;&lt;/script&gt; --&gt;
&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
      // const renderer = new HiveContentRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@primersion&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/daily-hive-engine-snapshots&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-primersion-daily-hive-engine-snapshots').html();
      const outputElem = $('#content-primersion-daily-hive-engine-snapshots');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;
&lt;style&gt;
  #content-primersion-daily-hive-engine-snapshots {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-primersion-daily-hive-engine-snapshots code {
    background: white;
  }
  #content-primersion-daily-hive-engine-snapshots a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-primersion-daily-hive-engine-snapshots a:hover {
    border-bottom: 0;
  }
  #content-primersion-daily-hive-engine-snapshots h1 {
    font-size: 2.2em;
  }
  #content-primersion-daily-hive-engine-snapshots h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-primersion-daily-hive-engine-snapshots header small {
    color: #999;
    font-size: 50%;
  }
  #content-primersion-daily-hive-engine-snapshots img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;
&lt;p&gt;
  See: &lt;a href=&quot;https://ecency.com/hive-169321/@primersion/daily-hive-engine-snapshots&quot;&gt;Daily Hive Engine Snapshots&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@primersion&quot;&gt;@primersion&lt;/a&gt;
&lt;/p&gt;

&lt;/path&gt;&lt;/path&gt;&lt;/div&gt;</content><author><name>primersion</name></author><category term="howto" /><category term="devops" /><category term="hiveengine" /><summary type="html">![wallp12.png](https://images.ecency.com/DQmRT6nLW4pqLqeR1NhGVy68HUhRMDEYCNUhFQ6R1SLT7sm/wallp12.png) ## The Why Hive engine nodes read all transactions from the HIVE blockchain and when they discover a custom json operation with a special id (ssc-mainnet-hive), they process the transaction and add it to the hive engine sidechain. The hive engine sidechain itself is basically a big database storing all transactions and processed information, such as token balances and nft instances, inside a mongodb. To create the hive engine sidechain completely from scratch we would have to start from the genesis block and process all transactions after that. This is a very lengthy process, because it includes millions of transactions. That's where snapshots come into play. You simply create a snapshot of the database after block X was processed and the next time you only have to replay transactions starting from block X. The same principle applies to the HIVE blockchain itself. So whenever something goes wrong or you want to setup a fresh node you can use the snapshot to set up your node faster. ## The What I am running a hive engine witness node myself, which is why I need to recreate my node regularly. A few other witnesses are already providing snapshots of the hive engine sidechain regularly. I think more is better, so I decided to set up my own daily hive engine snapshots. I have integrated the snapshots into my HIVE monitor tool over here: https://primersion.com/he-snapshots Every day at 11pm UTC a snapshot is created automatically, uploaded to https://transfer.sh and provided through my page afterwards: ![image.png](https://images.ecency.com/DQmbdCZh87hkktsYM1Sot7qBg8rDXqoWG4Do8HqDBLPxm3J/image.png) You will find snapshots of the last 7 days (in a few days, because I only started 2 days ago) and you can download them directly by clicking on the link. After downloading the snapshot you can use it to restore the database of your hive engine node using `mongorestore --gzip --archive=`. Additionally you will find a checksum below the link, which you can compare with the checksum created when running `md5sum ` on the downloaded file. ## The How I have written a small script, which does all the work for me. All I need for it to function is a running and synced hive engine node. First I am stopping my node using `pm2 stop all`. In a next step I am dumping the mongodb to a file including the current date and the last processed block: ``` now=`date +&quot;%m-%d-%Y&quot;` block=`cat config.json | grep startHiveBlock | grep -Eo '[0-9]*'` mongodump --db hsc --gzip --archive=&quot;hsc_${now}_b${block}.archive&quot; ``` When the dump is finished I start the node back up using `pm2 start app.js --no-treekill --kill-timeout 10000 --no-autorestart`. And transfer the dump to https://transfer.sh using `curl --upload-file &quot;hsc_${now}_b${block}.archive&quot; &quot;https://transfer.sh/hsc_${now}_b${block}.archive&quot;`. I am running the script daily at 11pm UTC using a cronjob. That's all the magic. --- Please support me by voting for my HIVE / Hive-Engine witness: [HIVE](https://vote.hive.uno/?witness=primersion) (using Hivesigner) [Hive-Engine](https://votify.now.sh/primersion) (using Votify)&amp;lt;/div&amp;gt; See: Daily Hive Engine Snapshots by @primersion</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://images.ecency.com/DQmRT6nLW4pqLqeR1NhGVy68HUhRMDEYCNUhFQ6R1SLT7sm/wallp12.png" /><media:content medium="image" url="https://images.ecency.com/DQmRT6nLW4pqLqeR1NhGVy68HUhRMDEYCNUhFQ6R1SLT7sm/wallp12.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Vessel Testnet Support</title><link href="https://hivedocs.info/news/vessel/testnet/2021/06/04/vessel-testnet-support.html" rel="alternate" type="text/html" title="Vessel Testnet Support" /><published>2021-06-04T20:26:39-07:00</published><updated>2021-06-04T20:26:39-07:00</updated><id>https://hivedocs.info/news/vessel/testnet/2021/06/04/vessel-testnet-support</id><content type="html" xml:base="https://hivedocs.info/news/vessel/testnet/2021/06/04/vessel-testnet-support.html">&lt;div id=&quot;content-rishi556-vessel-testnet-support&quot;&gt;Recently I updated Vessel to work with the testnet as well. Its quite nice stuff and has made my testing with the testnet a bit easier. It's pretty important to make sure what we've got work with future forks, and the testnet is a great way to do so. Nothing affecting vessel was changed so as long as you are on v0.5.0 you should be fine and not need to update, but if you'd like to checkout the testnet, you get the latest version from here: https://gitlab.syncad.com/hive/vessel/-/releases.

To get onto the testnet with vessel, all you have to do is supply it with a proper testnet node. Right now we have https://testnet.openhive.network. You can set that over on the settings page on vessel, or when first importing your account. With this instance, most accounts should already be exported with the same keys so you can just use it with no problems.


![Screen Shot 2021-06-04 at 10.21.16 PM.png](https://files.peakd.com/file/peakd-hive/rishi556/23tcJe3m31RYHtSGU6FA2ecc1E8FwXnKzjsMwPRvX71LeDjbe9ue6tWPbG6rJTzTq9tBw.png)

Switching to the testnet also gets your vessel to change its color to a lovely pink and some of the pages will show the testnet symbols instead of the mainnet one to signify that you are on it. 

I hope that this makes things easier for those of you use participate on the testnet.

I also did upgrade someguy's hivefeed-js(https://github.com/someguy123/hivefeed-js) to support the testnet as well. Just set the network to `testnet` in the config and you'll be good to go. Having more of our apps supporting the testnet will be awesome to make testing even easier and to make sure they function without problems once the fork comes around. 

&lt;hr /&gt;

Nerdier part starts here

The main change that needed to be done was just changing Hive and HBD to the proper testnet symbols(though the latest hive-js version does this automatically so if I waited could have done less work haha), that can be seen on this commit https://gitlab.syncad.com/hive/vessel/-/commit/36b366d375cffb371f04a56b97a81de9d43d4d38. It was just a simple replacement of `HIVE` to `TESTS` and `HBD` to `TBD`.

The other part was to set the chainid and prefix to the correct values, which can be seen here: https://gitlab.syncad.com/hive/vessel/-/commit/67a395539180fba62f4c849418982706e5a07c2f. @mahdiyari actually gave me a really great way on how to do this without needing user input at all. Initially I thought I would need to have user input in the chain id themselves, or check a box to signify that it's a testnet. Instead @mahdiyari proposed that I just pull the chain id and prefix right from the api node that the user supplied. That worked beautifully. 
&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;!-- &lt;script src=&quot;https://cdn.jsdelivr.net/npm/hive-content-renderer/dist/hive-content-renderer.min.js&quot;&gt;&lt;/script&gt; --&gt;
&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
      // const renderer = new HiveContentRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@rishi556&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/vessel-testnet-support&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-rishi556-vessel-testnet-support').html();
      const outputElem = $('#content-rishi556-vessel-testnet-support');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-rishi556-vessel-testnet-support {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-rishi556-vessel-testnet-support code {
    background: white;
  }
  #content-rishi556-vessel-testnet-support a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-rishi556-vessel-testnet-support a:hover {
    border-bottom: 0;
  }
  #content-rishi556-vessel-testnet-support h1 {
    font-size: 2.2em;
  }
  #content-rishi556-vessel-testnet-support h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-rishi556-vessel-testnet-support header small {
    color: #999;
    font-size: 50%;
  }
  #content-rishi556-vessel-testnet-support img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://peakd.com/hive-139531/@rishi556/vessel-testnet-support&quot;&gt;Vessel Testnet Support&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@rishi556&quot;&gt;@rishi556&lt;/a&gt;
&lt;/p&gt;</content><author><name>rishi556</name></author><category term="news" /><category term="vessel" /><category term="testnet" /><summary type="html">Recently I updated Vessel to work with the testnet as well. Its quite nice stuff and has made my testing with the testnet a bit easier. It's pretty important to make sure what we've got work with future forks, and the testnet is a great way to do so. Nothing affecting vessel was changed so as long as you are on v0.5.0 you should be fine and not need to update, but if you'd like to checkout the testnet, you get the latest version from here: https://gitlab.syncad.com/hive/vessel/-/releases. To get onto the testnet with vessel, all you have to do is supply it with a proper testnet node. Right now we have https://testnet.openhive.network. You can set that over on the settings page on vessel, or when first importing your account. With this instance, most accounts should already be exported with the same keys so you can just use it with no problems. ![Screen Shot 2021-06-04 at 10.21.16 PM.png](https://files.peakd.com/file/peakd-hive/rishi556/23tcJe3m31RYHtSGU6FA2ecc1E8FwXnKzjsMwPRvX71LeDjbe9ue6tWPbG6rJTzTq9tBw.png) Switching to the testnet also gets your vessel to change its color to a lovely pink and some of the pages will show the testnet symbols instead of the mainnet one to signify that you are on it. I hope that this makes things easier for those of you use participate on the testnet. I also did upgrade someguy's hivefeed-js(https://github.com/someguy123/hivefeed-js) to support the testnet as well. Just set the network to `testnet` in the config and you'll be good to go. Having more of our apps supporting the testnet will be awesome to make testing even easier and to make sure they function without problems once the fork comes around. Nerdier part starts here The main change that needed to be done was just changing Hive and HBD to the proper testnet symbols(though the latest hive-js version does this automatically so if I waited could have done less work haha), that can be seen on this commit https://gitlab.syncad.com/hive/vessel/-/commit/36b366d375cffb371f04a56b97a81de9d43d4d38. It was just a simple replacement of `HIVE` to `TESTS` and `HBD` to `TBD`. The other part was to set the chainid and prefix to the correct values, which can be seen here: https://gitlab.syncad.com/hive/vessel/-/commit/67a395539180fba62f4c849418982706e5a07c2f. @mahdiyari actually gave me a really great way on how to do this without needing user input at all. Initially I thought I would need to have user input in the chain id themselves, or check a box to signify that it's a testnet. Instead @mahdiyari proposed that I just pull the chain id and prefix right from the api node that the user supplied. That worked beautifully. See: Vessel Testnet Support by @rishi556</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://files.peakd.com/file/peakd-hive/rishi556/23tcJe3m31RYHtSGU6FA2ecc1E8FwXnKzjsMwPRvX71LeDjbe9ue6tWPbG6rJTzTq9tBw.png" /><media:content medium="image" url="https://files.peakd.com/file/peakd-hive/rishi556/23tcJe3m31RYHtSGU6FA2ecc1E8FwXnKzjsMwPRvX71LeDjbe9ue6tWPbG6rJTzTq9tBw.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">14th update of 2021 on BlockTrades work on Hive software</title><link href="https://hivedocs.info/news/core/development/2021/06/02/14th-update-of-2021-on-blocktrades-work-on-hive-software.html" rel="alternate" type="text/html" title="14th update of 2021 on BlockTrades work on Hive software" /><published>2021-06-02T17:21:12-07:00</published><updated>2021-06-02T17:21:12-07:00</updated><id>https://hivedocs.info/news/core/development/2021/06/02/14th-update-of-2021-on-blocktrades-work-on-hive-software</id><content type="html" xml:base="https://hivedocs.info/news/core/development/2021/06/02/14th-update-of-2021-on-blocktrades-work-on-hive-software.html">&lt;div id=&quot;content-blocktrades-14th-update-of-2021-on-blocktrades-work-on-hive-software&quot;&gt;![blocktrades update.png](https://images.hive.blog/DQmSihw8Kz4U7TuCQa98DDdCzqbqPFRumuVWAbareiYZW1Z/blocktrades%20update.png)

Below is a list of Hive-related programming issues worked on by the BlockTrades team during the last week or so:

# Hived work (blockchain node software)
We released a second and third release candidate earlier this week with several fixes and improvements for testnet-based testing:
https://gitlab.syncad.com/hive/hive/-/merge_requests/243
https://gitlab.syncad.com/hive/hive/-/merge_requests/244
https://gitlab.syncad.com/hive/hive/-/merge_requests/245

https://gitlab.syncad.com/hive/hive/-/merge_requests/250
https://gitlab.syncad.com/hive/hive/-/merge_requests/251

But we found some more issues associated with those release candidates and we also decided to reduce the vote powerup delay to one day for the testnet  (this value is configured for 30 days in the mainnet) to simplify testing scenarios where accounts stake their coins and then vote in new witnesses. So we’re about to tag a fourth release candidate for hived (probably will be tagged tomorrow). 

We’ve actually launched a new testnet with an untagged version of the planned release candidate to get the testnet jump-started quicker (we're simulating a transition of the code from HF24 rules to HF25 rules in this release and the transition test is scheduled for tomorrow so we wanted to get the testnet up as fast as possible). We haven’t tagged the new code yet as 1.25.0.rc4 because some of the automated tests failed when we changed the vote powerup delay for the testnet, but we’ll tag it after we have committed updated tests. As part of the changes to the tests, the response checking will be modified to test for the configured delay value rather than a hardcoded value, to avoid a repeat of this issue in the future.

I’ll add a link here to the new release candidate after it’s tagged.

# Hivemind (2nd layer applications + social media middleware)
Earlier this week, we merged develop branch changes to master and released a new 1.25.0 version of hivemind (so just pull from the head of the master branch to get the new version), and now we’re assisting API node operators as they upgrade to the new version. Note that the old version and the new version are broadly API compatible: most of the changes in the new release consist of bug fixes and performance improvements.

Currently the API nodes for api.hive.blog (@blocktrades), api.deathwing.me (@deathwing), and api.openhive.network (@gtg) have been updated to the new release.

Also, to eliminate the multi-day hive sync requirement for anyone setting up their API node for the first time, @gtg has provided a hivemind database dump for the new release that can be used to quickly initialize a new API node:   https://gtg.openhive.network/get/hivemind/ 

# Modular hivemind (Application framework for Hive apps)
We’ve been working on the documentation for modular hivemind’s internal architecture this week and doing individual code reviews. We have a meeting scheduled Monday to do a group code review. After that meeting, I should have a better idea as to when we can expect an initial release of the software, but from what I’ve seen so far, I’m thinking we could make it available for beta testing next month. 

 An early draft of the documentation for the architecture is here: https://gitlab.syncad.com/hive/psql_tools/-/blob/23239a592bd77b3b2cefc648e5c25880e0f76ffb/src/hive_fork/Readme.md 

# Testnet
We’re seeing more apps join in and hookup up test sites to the testnet. Note that as a regular Hive user, you can typically login with your normal credentials and test via these sites.
For example, you can login to either of these blog sites on the testnet
https://testblog.openhive.network (hive.blog-like testing site)
or
https://testnet.peakd.com/ (peakd-like testing site)

You can also browse the testnet with this block explorer: https://test.ausbit.dev/

## New testing tool for testnet
We’ve also created a new tool to convert an existing block log to a testnet block log to ease creation of more realistic “real-world” testnet-based test scenarios. The new tool is undergoing testing now.

# Tentative date for hardfork 25 is June 30th
Release candidate 4 has the hardfork scheduled for June 30th. Assuming we find no further issues by late next week, we’ll make that date official, create an official release by merging the develop branch to the master branch, and notify exchanges of the need to upgrade their wallets.&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;!-- &lt;script src=&quot;https://cdn.jsdelivr.net/npm/hive-content-renderer/dist/hive-content-renderer.min.js&quot;&gt;&lt;/script&gt; --&gt;
&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
      // const renderer = new HiveContentRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@blocktrades&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/14th-update-of-2021-on-blocktrades-work-on-hive-software&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-blocktrades-14th-update-of-2021-on-blocktrades-work-on-hive-software').html();
      const outputElem = $('#content-blocktrades-14th-update-of-2021-on-blocktrades-work-on-hive-software');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-blocktrades-14th-update-of-2021-on-blocktrades-work-on-hive-software {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-blocktrades-14th-update-of-2021-on-blocktrades-work-on-hive-software code {
    background: white;
  }
  #content-blocktrades-14th-update-of-2021-on-blocktrades-work-on-hive-software a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-blocktrades-14th-update-of-2021-on-blocktrades-work-on-hive-software a:hover {
    border-bottom: 0;
  }
  #content-blocktrades-14th-update-of-2021-on-blocktrades-work-on-hive-software h1 {
    font-size: 2.2em;
  }
  #content-blocktrades-14th-update-of-2021-on-blocktrades-work-on-hive-software h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-blocktrades-14th-update-of-2021-on-blocktrades-work-on-hive-software header small {
    color: #999;
    font-size: 50%;
  }
  #content-blocktrades-14th-update-of-2021-on-blocktrades-work-on-hive-software img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://hive.blog/hive-139531/@blocktrades/14th-update-of-2021-on-blocktrades-work-on-hive-software&quot;&gt;14th update of 2021 on BlockTrades work on Hive software&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@blocktrades&quot;&gt;@blocktrades&lt;/a&gt;
&lt;/p&gt;</content><author><name>blocktrades</name></author><category term="news" /><category term="core" /><category term="development" /><summary type="html">![blocktrades update.png](https://images.hive.blog/DQmSihw8Kz4U7TuCQa98DDdCzqbqPFRumuVWAbareiYZW1Z/blocktrades%20update.png) Below is a list of Hive-related programming issues worked on by the BlockTrades team during the last week or so: # Hived work (blockchain node software) We released a second and third release candidate earlier this week with several fixes and improvements for testnet-based testing: https://gitlab.syncad.com/hive/hive/-/merge_requests/243 https://gitlab.syncad.com/hive/hive/-/merge_requests/244 https://gitlab.syncad.com/hive/hive/-/merge_requests/245 https://gitlab.syncad.com/hive/hive/-/merge_requests/250 https://gitlab.syncad.com/hive/hive/-/merge_requests/251 But we found some more issues associated with those release candidates and we also decided to reduce the vote powerup delay to one day for the testnet (this value is configured for 30 days in the mainnet) to simplify testing scenarios where accounts stake their coins and then vote in new witnesses. So we’re about to tag a fourth release candidate for hived (probably will be tagged tomorrow). We’ve actually launched a new testnet with an untagged version of the planned release candidate to get the testnet jump-started quicker (we're simulating a transition of the code from HF24 rules to HF25 rules in this release and the transition test is scheduled for tomorrow so we wanted to get the testnet up as fast as possible). We haven’t tagged the new code yet as 1.25.0.rc4 because some of the automated tests failed when we changed the vote powerup delay for the testnet, but we’ll tag it after we have committed updated tests. As part of the changes to the tests, the response checking will be modified to test for the configured delay value rather than a hardcoded value, to avoid a repeat of this issue in the future. I’ll add a link here to the new release candidate after it’s tagged. # Hivemind (2nd layer applications + social media middleware) Earlier this week, we merged develop branch changes to master and released a new 1.25.0 version of hivemind (so just pull from the head of the master branch to get the new version), and now we’re assisting API node operators as they upgrade to the new version. Note that the old version and the new version are broadly API compatible: most of the changes in the new release consist of bug fixes and performance improvements. Currently the API nodes for api.hive.blog (@blocktrades), api.deathwing.me (@deathwing), and api.openhive.network (@gtg) have been updated to the new release. Also, to eliminate the multi-day hive sync requirement for anyone setting up their API node for the first time, @gtg has provided a hivemind database dump for the new release that can be used to quickly initialize a new API node: https://gtg.openhive.network/get/hivemind/ # Modular hivemind (Application framework for Hive apps) We’ve been working on the documentation for modular hivemind’s internal architecture this week and doing individual code reviews. We have a meeting scheduled Monday to do a group code review. After that meeting, I should have a better idea as to when we can expect an initial release of the software, but from what I’ve seen so far, I’m thinking we could make it available for beta testing next month. An early draft of the documentation for the architecture is here: https://gitlab.syncad.com/hive/psql_tools/-/blob/23239a592bd77b3b2cefc648e5c25880e0f76ffb/src/hive_fork/Readme.md # Testnet We’re seeing more apps join in and hookup up test sites to the testnet. Note that as a regular Hive user, you can typically login with your normal credentials and test via these sites. For example, you can login to either of these blog sites on the testnet https://testblog.openhive.network (hive.blog-like testing site) or https://testnet.peakd.com/ (peakd-like testing site) You can also browse the testnet with this block explorer: https://test.ausbit.dev/ ## New testing tool for testnet We’ve also created a new tool to convert an existing block log to a testnet block log to ease creation of more realistic “real-world” testnet-based test scenarios. The new tool is undergoing testing now. # Tentative date for hardfork 25 is June 30th Release candidate 4 has the hardfork scheduled for June 30th. Assuming we find no further issues by late next week, we’ll make that date official, create an official release by merging the develop branch to the master branch, and notify exchanges of the need to upgrade their wallets. See: 14th update of 2021 on BlockTrades work on Hive software by @blocktrades</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://images.hive.blog/DQmSihw8Kz4U7TuCQa98DDdCzqbqPFRumuVWAbareiYZW1Z/blocktrades%20update.png" /><media:content medium="image" url="https://images.hive.blog/DQmSihw8Kz4U7TuCQa98DDdCzqbqPFRumuVWAbareiYZW1Z/blocktrades%20update.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Community Improvements, Testnet support and 15 More Updates</title><link href="https://hivedocs.info/news/projects/testnet/2021/06/01/community-improvements-testnet-support-and-15-more-updates.html" rel="alternate" type="text/html" title="Community Improvements, Testnet support and 15 More Updates" /><published>2021-06-01T06:18:18-07:00</published><updated>2021-06-01T06:18:18-07:00</updated><id>https://hivedocs.info/news/projects/testnet/2021/06/01/community-improvements-testnet-support-and-15-more-updates</id><content type="html" xml:base="https://hivedocs.info/news/projects/testnet/2021/06/01/community-improvements-testnet-support-and-15-more-updates.html">&lt;div id=&quot;content-peakd-community-improvements-testnet-support-and-15-more-updates&quot;&gt;A new release of [peakd.com](https://peakd.com) is now available. Keep reading to discover the new features and check the full list of improvements ;)

&lt;center&gt;&lt;h4&gt;The new release is now live at https://peakd.com&lt;/h4&gt;&lt;/center&gt;

![release_cover_2021_06_01.jpg](https://files.peakd.com/file/peakd-hive/peakd/23tS2bqoaD4CxPADDAxsarFCkYRHHhFubPR4eXcxdGagL2Ak7d3Lr13d4YCePLPTsnAaF.jpg)

#### 1. Default/Required Beneficiary account for Communities

A community can now define a 'default' or 'required' beneficiary for posts published in that community. This option is not supported at the chain level (or Hivemind), so keep this in mind if you want to enable it. Probvably the only community using this feature at the moment is [PhotoGames](https://peakd.com/c/hive-146701).

When this option is enabled a label will be shown on the community rules:

![image.png](https://files.peakd.com/file/peakd-hive/peakd/23ydVgLHPXNthY6xzWT8boYRB5Ka3XoP9YSx69hMpB1e7EXRd2TnQdcA7T6nMq7hKbrFy.png)

###### Introduce the '@peakd.bot' account to automatically handle posts not using the required beneficiary account

If you want to automatically mute posts not respecting the required beneficiary setting you can add the @peakd.bot account as a community moderators and it will take care of it.

![image.png](https://files.peakd.com/file/peakd-hive/peakd/23uRKjMY5AFdXPSGPeVE7SY9A3PcdrSL6YvgAjBv2aQuiGAKNMGcLBLw1bGFxdrBK34uD.png)

*This is still and experimental feature, so feel free to report any issues you notice* ;)

#### 2. Other Communities Improvements

###### Support public Templates in communities

Communities can now define public Templates (owned by the community `hive-000000` owner account) that are available to their users when they want to write a new post:

![image.png](https://files.peakd.com/file/peakd-hive/peakd/23wgaTg2AHFAUWyBNZzvWmbBdvwsv7gusdEMhFS8APfpAYPpRHMqZk6nUDLxXSF2yx45f.png)

Only templates marked as 'PUBLIC' will be available in the dropdown. You can mark a template as public on this page: https://peakd.com/me/templates.

###### Allow communities to have a Curated Collections (CCC) page

Similar to what is already available for user pages it's now possible to add a collection page to communities:


![image.png](https://files.peakd.com/file/peakd-hive/peakd/23uR9aGiUjafHdkUwL6rHt8XFUvvjdT14qvDuUyxaqc7PkNSRJ44hfd1gEBbwR7QX4Rf4.png)


###### Allow up to 20 preferred topics for communities

You can now set up to 20 preferred topics for a community

![image.png](https://files.peakd.com/file/peakd-hive/peakd/EoyVJhZbq39MxsMsupUaL1GCFwfmmpGCpHBTe6dLYKyrrYGJJJivWm9smzwTBJMd9h8.png)


#### 3. Testnet Support

This is not completely new as we have supported Testnet in the past, but we did some improvements and better support for multiple login methods. This is intended for advanced users, but if you want you can have a look here: https://testnet.peakd.com

**Important:** If you login using Hive Keychain remind to change the RPC node used to cast transactions otherwise you will cast them on the actual chain.

#### 4. Notification counter in browser tab

It's now easier to see if there are new notifications directly on the browser tab/page title:

![image.png](https://files.peakd.com/file/peakd-hive/peakd/EoCbSnqkEUmVRc7QtnbruGou1A1aaLYqC9qZ5D1hGW2H2451b5VUVtfd8NAZZhV3WPS.png)

#### 5. Image viewer for comments

Image viewer had been available for images in a post for quite some time, but now you can enjoy the same for images in the comment section. Just click on the image to see it larger ;)

#### 6. Some minor improvements and bug fixes

As always some minor improvements, updates and fixes across the website. You can check the full release notes here: **https://peakd.com/about/changelog**.

```
# Improvements and Fixes
------------------------------

[update] Better instructions for creating a curated collection
[update] Double check community required beneficiary before publishing a post
[update] Improve image hashing function to better handle edge cases
[update] Include power down amount in MAX available amount in delegation popup
[update] Stop embedded videos autoplay when opening the post in full view
[update] Exclude downvoted/muted posts from Trail view
[update] Indent sub-headers in post outline
[update] Add link to edit default beneficiaries in Settings
[update] Improve support for CCC associated templates
[update] Allow up to 20 preferred topics for communities
[update] Better handle community curator account (if set)
[fix] Improve check on max percentage set for beneficiaries
[fix] Improve HW wallet layout on smaller display
[fix] 3speak video embeds in post
[fix] Image file extension missing after upload for some file
[fix] Set the community name in browser tab title
[fix] Login with PeakLock on testnet.peakd.com is now allowed
```

---

## Support the @peakd project

Now is probably a nice time to remind you of the ways you can support the development of @peakd.

![Selection_298.png](https://files.peakd.com/file/peakd-hive/peakd/w36DQpO7-Selection_298.png)

We have a proposal on the Decentralized Hive Fund. You can review the proposal [here](/proposals/52).
If you agree to the proposal and you think the points mentioned add value to the Hive Blockchain consider supporting it using the above links or directly with **[this link](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=[52]&amp;amp;approve=true)**.

---

We also run a witness server to help produce the blocks for the Hive Blockchain. You can vote for our witness so we are in a position to process more of them.

Vote on the witness page: https://peakd.com/witnesses

- Using Keychain: You just have to click and approve the transaction
- Using HiveSigner: You'll need access to confirm the transaction with your Active Key at least

---

###### *The PeakD Team*
_About us: https://peakd.com/about_
_Join us on Discord: https://discord.gg/Fy3bca5_&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;!-- &lt;script src=&quot;https://cdn.jsdelivr.net/npm/hive-content-renderer/dist/hive-content-renderer.min.js&quot;&gt;&lt;/script&gt; --&gt;
&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
      // const renderer = new HiveContentRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@peakd&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/community-improvements-testnet-support-and-15-more-updates&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-peakd-community-improvements-testnet-support-and-15-more-updates').html();
      const outputElem = $('#content-peakd-community-improvements-testnet-support-and-15-more-updates');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-peakd-community-improvements-testnet-support-and-15-more-updates {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-peakd-community-improvements-testnet-support-and-15-more-updates code {
    background: white;
  }
  #content-peakd-community-improvements-testnet-support-and-15-more-updates a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-peakd-community-improvements-testnet-support-and-15-more-updates a:hover {
    border-bottom: 0;
  }
  #content-peakd-community-improvements-testnet-support-and-15-more-updates h1 {
    font-size: 2.2em;
  }
  #content-peakd-community-improvements-testnet-support-and-15-more-updates h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-peakd-community-improvements-testnet-support-and-15-more-updates header small {
    color: #999;
    font-size: 50%;
  }
  #content-peakd-community-improvements-testnet-support-and-15-more-updates img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://peakd.com/hive-163399/@peakd/community-improvements-testnet-support-and-15-more-updates&quot;&gt;Community Improvements, Testnet support and 15 More Updates&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@peakd&quot;&gt;@peakd&lt;/a&gt;
&lt;/p&gt;</content><author><name>peakd</name></author><category term="news" /><category term="projects" /><category term="testnet" /><summary type="html">A new release of [peakd.com](https://peakd.com) is now available. Keep reading to discover the new features and check the full list of improvements ;) The new release is now live at https://peakd.com ![release_cover_2021_06_01.jpg](https://files.peakd.com/file/peakd-hive/peakd/23tS2bqoaD4CxPADDAxsarFCkYRHHhFubPR4eXcxdGagL2Ak7d3Lr13d4YCePLPTsnAaF.jpg) #### 1. Default/Required Beneficiary account for Communities A community can now define a 'default' or 'required' beneficiary for posts published in that community. This option is not supported at the chain level (or Hivemind), so keep this in mind if you want to enable it. Probvably the only community using this feature at the moment is [PhotoGames](https://peakd.com/c/hive-146701). When this option is enabled a label will be shown on the community rules: ![image.png](https://files.peakd.com/file/peakd-hive/peakd/23ydVgLHPXNthY6xzWT8boYRB5Ka3XoP9YSx69hMpB1e7EXRd2TnQdcA7T6nMq7hKbrFy.png) ###### Introduce the '@peakd.bot' account to automatically handle posts not using the required beneficiary account If you want to automatically mute posts not respecting the required beneficiary setting you can add the @peakd.bot account as a community moderators and it will take care of it. ![image.png](https://files.peakd.com/file/peakd-hive/peakd/23uRKjMY5AFdXPSGPeVE7SY9A3PcdrSL6YvgAjBv2aQuiGAKNMGcLBLw1bGFxdrBK34uD.png) *This is still and experimental feature, so feel free to report any issues you notice* ;) #### 2. Other Communities Improvements ###### Support public Templates in communities Communities can now define public Templates (owned by the community `hive-000000` owner account) that are available to their users when they want to write a new post: ![image.png](https://files.peakd.com/file/peakd-hive/peakd/23wgaTg2AHFAUWyBNZzvWmbBdvwsv7gusdEMhFS8APfpAYPpRHMqZk6nUDLxXSF2yx45f.png) Only templates marked as 'PUBLIC' will be available in the dropdown. You can mark a template as public on this page: https://peakd.com/me/templates. ###### Allow communities to have a Curated Collections (CCC) page Similar to what is already available for user pages it's now possible to add a collection page to communities: ![image.png](https://files.peakd.com/file/peakd-hive/peakd/23uR9aGiUjafHdkUwL6rHt8XFUvvjdT14qvDuUyxaqc7PkNSRJ44hfd1gEBbwR7QX4Rf4.png) ###### Allow up to 20 preferred topics for communities You can now set up to 20 preferred topics for a community ![image.png](https://files.peakd.com/file/peakd-hive/peakd/EoyVJhZbq39MxsMsupUaL1GCFwfmmpGCpHBTe6dLYKyrrYGJJJivWm9smzwTBJMd9h8.png) #### 3. Testnet Support This is not completely new as we have supported Testnet in the past, but we did some improvements and better support for multiple login methods. This is intended for advanced users, but if you want you can have a look here: https://testnet.peakd.com **Important:** If you login using Hive Keychain remind to change the RPC node used to cast transactions otherwise you will cast them on the actual chain. #### 4. Notification counter in browser tab It's now easier to see if there are new notifications directly on the browser tab/page title: ![image.png](https://files.peakd.com/file/peakd-hive/peakd/EoCbSnqkEUmVRc7QtnbruGou1A1aaLYqC9qZ5D1hGW2H2451b5VUVtfd8NAZZhV3WPS.png) #### 5. Image viewer for comments Image viewer had been available for images in a post for quite some time, but now you can enjoy the same for images in the comment section. Just click on the image to see it larger ;) #### 6. Some minor improvements and bug fixes As always some minor improvements, updates and fixes across the website. You can check the full release notes here: **https://peakd.com/about/changelog**. ``` # Improvements and Fixes ------------------------------ [update] Better instructions for creating a curated collection [update] Double check community required beneficiary before publishing a post [update] Improve image hashing function to better handle edge cases [update] Include power down amount in MAX available amount in delegation popup [update] Stop embedded videos autoplay when opening the post in full view [update] Exclude downvoted/muted posts from Trail view [update] Indent sub-headers in post outline [update] Add link to edit default beneficiaries in Settings [update] Improve support for CCC associated templates [update] Allow up to 20 preferred topics for communities [update] Better handle community curator account (if set) [fix] Improve check on max percentage set for beneficiaries [fix] Improve HW wallet layout on smaller display [fix] 3speak video embeds in post [fix] Image file extension missing after upload for some file [fix] Set the community name in browser tab title [fix] Login with PeakLock on testnet.peakd.com is now allowed ``` --- ## Support the @peakd project Now is probably a nice time to remind you of the ways you can support the development of @peakd. ![Selection_298.png](https://files.peakd.com/file/peakd-hive/peakd/w36DQpO7-Selection_298.png) We have a proposal on the Decentralized Hive Fund. You can review the proposal [here](/proposals/52). If you agree to the proposal and you think the points mentioned add value to the Hive Blockchain consider supporting it using the above links or directly with **[this link](https://hivesigner.com/sign/update-proposal-votes?proposal_ids=[52]&amp;amp;approve=true)**. --- We also run a witness server to help produce the blocks for the Hive Blockchain. You can vote for our witness so we are in a position to process more of them. Vote on the witness page: https://peakd.com/witnesses - Using Keychain: You just have to click and approve the transaction - Using HiveSigner: You'll need access to confirm the transaction with your Active Key at least --- ###### *The PeakD Team* _About us: https://peakd.com/about_ _Join us on Discord: https://discord.gg/Fy3bca5_ See: Community Improvements, Testnet support and 15 More Updates by @peakd</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://files.peakd.com/file/peakd-hive/peakd/23tS2bqoaD4CxPADDAxsarFCkYRHHhFubPR4eXcxdGagL2Ak7d3Lr13d4YCePLPTsnAaF.jpg" /><media:content medium="image" url="https://files.peakd.com/file/peakd-hive/peakd/23tS2bqoaD4CxPADDAxsarFCkYRHHhFubPR4eXcxdGagL2Ak7d3Lr13d4YCePLPTsnAaF.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">How to run a witness node on the hf25 testnet</title><link href="https://hivedocs.info/howto/witness/testnet/2021/05/31/how-to-run-a-witness-node-on-the-hf25-testnet.html" rel="alternate" type="text/html" title="How to run a witness node on the hf25 testnet" /><published>2021-05-31T06:51:27-07:00</published><updated>2021-05-31T06:51:27-07:00</updated><id>https://hivedocs.info/howto/witness/testnet/2021/05/31/how-to-run-a-witness-node-on-the-hf25-testnet</id><content type="html" xml:base="https://hivedocs.info/howto/witness/testnet/2021/05/31/how-to-run-a-witness-node-on-the-hf25-testnet.html">&lt;div id=&quot;content-howo-how-to-run-a-witness-node-on-the-hf25-testnet&quot;&gt;![image.png](https://files.peakd.com/file/peakd-hive/howo/23xe7eZsnrPcykgbjNqyAudjuQ8nfGfqRzVCpTShns5vRs2J9gcknbewso9v32YFhw54x.png)

Hi ! the testnet phase for HF25 is now in full swing, here's some info on it from @gtg https://peakd.com/@gtg/hf25-public-testnet-reloaded-rc2

One important thing to understand about the testnet is much more lightweight than the main net (because the chain is brand new) so you can actually get it running on a super small machine, to prove my point I'm going to write this tutorial using the 6$ a month doplet (1 core, 25gb storage) from digitalocean. I recommend ubuntu 18.04 LTS, 20.04 is also supported by hive but it can be more tricky depending on the versions of GCC+boost+cmake that are provided with it.

If you participated in the last testnet you will find this guide very similar to the previous one https://peakd.com/hive/@howo/how-to-participate-in-the-tesntets-this-week-full-guide but I felt like making a new one was better than telling you  &quot;follow the outdated guide and at step 35 do this instead&quot; 

### step 1: Build hive or download binaries

#### download binaries

If you're on a low end hardware compiling may take a while, so it's faster to let someone compile the binaries for you so you can just run them instead.

@gtg offers pre-built binaries at https://gtg.openhive.network/get/testnet/bin/ just download both hived and cli_wallet and you're good to go:

```
mkdir programs
cd programs
wget https://gtg.openhive.network/get/testnet/bin/cli_wallet-v1.25.0rc2
wget https://gtg.openhive.network/get/testnet/bin/hived-v1.25.0rc2
chmod +x *
```

This is a hassle-free solution but binaries may not always be available and it's generally better security-wise to compile it yourself.

### build hive

If you are running on low end hardware like me, you will probably need to setup some swap to compile hive:  https://linuxize.com/post/how-to-add-swap-space-on-ubuntu-18-04/ I personally added 16GB of swap. I don't know how much is actually needed I just figured that it would be enough, feel free to tell me in the comments if you experiment with it.


Let's install the dependencies first:
```
apt-get install -y \
        autoconf \
        automake \
        autotools-dev \
        build-essential \
        cmake \
        doxygen \
        git \
        libboost-all-dev \
        libyajl-dev \
        libreadline-dev \
        libssl-dev \
        libtool \
        liblz4-tool \
        ncurses-dev \
        python3 \
        python3-dev \
        python3-jinja2 \
        python3-pip \
        libgflags-dev \
        libsnappy-dev \
        zlib1g-dev \
        libbz2-dev \
        liblz4-dev \
        libzstd-dev
```

Then get hive and compile it, change `v1.25.0rc2` to whatever is the current release tag, follow @gtg he is usually the one announcing the release notes, alternatively you can look on https://gitlab.syncad.com/hive/hive/-/tags and look at the most recent tags.  

```
git clone git@gitlab.syncad.com:hive/hive.git
cd hive
git checkout v1.25.0rc2
git submodule update --init --recursive
mkdir build
cd build

cmake -DENABLE_COVERAGE_TESTING=ON -DBUILD_HIVE_TESTNET=ON -DLOW_MEMORY_NODE=ON ..

make -j$(nproc) hived cli_wallet
```

Compiling may take a while if you are on low end hardware it could take up to a few hours if not more, I forgot to measure it when I did it myself so 🤷‍. On high end hardware you can expect 3-5 minutes.
 
## Run the node

I am using the directory structure and binary names that you get when you compile hive so straight copy paste may not work if you use binaries but everything else works the same you just have to use the right paths and right binary names.


Run the node a few seconds and then exit hived like so

`./programs/hive/hived -d testnet/`

this will create a testnet directory with the default config file.

open the config.ini file

nano testnet/config.ini

replace the config.ini with this one:

```
# tells the node which seeds he should listen to to get blocks
p2p-seed-node = testnet.openhive.network:2001

# Local http endpoint for webserver requests.
webserver-http-endpoint = 127.0.0.1:8090

# Local websocket endpoint for webserver requests.
webserver-ws-endpoint =127.0.0.1:8091

log-appender = {&quot;appender&quot;:&quot;stderr&quot;,&quot;stream&quot;:&quot;std_error&quot;}
log-logger = {&quot;name&quot;:&quot;default&quot;,&quot;level&quot;:&quot;info&quot;,&quot;appender&quot;:&quot;stderr&quot;}

backtrace = yes

plugin = webserver p2p json_rpc
plugin = database_api condenser_api

plugin = witness
plugin = rc

plugin = market_history
plugin = market_history_api

plugin = account_history_rocksdb
plugin = account_history_api

plugin = transaction_status
plugin = transaction_status_api

plugin = account_by_key
plugin = account_by_key_api

plugin = reputation
plugin = reputation_api

plugin = block_api network_broadcast_api rc_api

account-history-rocksdb-path = &quot;blockchain/account-history-rocksdb-storage&quot;

shared-file-size = 10G

shared-file-full-threshold = 9500
shared-file-scale-rate = 1000

flush-state-interval = 0

market-history-bucket-size = [15,60,300,3600,86400]
market-history-buckets-per-size = 5760

p2p-endpoint = 0.0.0.0:2001

transaction-status-block-depth = 64000
transaction-status-track-after-block = 46000000

webserver-thread-pool-size = 256
```

Then run hived again, this time we want it to stay up so setup a way for it to persist even if you log out, like screen. I personally use pm2 for the testnets just because it's convenient. This is not optimal for a production setup but it's fine for those testnets. (see https://pm2.keymetrics.io/docs/usage/quick-start/)

for the testnet I run hived like this with pm2:

pm2 start --name testnet ./programs/hived/hived -- -d testnet


It will take some time (a few minutes to a few hours) before you get your blocks.
You can look at https://test.ausbit.dev/ to see what is the head block to get a sense of how far you are.
When you are synched with the testnet and you should see messages like this:

```
3|hf23     | 1526617ms p2p_plugin.cpp:212            handle_block         ] Got 0 transactions on block 4415 by howo -- Block Time Offset: -382 ms
3|hf23     | 1532618ms p2p_plugin.cpp:212            handle_block         ] Got 0 transactions on block 4416 by howo -- Block Time Offset: -381 ms
3|hf23     | 1538612ms p2p_plugin.cpp:212            handle_block         ] Got 0 transactions on block 4417 by howo -- Block Time Offset: -387 ms
3|hf23     | 1544620ms p2p_plugin.cpp:212            handle_block         ] Got 0 transactions on block 4418 by howo -- Block Time Offset: -379 ms
3|hf23     | 1550615ms p2p_plugin.cpp:212            handle_block         ] Got 0 transactions on block 4419 by howo -- Block Time Offset: -384 ms

```

now your node is running ! So that's great, but it's not producing.

So you need to setup your witness.

## Setting up your witness 

### cli_wallet 

Open up the cli wallet:

`./programs/cli_wallet/cli_wallet --server-rpc-endpoint=&quot;ws://127.0.0.1:8091&quot;`

it'll ask for a password, so execute:

`set_password yourpassword`

then unlock it using:

`unlock yourpassword`

Now execute those commands:

import your active key to do various actions, note that the keys on the testnet are the same than the keys on main net (they have been ported) so you can just use your account  
`import_key 5JNHfZYKGaomSFvd4NUdQ9qMcEAC43kujbfjueTHpVapX1Kzq2n`

then generate keys for your witness:
`suggest_brain_key`

it'll be something like this:
```
{
  &quot;brain_priv_key&quot;: &quot;STRANGE ROADWAY TWASOME MOLER CENTIMO THOFT COMPORT VARIANT OUTSWIM EGGER SCRIBE GLAVER CROWDED DOLLIER AWNED DOPPER&quot;,
  &quot;wif_priv_key&quot;: &quot;5KJUxvUSdAV6H7LiutRJMVwEVptmoaDhM73Cg1itzYjG8zs7tWF&quot;,
  &quot;pub_key&quot;: &quot;TST71oeHrdBZEKDG1GaC75VKDaRGcXk2R8htD8J6wkP6p1zDRPzFZ&quot;
}
```
Save these for later !

Then set yourself as a witness (notice how I used the pub_key generated above)
```
update_witness &quot;yourusername&quot; &quot;http://example.org&quot; &quot;TST71oeHrdBZEKDG1GaC75VKDaRGcXk2R8htD8J6wkP6p1zDRPzFZ&quot; {&quot;account_creation_fee&quot;:&quot;0.000 TESTS&quot;,&quot;maximum_block_size&quot;:65536,&quot;hbd_interest_rate&quot;:300} true
```

then request some test hive via https://hivetestnetfaucet.org/

and power it up, this is important to do even if you already have hp. Because of the power up delay introduced in hf24, your initial HP don't have any effect:

`transfer_to_vesting &quot;yourusername&quot; &quot;yourusername&quot; &quot;10.000 TESTS&quot; true`

and finally vote for yourself so you get scheduled for blocks. If you don't have stake feel free to request some via https://hivetestnetfaucet.org/

`vote_for_witness &quot;yourusername&quot; &quot;yourusername&quot; true true`

and we are done with cli_wallet ! but not with the setup.

### final config

Open the config one final time to set yourself as a witness by adding these fields:

I use the private key that you generated with the cli above not the one that I put here. I put one here to show that you don't put quotes around the private key.
```
witness = &quot;yourusername&quot;

# WIF PRIVATE KEY to be used by one or more witnesses or miners
private-key = 5KJUxvUSdAV6H7LiutRJMVwEVptmoaDhM73Cg1itzYjG8zs7tWF
```

restart the node and you should be producing blocks, the logs should look something like this:

```
3|hf23     | 2687621ms p2p_plugin.cpp:212            handle_block         ] Got 0 transactions on block 4595 by howo -- Block Time Offset: -378 ms
3|hf23     | 2690613ms witness_plugin.cpp:343        block_production_loo ] Generated block #4596 with timestamp 2020-08-25T19:44:51 at time 2020-08-25T19:44:51
```

## Seed node

Go the extra mile and setup a seed node ! this is quite important as the testnet have very few seed nodes, so it helps a lot if you make one.

Your node is already configured to be a seed node so you just need to open the corresponding port:
(note that this command may vary depending on the firewall setup of your computer)
```
sudo iptables -A INPUT -m state --state NEW -m tcp -p tcp --dport 2001 -j ACCEPT
```

And now you can communicate the new seed node to everyone. Please post your ip as a comment of that post so that I can update this link to use your seed as well :).

Thank you for reading.

If you liked this writeup, please consider voting for @steempress it's the witness that I co-manage with @fredrikaa:
![](https://i.imgur.com/oPJ63jA.png)
&lt;center&gt;&lt;sup&gt;You can vote for our witness directly using Hivesigner &lt;a href=&quot;https://hivesigner.com/sign/account-witness-vote?witness=steempress&amp;amp;approve=1&quot;&gt;here&lt;/a&gt;.&lt;/sup&gt;&lt;/center&gt;&lt;/div&gt;
&lt;script crossorigin=&quot;anonymous&quot; integrity=&quot;sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=&quot; src=&quot;https://code.jquery.com/jquery-3.5.1.slim.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;https://unpkg.com/steem-content-renderer&quot;&gt;&lt;/script&gt;

&lt;!-- &lt;script src=&quot;https://cdn.jsdelivr.net/npm/hive-content-renderer/dist/hive-content-renderer.min.js&quot;&gt;&lt;/script&gt; --&gt;
&lt;script&gt;
  $(document).ready(function() {
    try {
      const renderer = new SteemContentRenderer.DefaultRenderer({
      // const renderer = new HiveContentRenderer({
        baseUrl: &quot;https://hive.blog/&quot;,
        breaks: true,
        skipSanitization: false,
        allowInsecureScriptTags: false,
        addNofollowToLinks: true,
        doNotShowImages: false,
        ipfsPrefix: &quot;&quot;,
        assetsWidth: 640,
        assetsHeight: 480,
        imageProxyFn: (url) =&gt; url,
        usertagUrlFn: (account) =&gt; &quot;/@howo&quot;,
        hashtagUrlFn: (hashtag) =&gt; &quot;/how-to-run-a-witness-node-on-the-hf25-testnet&quot;,
        isLinkSafeFn: (url) =&gt; true,
      });
      
      const inputElem = $('#content-howo-how-to-run-a-witness-node-on-the-hf25-testnet').html();
      const outputElem = $('#content-howo-how-to-run-a-witness-node-on-the-hf25-testnet');
      const output = renderer.render(inputElem);
      
      outputElem.html(output);
    } catch(e) {
      console.log(e);
    }
  });
&lt;/script&gt;

&lt;style&gt;
  #content-howo-how-to-run-a-witness-node-on-the-hf25-testnet {
    padding: 0 3rem;
    color: #444444;
    font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
    line-height: 1.8;
    text-shadow: 0 1px 0 #ffffff;
    padding: 0.5rem;
  }
  #content-howo-how-to-run-a-witness-node-on-the-hf25-testnet code {
    background: white;
  }
  #content-howo-how-to-run-a-witness-node-on-the-hf25-testnet a {
    border-bottom: 1px solid #444444; color: #444444; text-decoration: none;
  }
  #content-howo-how-to-run-a-witness-node-on-the-hf25-testnet a:hover {
    border-bottom: 0;
  }
  #content-howo-how-to-run-a-witness-node-on-the-hf25-testnet h1 {
    font-size: 2.2em;
  }
  #content-howo-how-to-run-a-witness-node-on-the-hf25-testnet h2, h3, h4, h5 {
    margin-bottom: 0;
  }
  #content-howo-how-to-run-a-witness-node-on-the-hf25-testnet header small {
    color: #999;
    font-size: 50%;
  }
  #content-howo-how-to-run-a-witness-node-on-the-hf25-testnet img {
    max-width: 100%;
  }
&lt;/style&gt;

&lt;hr /&gt;

&lt;p&gt;
  See: &lt;a href=&quot;https://peakd.com/guide/@howo/how-to-run-a-witness-node-on-the-hf25-testnet&quot;&gt;How to run a witness node on the hf25 testnet&lt;/a&gt;
  by
  &lt;a href=&quot;https://hive.blog/@howo&quot;&gt;@howo&lt;/a&gt;
&lt;/p&gt;</content><author><name>howo</name></author><category term="howto" /><category term="witness" /><category term="testnet" /><summary type="html">![image.png](https://files.peakd.com/file/peakd-hive/howo/23xe7eZsnrPcykgbjNqyAudjuQ8nfGfqRzVCpTShns5vRs2J9gcknbewso9v32YFhw54x.png) Hi ! the testnet phase for HF25 is now in full swing, here's some info on it from @gtg https://peakd.com/@gtg/hf25-public-testnet-reloaded-rc2 One important thing to understand about the testnet is much more lightweight than the main net (because the chain is brand new) so you can actually get it running on a super small machine, to prove my point I'm going to write this tutorial using the 6$ a month doplet (1 core, 25gb storage) from digitalocean. I recommend ubuntu 18.04 LTS, 20.04 is also supported by hive but it can be more tricky depending on the versions of GCC+boost+cmake that are provided with it. If you participated in the last testnet you will find this guide very similar to the previous one https://peakd.com/hive/@howo/how-to-participate-in-the-tesntets-this-week-full-guide but I felt like making a new one was better than telling you &quot;follow the outdated guide and at step 35 do this instead&quot; ### step 1: Build hive or download binaries #### download binaries If you're on a low end hardware compiling may take a while, so it's faster to let someone compile the binaries for you so you can just run them instead. @gtg offers pre-built binaries at https://gtg.openhive.network/get/testnet/bin/ just download both hived and cli_wallet and you're good to go: ``` mkdir programs cd programs wget https://gtg.openhive.network/get/testnet/bin/cli_wallet-v1.25.0rc2 wget https://gtg.openhive.network/get/testnet/bin/hived-v1.25.0rc2 chmod +x * ``` This is a hassle-free solution but binaries may not always be available and it's generally better security-wise to compile it yourself. ### build hive If you are running on low end hardware like me, you will probably need to setup some swap to compile hive: https://linuxize.com/post/how-to-add-swap-space-on-ubuntu-18-04/ I personally added 16GB of swap. I don't know how much is actually needed I just figured that it would be enough, feel free to tell me in the comments if you experiment with it. Let's install the dependencies first: ``` apt-get install -y \ autoconf \ automake \ autotools-dev \ build-essential \ cmake \ doxygen \ git \ libboost-all-dev \ libyajl-dev \ libreadline-dev \ libssl-dev \ libtool \ liblz4-tool \ ncurses-dev \ python3 \ python3-dev \ python3-jinja2 \ python3-pip \ libgflags-dev \ libsnappy-dev \ zlib1g-dev \ libbz2-dev \ liblz4-dev \ libzstd-dev ``` Then get hive and compile it, change `v1.25.0rc2` to whatever is the current release tag, follow @gtg he is usually the one announcing the release notes, alternatively you can look on https://gitlab.syncad.com/hive/hive/-/tags and look at the most recent tags. ``` git clone git@gitlab.syncad.com:hive/hive.git cd hive git checkout v1.25.0rc2 git submodule update --init --recursive mkdir build cd build cmake -DENABLE_COVERAGE_TESTING=ON -DBUILD_HIVE_TESTNET=ON -DLOW_MEMORY_NODE=ON .. make -j$(nproc) hived cli_wallet ``` Compiling may take a while if you are on low end hardware it could take up to a few hours if not more, I forgot to measure it when I did it myself so 🤷‍. On high end hardware you can expect 3-5 minutes. ## Run the node I am using the directory structure and binary names that you get when you compile hive so straight copy paste may not work if you use binaries but everything else works the same you just have to use the right paths and right binary names. Run the node a few seconds and then exit hived like so `./programs/hive/hived -d testnet/` this will create a testnet directory with the default config file. open the config.ini file nano testnet/config.ini replace the config.ini with this one: ``` # tells the node which seeds he should listen to to get blocks p2p-seed-node = testnet.openhive.network:2001 # Local http endpoint for webserver requests. webserver-http-endpoint = 127.0.0.1:8090 # Local websocket endpoint for webserver requests. webserver-ws-endpoint =127.0.0.1:8091 log-appender = {&quot;appender&quot;:&quot;stderr&quot;,&quot;stream&quot;:&quot;std_error&quot;} log-logger = {&quot;name&quot;:&quot;default&quot;,&quot;level&quot;:&quot;info&quot;,&quot;appender&quot;:&quot;stderr&quot;} backtrace = yes plugin = webserver p2p json_rpc plugin = database_api condenser_api plugin = witness plugin = rc plugin = market_history plugin = market_history_api plugin = account_history_rocksdb plugin = account_history_api plugin = transaction_status plugin = transaction_status_api plugin = account_by_key plugin = account_by_key_api plugin = reputation plugin = reputation_api plugin = block_api network_broadcast_api rc_api account-history-rocksdb-path = &quot;blockchain/account-history-rocksdb-storage&quot; shared-file-size = 10G shared-file-full-threshold = 9500 shared-file-scale-rate = 1000 flush-state-interval = 0 market-history-bucket-size = [15,60,300,3600,86400] market-history-buckets-per-size = 5760 p2p-endpoint = 0.0.0.0:2001 transaction-status-block-depth = 64000 transaction-status-track-after-block = 46000000 webserver-thread-pool-size = 256 ``` Then run hived again, this time we want it to stay up so setup a way for it to persist even if you log out, like screen. I personally use pm2 for the testnets just because it's convenient. This is not optimal for a production setup but it's fine for those testnets. (see https://pm2.keymetrics.io/docs/usage/quick-start/) for the testnet I run hived like this with pm2: pm2 start --name testnet ./programs/hived/hived -- -d testnet It will take some time (a few minutes to a few hours) before you get your blocks. You can look at https://test.ausbit.dev/ to see what is the head block to get a sense of how far you are. When you are synched with the testnet and you should see messages like this: ``` 3|hf23 | 1526617ms p2p_plugin.cpp:212 handle_block ] Got 0 transactions on block 4415 by howo -- Block Time Offset: -382 ms 3|hf23 | 1532618ms p2p_plugin.cpp:212 handle_block ] Got 0 transactions on block 4416 by howo -- Block Time Offset: -381 ms 3|hf23 | 1538612ms p2p_plugin.cpp:212 handle_block ] Got 0 transactions on block 4417 by howo -- Block Time Offset: -387 ms 3|hf23 | 1544620ms p2p_plugin.cpp:212 handle_block ] Got 0 transactions on block 4418 by howo -- Block Time Offset: -379 ms 3|hf23 | 1550615ms p2p_plugin.cpp:212 handle_block ] Got 0 transactions on block 4419 by howo -- Block Time Offset: -384 ms ``` now your node is running ! So that's great, but it's not producing. So you need to setup your witness. ## Setting up your witness ### cli_wallet Open up the cli wallet: `./programs/cli_wallet/cli_wallet --server-rpc-endpoint=&quot;ws://127.0.0.1:8091&quot;` it'll ask for a password, so execute: `set_password yourpassword` then unlock it using: `unlock yourpassword` Now execute those commands: import your active key to do various actions, note that the keys on the testnet are the same than the keys on main net (they have been ported) so you can just use your account `import_key 5JNHfZYKGaomSFvd4NUdQ9qMcEAC43kujbfjueTHpVapX1Kzq2n` then generate keys for your witness: `suggest_brain_key` it'll be something like this: ``` { &quot;brain_priv_key&quot;: &quot;STRANGE ROADWAY TWASOME MOLER CENTIMO THOFT COMPORT VARIANT OUTSWIM EGGER SCRIBE GLAVER CROWDED DOLLIER AWNED DOPPER&quot;, &quot;wif_priv_key&quot;: &quot;5KJUxvUSdAV6H7LiutRJMVwEVptmoaDhM73Cg1itzYjG8zs7tWF&quot;, &quot;pub_key&quot;: &quot;TST71oeHrdBZEKDG1GaC75VKDaRGcXk2R8htD8J6wkP6p1zDRPzFZ&quot; } ``` Save these for later ! Then set yourself as a witness (notice how I used the pub_key generated above) ``` update_witness &quot;yourusername&quot; &quot;http://example.org&quot; &quot;TST71oeHrdBZEKDG1GaC75VKDaRGcXk2R8htD8J6wkP6p1zDRPzFZ&quot; {&quot;account_creation_fee&quot;:&quot;0.000 TESTS&quot;,&quot;maximum_block_size&quot;:65536,&quot;hbd_interest_rate&quot;:300} true ``` then request some test hive via https://hivetestnetfaucet.org/ and power it up, this is important to do even if you already have hp. Because of the power up delay introduced in hf24, your initial HP don't have any effect: `transfer_to_vesting &quot;yourusername&quot; &quot;yourusername&quot; &quot;10.000 TESTS&quot; true` and finally vote for yourself so you get scheduled for blocks. If you don't have stake feel free to request some via https://hivetestnetfaucet.org/ `vote_for_witness &quot;yourusername&quot; &quot;yourusername&quot; true true` and we are done with cli_wallet ! but not with the setup. ### final config Open the config one final time to set yourself as a witness by adding these fields: I use the private key that you generated with the cli above not the one that I put here. I put one here to show that you don't put quotes around the private key. ``` witness = &quot;yourusername&quot; # WIF PRIVATE KEY to be used by one or more witnesses or miners private-key = 5KJUxvUSdAV6H7LiutRJMVwEVptmoaDhM73Cg1itzYjG8zs7tWF ``` restart the node and you should be producing blocks, the logs should look something like this: ``` 3|hf23 | 2687621ms p2p_plugin.cpp:212 handle_block ] Got 0 transactions on block 4595 by howo -- Block Time Offset: -378 ms 3|hf23 | 2690613ms witness_plugin.cpp:343 block_production_loo ] Generated block #4596 with timestamp 2020-08-25T19:44:51 at time 2020-08-25T19:44:51 ``` ## Seed node Go the extra mile and setup a seed node ! this is quite important as the testnet have very few seed nodes, so it helps a lot if you make one. Your node is already configured to be a seed node so you just need to open the corresponding port: (note that this command may vary depending on the firewall setup of your computer) ``` sudo iptables -A INPUT -m state --state NEW -m tcp -p tcp --dport 2001 -j ACCEPT ``` And now you can communicate the new seed node to everyone. Please post your ip as a comment of that post so that I can update this link to use your seed as well :). Thank you for reading. If you liked this writeup, please consider voting for @steempress it's the witness that I co-manage with @fredrikaa: ![](https://i.imgur.com/oPJ63jA.png) You can vote for our witness directly using Hivesigner here. See: How to run a witness node on the hf25 testnet by @howo</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://files.peakd.com/file/peakd-hive/howo/23xe7eZsnrPcykgbjNqyAudjuQ8nfGfqRzVCpTShns5vRs2J9gcknbewso9v32YFhw54x.png" /><media:content medium="image" url="https://files.peakd.com/file/peakd-hive/howo/23xe7eZsnrPcykgbjNqyAudjuQ8nfGfqRzVCpTShns5vRs2J9gcknbewso9v32YFhw54x.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>